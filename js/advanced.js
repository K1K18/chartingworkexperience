/**
 *	8.1.0
 *	Generation date: 2020-10-27T13:25:08.657Z
 *	Client name: sonyl test
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2020/10/31"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com","codepen.io","codepen.plumbing","staging53.com","github.io"]
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
z7QQ[590448]=(function(){var E=2;for(;E !== 9;){switch(E){case 2:E=typeof globalThis === '\x6f\u0062\u006a\u0065\x63\u0074'?1:5;break;case 1:return globalThis;break;case 5:var M;try{var t=2;for(;t !== 6;){switch(t){case 3:throw "";t=9;break;case 4:t=typeof hl6Wz === '\u0075\x6e\x64\u0065\x66\u0069\x6e\x65\u0064'?3:9;break;case 9:delete M['\x68\u006c\x36\x57\u007a'];var D=Object['\u0070\x72\x6f\u0074\u006f\u0074\x79\u0070\u0065'];delete D['\x71\x6f\u0078\x31\x70'];t=6;break;case 2:Object['\u0064\u0065\x66\x69\u006e\u0065\u0050\x72\u006f\u0070\u0065\x72\u0074\x79'](Object['\u0070\x72\x6f\u0074\u006f\u0074\x79\u0070\u0065'],'\u0071\u006f\x78\u0031\x70',{'\x67\x65\x74':function(){var G=2;for(;G !== 1;){switch(G){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});M=qox1p;M['\u0068\x6c\u0036\u0057\u007a']=M;t=4;break;}}}catch(v){M=window;}return M;break;}}})();z7QQ[61447]=A633(z7QQ[590448]);z7QQ[71784]=e3II(z7QQ[590448]);z7QQ.I03=function(){return typeof z7QQ[292785].s03 === 'function'?z7QQ[292785].s03.apply(z7QQ[292785],arguments):z7QQ[292785].s03;};z7QQ.E9e=function(){return typeof z7QQ[122766].g7F === 'function'?z7QQ[122766].g7F.apply(z7QQ[122766],arguments):z7QQ[122766].g7F;};function A633(w9e){var I9e=2;for(;I9e !== 10;){switch(I9e){case 9:o9e[5]="G";o9e[1]=4;o9e[1]=1;o9e[3]=o9e[5];o9e[3]+=o9e[9];o9e[3]+=o9e[6];I9e=12;break;case 2:var o9e=[arguments];o9e[6]="";o9e[6]="3";o9e[9]="63";o9e[5]="";I9e=9;break;case 11:E6e(t6e,"charCodeAt",o9e[1],o9e[3]);I9e=10;break;case 12:var E6e=function(b9e,L9e,C9e,Q9e){var q9e=2;for(;q9e !== 5;){switch(q9e){case 2:var n9e=[arguments];M6e(o9e[0][0],n9e[0][0],n9e[0][1],n9e[0][2],n9e[0][3]);q9e=5;break;}}};I9e=11;break;}}function M6e(f9e,d9e,v9e,R9e,P9e){var g9e=2;for(;g9e !== 6;){switch(g9e){case 2:var p9e=[arguments];p9e[8]="";p9e[4]="ty";p9e[8]="r";g9e=3;break;case 3:p9e[5]="";p9e[5]="definePrope";p9e[3]=8;try{var Z9e=2;for(;Z9e !== 8;){switch(Z9e){case 1:p9e[1]=(1,p9e[0][1])(p9e[0][0]);p9e[2]=[p9e[3],p9e[1].prototype][p9e[0][3]];Z9e=4;break;case 2:p9e[6]={};Z9e=1;break;case 4:p9e[6].value=p9e[2][p9e[0][2]];try{var U9e=2;for(;U9e !== 3;){switch(U9e){case 2:p9e[7]=p9e[5];p9e[7]+=p9e[8];p9e[7]+=p9e[4];p9e[0][0].Object[p9e[7]](p9e[2],p9e[0][4],p9e[6]);U9e=3;break;}}}catch(G9e){}p9e[2][p9e[0][4]]=p9e[6].value;Z9e=8;break;}}}catch(O9e){}g9e=6;break;}}}function t6e(F9e){var H9e=2;for(;H9e !== 5;){switch(H9e){case 2:var z9e=[arguments];return z9e[0][0].String;break;}}}}z7QQ.J03=function(){return typeof z7QQ[292785].s03 === 'function'?z7QQ[292785].s03.apply(z7QQ[292785],arguments):z7QQ[292785].s03;};z7QQ.C03=function(){return typeof z7QQ[292785].G03 === 'function'?z7QQ[292785].G03.apply(z7QQ[292785],arguments):z7QQ[292785].G03;};z7QQ[292785]=(function(E03){return {s03:function(){var b03,u03=arguments;switch(E03){case 76:b03=u03[1] - u03[0] + +u03[2];break;case 19:b03=u03[1] + (u03[2] - u03[0]);break;case 13:b03=u03[1] + u03[0] * u03[2];break;case 14:b03=u03[2] - u03[1] * u03[0];break;case 66:b03=u03[2] - u03[1] / ((u03[3] | u03[4]) + u03[5] / u03[0]);break;case 80:b03=u03[2] - u03[3] * u03[1] - u03[0];break;case 83:b03=u03[0] + u03[2] / u03[3] + u03[1];break;case 73:b03=u03[0] % (u03[1] % u03[2]);break;case 62:b03=u03[2] / u03[1] - u03[0];break;case 82:b03=u03[0] == u03[1];break;case 60:b03=(u03[0] + u03[1]) * u03[2];break;case 11:b03=(u03[1] + u03[0] + u03[2] + u03[3]) / u03[4];break;case 30:b03=(u03[1] - u03[3]) / (u03[0] - u03[2]);break;case 49:b03=(u03[3] * u03[0] + u03[2]) / u03[1];break;case 81:b03=u03[1] + u03[3] * u03[2] + u03[0];break;case 7:b03=(u03[2] + u03[1]) / u03[0];break;case 34:b03=u03[0] + (u03[1] >> u03[2]);break;case 75:b03=u03[3] - u03[1] / (u03[2] + u03[0]);break;case 74:b03=u03[2] * (u03[1] + u03[0]);break;case 18:b03=u03[0] * u03[3] < (u03[1] ^ u03[2]);break;case 35:b03=+u03[0] / +u03[1];break;case 33:b03=(u03[5] - u03[6]) * (u03[0] - u03[2]) / (u03[3] - u03[4]) + u03[1];break;case 15:b03=u03[0] >> u03[1];break;case 72:b03=u03[0] > u03[1];break;case 79:b03=u03[1] * -u03[0];break;case 78:b03=u03[1] - u03[2] / (+u03[0] + u03[4] / u03[3]);break;case 37:b03=u03[3] + (u03[1] - u03[0]) / u03[2];break;case 12:b03=u03[0] * u03[1];break;case 0:b03=u03[1] << u03[0];break;case 67:b03=u03[2] * (u03[1] / u03[3] - u03[0]);break;case 36:b03=u03[2] / (u03[0] >> u03[1]);break;case 55:b03=u03[0] - u03[2] - u03[1];break;case 65:b03=u03[2] * u03[0] * u03[1];break;case 29:b03=u03[0] < u03[1];break;case 70:b03=(u03[1] % u03[0] + u03[2]) * u03[3];break;case 21:b03=(u03[2] + u03[1]) / +u03[0];break;case 3:b03=u03[2] - u03[1] + u03[0];break;case 77:b03=+u03[3] / (u03[2] + u03[0] % (u03[1] * u03[4]));break;case 9:b03=u03[0] + u03[2] - u03[1] - u03[3];break;case 10:b03=(u03[0] + u03[2]) / (u03[1] << u03[3]);break;case 6:b03=u03[0] / u03[1];break;case 84:b03=u03[3] + (u03[4] / u03[1] - u03[0] / u03[2]);break;case 58:b03=u03[1] * u03[2] / u03[0];break;case 16:b03=u03[1] - (u03[0] - u03[2]);break;case 61:b03=u03[6] * u03[3] * u03[5] + (u03[4] - u03[1] * u03[0]) * u03[2];break;case 43:b03=u03[2] * u03[0] + u03[1];break;case 63:b03=+u03[0] * u03[1];break;case 28:b03=u03[0] * u03[2] - u03[1];break;case 26:b03=u03[2] + u03[0] / u03[1];break;case 47:b03=(u03[3] - u03[1]) * u03[2] + u03[0];break;case 17:b03=(u03[1] - u03[0]) / u03[2];break;case 50:b03=(u03[0] + +u03[1] * u03[2]) / (u03[4] << u03[3]);break;case 20:b03=u03[2] * u03[1] - u03[0] - u03[3];break;case 68:b03=u03[2] + u03[1] * (u03[3] - u03[0]);break;case 57:b03=u03[2] + u03[3] + u03[1] + u03[0];break;case 45:b03=u03[2] + u03[1] + u03[0];break;case 31:b03=(u03[2] & u03[1]) / u03[0];break;case 25:b03=u03[0] + u03[1] / +u03[2];break;case 1:b03=u03[0] ^ u03[1];break;case 8:b03=u03[0] + u03[1] - u03[2];break;case 22:b03=u03[0] | u03[1];break;case 56:b03=(u03[2] - (u03[1] + u03[3] * u03[4])) / u03[0];break;case 5:b03=u03[3] - u03[0] + u03[2] + u03[1];break;case 53:b03=u03[0] + (u03[1] & u03[2]);break;case 23:b03=u03[0] & u03[1];break;case 46:b03=-(u03[1] - u03[3]) * u03[0] + u03[2];break;case 32:b03=(u03[0] ^ u03[2]) * u03[3] - u03[1];break;case 39:b03=u03[1] * (u03[3] + u03[2]) / +u03[0];break;case 48:b03=u03[4] + (u03[0] - u03[2]) / (u03[3] - u03[6]) * (u03[5] - u03[1]);break;case 51:b03=(u03[0] + u03[1] * u03[3]) / u03[2];break;case 54:b03=u03[5] + u03[1] + u03[7] + u03[6] + u03[0] + u03[2] + u03[3] + u03[4];break;case 24:b03=u03[0] - u03[1] / u03[2];break;case 2:b03=u03[0] + u03[1];break;case 71:b03=u03[0] / (u03[1] * u03[3]) <= u03[2];break;case 52:b03=u03[0] - +u03[1];break;case 69:b03=u03[1] - (u03[0] ^ u03[2]);break;case 44:b03=u03[0] - (u03[1] << u03[2]);break;case 42:b03=(u03[3] - u03[0] * u03[1]) / u03[2];break;case 27:b03=(u03[0] - u03[3]) / (u03[4] - u03[1]) > u03[2];break;case 40:b03=u03[4] * (u03[2] * u03[0] + u03[1]) / u03[3];break;case 59:b03=u03[1] + +u03[0];break;case 64:b03=u03[2] * u03[1] / (u03[3] + u03[0]);break;case 38:b03=u03[2] - u03[3] * (u03[1] - u03[0]);break;case 41:b03=(u03[1] * u03[4] - u03[5] * u03[3]) / (u03[0] * u03[2] - u03[6]);break;case 4:b03=u03[0] - u03[1];break;}return b03;},G03:function(Y03){E03=Y03;}};})();function z7QQ(){}z7QQ.k6D=function(){return typeof z7QQ[455803].a0d === 'function'?z7QQ[455803].a0d.apply(z7QQ[455803],arguments):z7QQ[455803].a0d;};z7QQ.T6D=function(){return typeof z7QQ[455803].a0d === 'function'?z7QQ[455803].a0d.apply(z7QQ[455803],arguments):z7QQ[455803].a0d;};z7QQ[574850]=true;z7QQ[122766]=(function(){var E7F=function(B7F,c7F){var h7F=c7F & 0xffff;var y7F=c7F - h7F;return (y7F * B7F | 0) + (h7F * B7F | 0) | 0;},Y7F=function(J7F,T7F,o7F){var i7F=0xcc9e2d51,s7F=0x1b873593;var I7F=o7F;var H7F=T7F & ~0x3;for(var S7F=0;S7F < H7F;S7F+=4){var t7F=J7F.G633(S7F) & 0xff | (J7F.G633(S7F + 1) & 0xff) << 8 | (J7F.G633(S7F + 2) & 0xff) << 16 | (J7F.G633(S7F + 3) & 0xff) << 24;t7F=E7F(t7F,i7F);t7F=(t7F & 0x1ffff) << 15 | t7F >>> 17;t7F=E7F(t7F,s7F);I7F^=t7F;I7F=(I7F & 0x7ffff) << 13 | I7F >>> 19;I7F=I7F * 5 + 0xe6546b64 | 0;}t7F=0;switch(T7F % 4){case 3:t7F=(J7F.G633(H7F + 2) & 0xff) << 16;case 2:t7F|=(J7F.G633(H7F + 1) & 0xff) << 8;case 1:t7F|=J7F.G633(H7F) & 0xff;t7F=E7F(t7F,i7F);t7F=(t7F & 0x1ffff) << 15 | t7F >>> 17;t7F=E7F(t7F,s7F);I7F^=t7F;}I7F^=T7F;I7F^=I7F >>> 16;I7F=E7F(I7F,0x85ebca6b);I7F^=I7F >>> 13;I7F=E7F(I7F,0xc2b2ae35);I7F^=I7F >>> 16;return I7F;};return {g7F:Y7F};})();z7QQ.g03=function(){return typeof z7QQ[292785].G03 === 'function'?z7QQ[292785].G03.apply(z7QQ[292785],arguments):z7QQ[292785].G03;};function e3II(z6D){function D0D(r6D){var J6D=2;for(;J6D !== 5;){switch(J6D){case 2:var H6D=[arguments];return H6D[0][0].Function;break;}}}function c0D(N6D,o6D,X6D,p6D,f6D){var t6D=2;for(;t6D !== 7;){switch(t6D){case 8:try{var h6D=2;for(;h6D !== 8;){switch(h6D){case 2:K6D[9]={};K6D[7]=(1,K6D[0][1])(K6D[0][0]);K6D[3]=[K6D[7],K6D[7].prototype][K6D[0][3]];K6D[9].value=K6D[3][K6D[0][2]];try{var s6D=2;for(;s6D !== 3;){switch(s6D){case 4:K6D[0][0].Object[K6D[6]](K6D[3],K6D[0][4],K6D[9]);s6D=3;break;case 2:K6D[6]=K6D[1];K6D[6]+=K6D[5];K6D[6]+=K6D[2];s6D=4;break;}}}catch(N0D){}h6D=9;break;case 9:K6D[3][K6D[0][4]]=K6D[9].value;h6D=8;break;}}}catch(o0D){}t6D=7;break;case 2:var K6D=[arguments];K6D[2]="y";K6D[5]="";K6D[5]="finePropert";K6D[1]="";K6D[1]="de";t6D=8;break;}}}var S6D=2;for(;S6D !== 73;){switch(S6D){case 3:b6D[4]="__res";b6D[3]="";b6D[3]="V";b6D[2]="";S6D=6;break;case 6:b6D[7]="imize";b6D[2]="";b6D[9]="idu";b6D[2]="opt";b6D[1]="";b6D[1]="__";S6D=20;break;case 20:b6D[5]="";b6D[6]="II";b6D[17]="3I";b6D[5]="g3";S6D=16;break;case 56:M0D(y0D,b6D[59],b6D[64],b6D[32]);S6D=55;break;case 50:b6D[23]+=b6D[17];b6D[23]+=b6D[90];b6D[34]=b6D[43];b6D[34]+=b6D[70];S6D=46;break;case 54:b6D[54]=b6D[5];b6D[54]+=b6D[90];b6D[54]+=b6D[90];b6D[23]=b6D[63];S6D=50;break;case 76:M0D(j0D,"push",b6D[89],b6D[54]);S6D=75;break;case 21:b6D[10]="";b6D[10]="";b6D[10]="t3";b6D[90]="I";S6D=32;break;case 63:b6D[32]=b6D[3];b6D[32]+=b6D[70];b6D[32]+=b6D[6];b6D[59]=b6D[4];S6D=59;break;case 16:b6D[51]="stract";b6D[43]="w";b6D[70]="3";b6D[63]="J";S6D=25;break;case 77:M0D(Q0D,"test",b6D[89],b6D[23]);S6D=76;break;case 25:b6D[42]="";b6D[42]="b";b6D[53]="";b6D[53]="__a";S6D=21;break;case 2:var b6D=[arguments];b6D[4]="";b6D[4]="";b6D[8]="al";S6D=3;break;case 28:b6D[64]=0;b6D[39]=b6D[20];b6D[39]+=b6D[90];b6D[39]+=b6D[90];b6D[50]=b6D[10];b6D[50]+=b6D[90];S6D=39;break;case 74:M0D(D0D,"apply",b6D[89],b6D[39]);S6D=73;break;case 46:b6D[34]+=b6D[6];b6D[96]=b6D[1];b6D[96]+=b6D[2];b6D[96]+=b6D[7];S6D=63;break;case 32:b6D[20]="";b6D[20]="c3";b6D[89]=8;b6D[89]=1;S6D=28;break;case 57:var M0D=function(x6D,q6D,C6D,P6D){var R6D=2;for(;R6D !== 5;){switch(R6D){case 2:var L6D=[arguments];c0D(b6D[0][0],L6D[0][0],L6D[0][1],L6D[0][2],L6D[0][3]);R6D=5;break;}}};S6D=56;break;case 39:b6D[50]+=b6D[90];b6D[55]=b6D[53];b6D[55]+=b6D[42];b6D[55]+=b6D[51];S6D=54;break;case 59:b6D[59]+=b6D[9];b6D[59]+=b6D[8];S6D=57;break;case 55:M0D(y0D,b6D[96],b6D[64],b6D[34]);S6D=77;break;case 75:M0D(y0D,b6D[55],b6D[64],b6D[50]);S6D=74;break;}}function Q0D(v6D){var B6D=2;for(;B6D !== 5;){switch(B6D){case 2:var Y6D=[arguments];return Y6D[0][0].RegExp;break;}}}function y0D(i6D){var I6D=2;for(;I6D !== 5;){switch(I6D){case 2:var V6D=[arguments];return V6D[0][0];break;}}}function j0D(E6D){var m6D=2;for(;m6D !== 5;){switch(m6D){case 2:var U6D=[arguments];return U6D[0][0].Array;break;}}}}z7QQ[455803]=(function(){var d6D=2;for(;d6D !== 9;){switch(d6D){case 2:var O6D=[arguments];d6D=1;break;case 1:O6D[1]=undefined;O6D[7]={};O6D[7].a0d=function(){var G6D=2;for(;G6D !== 90;){switch(G6D){case 36:W6D[77]=W6D[12];W6D[2].g3II(W6D[44]);W6D[2].g3II(W6D[52]);G6D=52;break;case 67:O6D[1]=15;return 75;break;case 13:W6D[1].L03=function(){var H0d=typeof w3II === 'function';return H0d;};W6D[3]=W6D[1];W6D[4]={};G6D=10;break;case 77:W6D[37]=0;G6D=76;break;case 71:W6D[37]++;G6D=76;break;case 61:W6D[24]='K03';W6D[42]='L03';W6D[91]='Q03';G6D=58;break;case 52:W6D[2].g3II(W6D[59]);W6D[2].g3II(W6D[77]);W6D[2].g3II(W6D[3]);W6D[2].g3II(W6D[8]);G6D=48;break;case 30:W6D[70]={};W6D[70].P03=['T03'];W6D[70].L03=function(){var P7d=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var r7d=!(/\u0028\u005b/).J3II(P7d + []);return r7d;};G6D=44;break;case 75:W6D[85]={};W6D[85][W6D[91]]=W6D[72][W6D[41]][W6D[37]];G6D=73;break;case 65:W6D[80]=[];W6D[25]='a03';W6D[20]='V03';W6D[41]='P03';G6D=61;break;case 69:G6D=(function(u6D){var F6D=2;for(;F6D !== 22;){switch(F6D){case 24:n6D[9]++;F6D=16;break;case 18:n6D[2]=false;F6D=17;break;case 14:F6D=typeof n6D[3][n6D[5][W6D[91]]] === 'undefined'?13:11;break;case 4:n6D[3]={};n6D[8]=[];n6D[9]=0;F6D=8;break;case 17:n6D[9]=0;F6D=16;break;case 11:n6D[3][n6D[5][W6D[91]]].t+=true;F6D=10;break;case 2:var n6D=[arguments];F6D=1;break;case 16:F6D=n6D[9] < n6D[8].length?15:23;break;case 20:n6D[3][n6D[5][W6D[91]]].h+=true;F6D=19;break;case 23:return n6D[2];break;case 25:n6D[2]=true;F6D=24;break;case 1:F6D=n6D[0][0].length === 0?5:4;break;case 26:F6D=n6D[1] >= 0.5?25:24;break;case 10:F6D=n6D[5][W6D[24]] === W6D[25]?20:19;break;case 6:n6D[5]=n6D[0][0][n6D[9]];F6D=14;break;case 5:return;break;case 8:n6D[9]=0;F6D=7;break;case 15:n6D[6]=n6D[8][n6D[9]];n6D[1]=n6D[3][n6D[6]].h / n6D[3][n6D[6]].t;F6D=26;break;case 13:n6D[3][n6D[5][W6D[91]]]=(function(){var Z6D=2;for(;Z6D !== 9;){switch(Z6D){case 2:var g6D=[arguments];g6D[2]={};g6D[2].h=0;g6D[2].t=0;Z6D=3;break;case 3:return g6D[2];break;}}}).c3II(this,arguments);F6D=12;break;case 7:F6D=n6D[9] < n6D[0][0].length?6:18;break;case 12:n6D[8].g3II(n6D[5][W6D[91]]);F6D=11;break;case 19:n6D[9]++;F6D=7;break;}}})(W6D[80])?68:67;break;case 21:W6D[30].L03=function(){var u0d=false;var a7d=[];try{for(var G7d in console){a7d.g3II(G7d);}u0d=a7d.length === 0;}catch(E7d){}var n7d=u0d;return n7d;};W6D[39]=W6D[30];W6D[73]={};W6D[73].P03=['T03'];W6D[73].L03=function(){var N7d=function(){var s7d=function(K7d){for(var R7d=0;R7d < 20;R7d++){K7d+=R7d;}return K7d;};s7d(2);};var b7d=(/\u0031\u0039\u0032/).J3II(N7d + []);return b7d;};W6D[59]=W6D[73];G6D=30;break;case 41:W6D[22].L03=function(){var U7d=typeof t3II === 'function';return U7d;};W6D[88]=W6D[22];W6D[12]={};W6D[12].P03=['T03'];W6D[12].L03=function(){var S7d=function(){return String.fromCharCode(0x61);};var i7d=!(/\u0030\x78\u0036\u0031/).J3II(S7d + []);return i7d;};G6D=36;break;case 57:G6D=W6D[67] < W6D[2].length?56:69;break;case 56:W6D[72]=W6D[2][W6D[67]];try{W6D[31]=W6D[72][W6D[42]]()?W6D[25]:W6D[20];}catch(V7d){W6D[31]=W6D[20];}G6D=77;break;case 44:W6D[52]=W6D[70];W6D[22]={};W6D[22].P03=['j93'];G6D=41;break;case 8:W6D[7].L03=function(){var z0d=typeof V3II === 'function';return z0d;};W6D[5]=W6D[7];W6D[1]={};W6D[1].P03=['j93'];G6D=13;break;case 17:W6D[6].P03=['T03'];W6D[6].L03=function(){var Y0d=function(){return ('aaaa|a').substr(0,3);};var L0d=!(/\u007c/).J3II(Y0d + []);return L0d;};W6D[8]=W6D[6];W6D[34]={};G6D=26;break;case 70:W6D[67]++;G6D=57;break;case 26:W6D[34].P03=['T03'];W6D[34].L03=function(){var A0d=function(){return [] + ('a').concat('a');};var p0d=!(/\u005b\x5d/).J3II(A0d + []) && (/\x61\x61/).J3II(A0d + []);return p0d;};W6D[44]=W6D[34];W6D[30]={};W6D[30].P03=['j93'];G6D=21;break;case 2:var W6D=[arguments];G6D=1;break;case 10:W6D[4].P03=['T03'];W6D[4].L03=function(){var B0d=function(){return ('aa').lastIndexOf('a');};var f0d=(/\x31/).J3II(B0d + []);return f0d;};W6D[9]=W6D[4];W6D[6]={};G6D=17;break;case 4:W6D[2]=[];W6D[7]={};G6D=9;break;case 48:W6D[2].g3II(W6D[39]);W6D[2].g3II(W6D[5]);W6D[2].g3II(W6D[9]);W6D[2].g3II(W6D[88]);G6D=65;break;case 68:G6D=89?68:67;break;case 5:return 54;break;case 73:W6D[85][W6D[24]]=W6D[31];W6D[80].g3II(W6D[85]);G6D=71;break;case 58:W6D[67]=0;G6D=57;break;case 76:G6D=W6D[37] < W6D[72][W6D[41]].length?75:70;break;case 9:W6D[7].P03=['j93'];G6D=8;break;case 1:G6D=O6D[1]?5:4;break;}}};return O6D[7];break;}}})();z7QQ[272651]=true;z7QQ[465952]=false;z7QQ.N9e=function(){return typeof z7QQ[122766].g7F === 'function'?z7QQ[122766].g7F.apply(z7QQ[122766],arguments):z7QQ[122766].g7F;};z7QQ[590448].k9HH=z7QQ;var A1oo,L1T,Y1T,K1T,A1T,w1T,J1T,s1T,c1T,n1T,V1T,U1T,x1T,X1T,y1T,r1T,H1T,d1T,P1T,D1T,Q1T,N1T,G1T,e1T,I1T,q1T,j1T,S1T,W1T,k1T,F1T,l1T,B1T,R1T,u1T,Z1T,m1T,O1T,T1T,p1T,o1T,a1T,M0g,b0g,i0g,E0g,z0g,f0g,t0g,h0g,C0g,v0g,g0g,L0g,Y0g,K0g,A0g,w0g,J0g,s0g,c0g,n0g,V0g,U0g,x0g,X0g,y0g,r0g,H0g,N0g;A1oo="un";A1oo+="defined";import {CIQ as g1T, SplinePlotter as d0g, timezoneJS as P0g, $$ as D0g, $$$ as Q0g} from "../js/standard.js";L1T=e0g=>{var P0L,G0g;P0L="undefine";P0L+="d";G0g=typeof _CIQ !== P0L?_CIQ:e0g.CIQ;G0g.Renderer.Aggregations=function(q0g){var I0g,I0L;z7QQ.k6D();this.construct(q0g);I0g=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;I0g.highlightable=!{};if(I0g.name != "_main_series"){I0L="Aggregations are only allowed on ";I0L+="main series.";console.warn(I0L);I0g.invalid=! !1;}};G0g.inheritsFrom(G0g.Renderer.Aggregations,G0g.Renderer.OHLC,![]);G0g.Renderer.Aggregations.requestNew=function(k0g,F0g){var Z0L,g0L,j0g,l0g,B0g,R0g,u0g,Z0g,H0L,q0L,W0g;Z0L="O";Z0L+="HL";Z0L+="C";g0L="can";g0L+="dl";g0L+="e";j0g=null;l0g=!{};B0g=!{};R0g=! !"";u0g=! !0;Z0g=! !0;for(var S0g=0;S0g < k0g.length;S0g++){H0L="li";H0L+="n";H0L+="ebreak";q0L="k";q0L+="ag";q0L+="i";W0g=k0g[S0g];switch(W0g){case q0L:case "pandf":j0g=W0g;break;case "heikinashi":case H0L:case "rangebars":case "renko":j0g="candle";break;default:return null;}}z7QQ.T6D();if(j0g === null){return null;}return new G0g.Renderer[j0g == g0L?Z0L:"Aggregations"]({params:G0g.extend(F0g,{type:j0g})});};G0g.Renderer.Aggregations.prototype.drawIndividualSeries=function(p0g,O0g){var m0g,T0g,U0L,N0L,j0L;if(O0g.invalid){return;}z7QQ.T6D();m0g=this.stx;T0g={colors:[]};if(O0g.type == "kagi"){U0L="stx_k";U0L+="agi_";U0L+="up";m0g.drawKagiSquareWave(p0g.panel,"stx_kagi_up","stx_kagi_down",O0g);T0g.colors.push(m0g.getCanvasColor(U0L));T0g.colors.push(m0g.getCanvasColor("stx_kagi_down"));}else if(O0g.type == "pandf"){N0L="stx_p";N0L+="and";N0L+="f_do";N0L+="wn";j0L="s";j0L+="tx_pandf_up";m0g.drawPointFigureChart(p0g.panel,j0L,"X",O0g);T0g.colors.push(m0g.getCanvasColor("stx_pandf_up"));m0g.drawPointFigureChart(p0g.panel,"stx_pandf_down",537.56 > 307?"O":(8463,+"958.29") != (1830,5483)?(+"0x1cc7",+"7.49e+3"):(+"8.16e+3",0x19d4),O0g);T0g.colors.push(m0g.getCanvasColor(N0L));}return T0g;};G0g.ChartEngine.prototype.setAggregationType=function(a0g){var o0g;z7QQ.T6D();this.layout.chartType="candle";o0g=this.chart;if(o0g.baseline.userLevel !== !"1"){o0g.baseline.userLevel=o0g.baseline.defaultLevel;o0g.panel.yAxis.scroll=G0g.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=a0g;this.setMainSeriesRenderer();if(o0g.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};G0g.ChartEngine.prototype.drawKagiSquareWave=function(h4g,g4g,L4g,Y4g){var D5D=z7QQ;var t4g,K4g,M4g,b4g,X4g,A4g,w4g,c4g,n4g,J4g,s4g,V4g,U4g,z4g,y4g,v4g,f4g,E4g,r4g,i4g,x4g;t4g=h4g.chart;this.startClip(h4g.name);K4g=t4g.dataSegment;M4g=t4g.context;b4g=h4g.yAxis;if(b4g.flipped){X4g=g4g;g4g=L4g;L4g=X4g;}A4g=this.canvasStyle(g4g);w4g=this.canvasStyle(L4g);this.canvasColor(g4g);if(Y4g.border_color_up){M4g.strokeStyle=Y4g.border_color_up;}c4g=M4g.strokeStyle;this.canvasColor(L4g);if(Y4g.border_color_down){M4g.strokeStyle=Y4g.border_color_down;}n4g=M4g.strokeStyle;J4g=1;if(A4g.width && parseInt(A4g.width,10) <= 25){D5D.g03(0);J4g=Math.max(D5D.I03(270165216,"1"),G0g.stripPX(A4g.width));}D5D.C03(1);s4g=D5D.I03("1",0);if(w4g.width && parseInt(w4g.width,10) <= 25){s4g=Math.max(1,G0g.stripPX(w4g.width));}if(this.highlightedDraggable){M4g.globalAlpha*=0.3;}M4g.beginPath();V4g=t4g.dataSet.length - t4g.scroll - 1;U4g=! ![];z4g=null;D5D.T6D();y4g=null;v4g=null;f4g=h4g.left - ("0.5" - 0) * this.layout.candleWidth + this.micropixels - 1;for(var C4g=0;C4g <= K4g.length;C4g++){f4g+=this.layout.candleWidth;E4g=K4g[C4g];if(!E4g)continue;if(E4g.projection)break;v4g=E4g.kagiTrend;if(b4g.flipped){v4g*=-1;}if(E4g.transform && t4g.transformFunc){r4g=E4g.kagiPrevOpen;E4g=E4g.transform;E4g.kagiPrevOpen=t4g.transformFunc(this,t4g,r4g);}i4g=E4g.cache;D5D.C03(2);x4g=D5D.J03(V4g,C4g);if(x4g < h4g.cacheLeft || x4g > h4g.cacheRight || !i4g.kagiOpen){i4g.kagiOpen=b4g.semiLog?b4g.height * (1 - (Math.log(Math.max(E4g.Open,+"0")) / Math.LN10 - b4g.logLow) / b4g.logShadow):(b4g.high - E4g.Open) * b4g.multiplier;i4g.kagiClose=b4g.semiLog?b4g.height * (1 - (Math.log(Math.max(E4g.Close,+"0")) / Math.LN10 - b4g.logLow) / b4g.logShadow):(b4g.high - E4g.Close) * b4g.multiplier;if(b4g.flipped){i4g.kagiOpen=b4g.bottom - i4g.kagiOpen;i4g.kagiClose=b4g.bottom - i4g.kagiClose;}else {i4g.kagiOpen+=b4g.top;i4g.kagiClose+=b4g.top;}}y4g=i4g.kagiClose;z4g=b4g.semiLog?b4g.height * (1 - (Math.log(Math.max(E4g.kagiPrevOpen,"0" >> 616003328)) / Math.LN10 - b4g.logLow) / b4g.logShadow):(b4g.high - E4g.kagiPrevOpen) * b4g.multiplier;if(b4g.flipped){z4g=b4g.bottom - z4g;}else {z4g+=b4g.top;}if(U4g){M4g.moveTo(V4g >= +"0"?h4g.left:Math.floor(f4g),i4g.kagiOpen);M4g.lineTo(Math.floor(f4g),i4g.kagiOpen);if(i4g.kagiClose < i4g.kagiOpen){M4g.strokeStyle=c4g;M4g.lineWidth=J4g;}else {M4g.strokeStyle=n4g;M4g.lineWidth=s4g;}}else {if(v4g != -("1" - 0) && i4g.kagiClose < z4g && z4g < i4g.kagiOpen){M4g.lineTo(Math.floor(f4g),z4g);M4g.stroke();M4g.beginPath();M4g.moveTo(Math.floor(f4g),z4g);M4g.strokeStyle=c4g;M4g.lineWidth=J4g;}else if(v4g != 1 && i4g.kagiClose > z4g && z4g > i4g.kagiOpen){M4g.lineTo(Math.floor(f4g),z4g);M4g.stroke();M4g.beginPath();M4g.moveTo(Math.floor(f4g),z4g);M4g.strokeStyle=n4g;M4g.lineWidth=s4g;}}M4g.lineTo(Math.floor(f4g),i4g.kagiClose);if(C4g + 1 < K4g.length){M4g.lineTo(Math.floor(f4g + this.layout.candleWidth),i4g.kagiClose);}U4g=! !"";}M4g.stroke();this.endClip();M4g.lineWidth=1;};G0g.ChartEngine.prototype.drawPointFigureChart=function(j4g,i7g,S4g,m4g){var c5D=z7QQ;var N4g,o4g,d4g,G4g,e4g,W4g,l4g,B4g,a4g,f7g,H4g,M7g,I4g,P4g,D4g,O4g,T4g,Q4g,k4g,F4g,t7g,p4g,q4g,b7g,u4g,Z4g;N4g=j4g.chart;this.startClip(j4g.name);o4g=N4g.dataSegment;d4g=N4g.context;this.canvasColor(i7g);if(S4g == (1490 !== +"8988"?"115.75" * 1 <= (999.05,2640)?"X":7235 === 667?(!0,"o"):(!{},"Q"):2.44e+3) && m4g.border_color_up){d4g.strokeStyle=m4g.border_color_up;}else if(S4g == (958.48 !== (+"7339",5383)?(3651,7780) !== (7370,+"1010")?"O":(5020,8908) <= 1660?(+"0x2544",676.96):(5.78e+3,"l"):"x") && m4g.border_color_down){d4g.strokeStyle=m4g.border_color_down;}G4g=this.canvasStyle(i7g);function E7g(C7g,v7g,h7g){c5D.C03(2);d4g.moveTo(c5D.J03(C7g,l4g),c5D.J03(D4g,W4g,h7g,c5D.g03(3)));c5D.C03(4);d4g.lineTo(c5D.I03(v7g,B4g),c5D.I03(P4g,D4g,e4g,h7g,c5D.C03(5)));c5D.T6D();c5D.C03(2);d4g.moveTo(c5D.J03(C7g,l4g),c5D.J03(P4g,D4g,e4g,h7g,c5D.C03(5)));c5D.g03(4);d4g.lineTo(c5D.J03(v7g,B4g),c5D.J03(D4g,W4g,h7g,c5D.g03(3)));}e4g=parseInt(G4g.paddingTop,10);c5D.T6D();W4g=parseInt(G4g.paddingBottom,10);l4g=parseInt(G4g.paddingLeft,+"10");B4g=parseInt(G4g.paddingRight,10);if(G4g.width && parseInt(G4g.width,10) <= 25){d4g.lineWidth=Math.max(1,G0g.stripPX(G4g.width));}else {d4g.lineWidth=2;}if(this.highlightedDraggable){d4g.globalAlpha*=0.3;}d4g.beginPath();a4g=this.chart.state.aggregation.box;f7g=N4g.dataSet.length - N4g.scroll - 1;H4g=j4g.yAxis;P4g=a4g * H4g.multiplier;c5D.C03(6);D4g=c5D.J03(P4g,2);O4g=this.layout.candleWidth;T4g=j4g.left - O4g + this.micropixels - 1;for(var R4g=0;R4g < o4g.length;R4g++){T4g+=O4g;Q4g=o4g[R4g];if(!Q4g)continue;if(Q4g.projection)break;k4g=Q4g.pfOpen;F4g=Q4g.pfClose;t7g=Q4g.pfTrend;p4g=Q4g.pfStepBack;if(Q4g.transform && N4g.transformFunc){Q4g=Q4g.transform;k4g=N4g.transformFunc(this,N4g,k4g);F4g=N4g.transformFunc(this,N4g,F4g);}q4g=Q4g.cache;c5D.C03(2);b7g=c5D.J03(f7g,R4g);if(b7g < j4g.cacheLeft || b7g > j4g.cacheRight || !q4g.pfOpen){if(H4g.flipped){q4g.pfOpen=H4g.bottom - (H4g.high - k4g) * H4g.multiplier;q4g.pfClose=H4g.bottom - (H4g.high - F4g) * H4g.multiplier;}else {q4g.pfOpen=(H4g.high - k4g) * H4g.multiplier + H4g.top;q4g.pfClose=(H4g.high - F4g) * H4g.multiplier + H4g.top;}}u4g=Math.round(T4g);c5D.C03(2);Z4g=Math.round(c5D.I03(T4g,O4g));M7g=Math.abs(Math.round((F4g - k4g) / a4g));I4g=q4g.pfOpen;if(S4g == p4g){if(p4g == ("5900" * 1 <= (1702,251.59)?("2.50e+3" << 770139264,!{}):"X")){c5D.g03(4);E7g(u4g,Z4g,c5D.J03(I4g,P4g));}else if(p4g == ((6423,3020) > 6420?"768.25" - 0:(7080,+"6707") > "7275" - 0?(0x1e82,28.87):"O")){c5D.C03(2);z7g(u4g,Z4g,c5D.I03(I4g,P4g));}}if(S4g == t7g){for(;M7g >= +"0";M7g--){if(S4g == ((5802,958.35) === 8723?714.75 !== (53.67,7439)?(4552,"47" >> 1623268032) <= (7194,6841)?305:3.07e+3:("p","127.69" - 0):"X")){E7g(u4g,Z4g,I4g,P4g,D4g);I4g-=H4g.flipped?-P4g:P4g;}else if(S4g == (5577 === (5264,490.23)?! !{}:"O")){z7g(u4g,Z4g,I4g,P4g,D4g);I4g+=H4g.flipped?-P4g:P4g;}}}}d4g.stroke();this.endClip();function z7g(L7g,Y7g,g7g){c5D.g03(7);d4g.moveTo(c5D.J03(2,Y7g,L7g),c5D.I03(g7g,e4g,D4g,c5D.C03(8)));c5D.g03(2);d4g.bezierCurveTo(c5D.J03(Y7g,B4g),c5D.I03(g7g,e4g,D4g,c5D.C03(8)),c5D.I03(Y7g,B4g,c5D.C03(2)),c5D.I03(g7g,W4g,P4g,D4g,c5D.g03(9)),c5D.J03(L7g,"2",Y7g,400276768,c5D.g03(10)),c5D.J03(g7g,W4g,P4g,D4g,c5D.C03(9)));c5D.C03(4);d4g.bezierCurveTo(c5D.I03(L7g,l4g),c5D.J03(g7g,W4g,P4g,D4g,c5D.C03(9)),c5D.I03(L7g,l4g,c5D.C03(4)),c5D.I03(g7g,e4g,D4g,c5D.C03(8)),c5D.J03(2,Y7g,L7g,c5D.C03(7)),c5D.I03(g7g,e4g,D4g,c5D.g03(8)));}d4g.lineWidth=1;};G0g.ChartEngine.calculateAggregation=function(K7g,w7g,J7g,s7g){var t0L,D0L,E0L,A7g,c7g;t0L="pand";t0L+="f";D0L="h";D0L+="eike";D0L+="nashi";E0L="hei";E0L+="ki";z7QQ.k6D();E0L+="nashi";c7g=K7g.layout;if([E0L,D0L].indexOf(w7g) > -1){A7g=G0g.calculateHeikinAshi(K7g,J7g,s7g);}else if(w7g == "rangebars"){A7g=G0g.calculateRangeBars(K7g,J7g,c7g.rangebars,s7g);}else if(w7g == "kagi"){A7g=G0g.calculateKagi(K7g,J7g,c7g.kagi,s7g);}else if(w7g == "linebreak"){A7g=G0g.calculateLineBreak(K7g,J7g,c7g.priceLines,s7g);}else if(w7g == "renko"){A7g=G0g.calculateRenkoBars(K7g,J7g,c7g.renko,s7g);}else if(w7g == t0L){A7g=G0g.calculatePointFigure(K7g,J7g,c7g.pandf,s7g);}return A7g;};G0g.calculateHeikinAshi=function(I7g,Q7g,N7g){var r7g,n7g,V7g,d7g,X7g,U7g,x7g,y7g,G7g,e7g,P7g;if(!Q7g.length){return Q7g;}if(!N7g){N7g=[];}r7g=[];for(var H7g=0;H7g < Q7g.length;H7g++){n7g=Q7g[H7g];if(!n7g)continue;V7g=r7g[r7g.length - 1];if(!V7g && !H7g){V7g=N7g[N7g.length - 1];}if(!V7g){V7g=n7g;}d7g=n7g.Close;X7g=n7g.Open;U7g=n7g.High;x7g=n7g.Low;y7g=V7g.Open;X7g=X7g || X7g === 0?X7g:d7g;U7g=U7g || U7g === 0?U7g:d7g;x7g=x7g || x7g === 0?x7g:d7g;y7g=y7g || y7g === 0?y7g:V7g.Close;G7g=(y7g + V7g.Close) / 2;z7QQ.C03(11);e7g=z7QQ.J03(U7g,X7g,x7g,d7g,4);P7g={DT:n7g.DT,displayDate:n7g.displayDate,Date:n7g.Date,Open:G7g,Close:e7g,High:Math.max(U7g,Math.max(G7g,e7g)),Low:Math.min(x7g,Math.min(G7g,e7g)),Volume:n7g.Volume,iqPrevClose:V7g.Close};for(var D7g in n7g){if(!P7g[D7g] && P7g[D7g] !== 0){P7g[D7g]=n7g[D7g];}}r7g.push(P7g);}return r7g;};G0g.calculateKagi=function(m7g,k7g,W7g,u7g){var Z7g,B7g,l7g,q7g,T7g,S7g,O7g,j7g;if(!k7g.length){return k7g;}if(!u7g){u7g=[];}Z7g=m7g.layout;B7g=m7g.chart;W7g=parseFloat(W7g);B7g.defaultChartStyleConfig.kagi=G0g.ChartEngine.isDailyInterval(Z7g.interval)?4:0.4;if(isNaN(W7g) || W7g <= +"0"){W7g=B7g.defaultChartStyleConfig.kagi;if(G0g.Market.Symbology.isForexSymbol(B7g.symbol)){W7g/=4;}if(Z7g.kagi !== null){Z7g.kagi=null;m7g.changeOccurred("layout");}}W7g/=100;l7g=[];q7g=u7g[u7g.length - 1];T7g=q7g?q7g.DT:0;for(var F7g=0;F7g < k7g.length;F7g++){S7g=k7g[F7g];if(!S7g)continue;if(!q7g){z7QQ.g03(4);q7g=k7g[z7QQ.J03(F7g,1)];}if(!q7g)continue;O7g=q7g.Open || q7g.Open === 0?q7g.Open:q7g.Close;if(O7g > q7g.Close){if(S7g.Close > q7g.Close * (1 + W7g)){S7g.Open=q7g.Close;}else {if(q7g.Close > S7g.Close){q7g.Close=S7g.Close;}q7g.Volume+=S7g.Volume;if(F7g < k7g.length - 1)continue;}}else if(O7g < q7g.Close){if(S7g.Close < q7g.Close * (1 - W7g)){S7g.Open=q7g.Close;}else {if(q7g.Close < S7g.Close){q7g.Close=S7g.Close;}q7g.Volume+=S7g.Volume;if(F7g < k7g.length - 1)continue;}}else {q7g.Close=S7g.Close;q7g.Volume+=S7g.Volume;if(F7g < k7g.length - 1)continue;}j7g={DT:q7g.DT,displayDate:q7g.displayDate,Date:q7g.Date,Open:q7g.Open,Close:q7g.Close,High:Math.max(q7g.Open,q7g.Close),Low:Math.min(q7g.Open,q7g.Close),Volume:q7g.Volume,iqPrevClose:q7g.iqPrevClose};for(var R7g in q7g){if(!j7g[R7g] && j7g[R7g] !== "0" >> 866701152){j7g[R7g]=q7g[R7g];}}if(l7g.length){j7g.kagiPrevOpen=l7g[l7g.length - 1].Open;}else {j7g.kagiPrevOpen=j7g.Open;}if(j7g.Close > j7g.kagiPrevOpen && j7g.kagiPrevOpen > j7g.Open){j7g.kagiTrend=1;}else if(j7g.Close < j7g.kagiPrevOpen && j7g.kagiPrevOpen < j7g.Open){j7g.kagiTrend=-1;}if(T7g < j7g.DT){l7g.push(j7g);}q7g=S7g;B7g.currentQuote={Close:S7g.Close};}z7QQ.T6D();return l7g;};G0g.calculateLineBreak=function(A8g,v8g,a7g,w8g){var g8g,L8g,F0L,f0L,d0L,M8g,J8g,Y8g,p7g,b8g,i8g,f8g,t8g,E8g,o7g,z8g,h8g;if(!v8g.length){return v8g;}if(!w8g){w8g=[];}z7QQ.k6D();g8g=A8g.layout;L8g=A8g.chart;L8g.defaultChartStyleConfig.priceLines=3;a7g=parseInt(a7g,10);if(isNaN(a7g) || a7g <= +"0"){a7g=L8g.defaultChartStyleConfig.priceLines;if(g8g.priceLines !== null){g8g.priceLines=null;A8g.changeOccurred("layout");}}else if(a7g > 10){F0L=+"1517272254";f0L=- +"1478077617";d0L=2;for(var R0L=1;z7QQ.E9e(R0L.toString(),R0L.toString().length,94066) !== F0L;R0L++){g8g.priceLines=a7g=80;d0L+=2;}if(z7QQ.N9e(d0L.toString(),d0L.toString().length,238) !== f0L){g8g.priceLines=a7g=10;}}M8g=w8g.slice(-a7g);J8g=M8g.length;Y8g=0;a:for(var K8g=+"0";K8g < v8g.length;K8g++){p7g=v8g[K8g];if(!p7g)continue;Y8g+=p7g.Volume;b8g=M8g[M8g.length - 1];if(!b8g){b8g={Open:p7g.Open,Close:p7g.Open,High:p7g.Open,Low:p7g.Open};}i8g=b8g.Close;f8g=b8g.High;t8g=b8g.Low;E8g=b8g.Open;f8g=f8g || f8g === 0?f8g:i8g;t8g=t8g || t8g === 0?t8g:i8g;E8g=E8g || E8g === 0?E8g:i8g;o7g={DT:p7g.DT,displayDate:p7g.displayDate,Date:p7g.Date,Close:p7g.Close,Volume:Y8g,iqPrevClose:i8g};L8g.currentQuote={Close:p7g.Close};if(p7g.Close > i8g && b8g.Close > E8g){;}else if(p7g.Close < i8g && b8g.Close < E8g){;}else if(p7g.Close > f8g){for(z8g=2;z8g <= a7g;z8g++){h8g=M8g[M8g.length - z8g];if(h8g && p7g.Close <= h8g.High){continue a;}}}else if(p7g.Close < t8g){for(z8g="2" ^ 0;z8g <= a7g;z8g++){h8g=M8g[M8g.length - z8g];if(h8g && p7g.Close >= h8g.Low){continue a;}}}else continue;if(p7g.Close < b8g.Close){o7g.Open=Math.min(E8g,i8g);}else {o7g.Open=Math.max(E8g,i8g);}o7g.Low=Math.min(o7g.Open,o7g.Close);o7g.High=Math.max(o7g.Open,o7g.Close);for(var C8g in p7g){if(!o7g[C8g] && o7g[C8g] !== ("0" | 0)){o7g[C8g]=p7g[C8g];}}M8g.push(o7g);Y8g=0;}return M8g.slice(J8g);};G0g.calculateRenkoBars=function(r8g,c8g,s8g,H8g){var a4D=z7QQ;var M0L,d8g,X8g,y8g,S8g,N8g,P8g,t4e,M4e,r4e,r0L,G8g,n8g,V8g,U8g,e8g,x8g,I8g,q8g,j8g;M0L="L";a4D.T6D();M0L+="ow";if(!c8g.length){return [];}if(!H8g){H8g=[];}d8g=r8g.layout;X8g=r8g.chart;y8g=X8g.state.aggregation;if(!y8g){y8g=X8g.state.aggregation={};}S8g=Math.min(300,c8g.length);if(!y8g.minMax){y8g.minMax=r8g.determineMinMax(c8g.slice(c8g.length - S8g),["Close","High",M0L]);}N8g=y8g.minMax[1] - y8g.minMax[0];P8g=r8g.panels[X8g.name].height;if(!P8g){return [];}X8g.defaultChartStyleConfig.renko=Math.floor(10000 * N8g / (P8g / 30)) / +"10000";if(s8g === null || isNaN(s8g) || s8g <= 0){t4e=-242509339;M4e=1638059273;a4D.C03(12);r4e=a4D.I03("2",1);for(var a4e=1;a4D.N9e(a4e.toString(),a4e.toString().length,40790) !== t4e;a4e++){s8g=X8g.defaultChartStyleConfig.renko;r4e+=2;}if(a4D.E9e(r4e.toString(),r4e.toString().length,30164) !== M4e){s8g=X8g.defaultChartStyleConfig.renko;}if(d8g.renko !== null){r0L="lay";r0L+="out";d8g.renko=null;r8g.changeOccurred(r0L);}}else {a4D.C03(6);s8g=Math.max(s8g,a4D.I03(N8g,P8g));if(d8g.renko !== s8g){d8g.renko=s8g;r8g.changeOccurred("layout");}}G8g=[];n8g=null;V8g=null;U8g=null;if(H8g.length){e8g=H8g[H8g.length - 1];n8g=e8g.Low - s8g;V8g=e8g.High + s8g;}for(var Q8g=0;Q8g < c8g.length;Q8g++){x8g=c8g[Q8g];if(!x8g)continue;if(!n8g && !V8g){I8g=x8g.Open || x8g.Open === 0?x8g.Open:x8g.Close;q8g=Math.floor(I8g / s8g) * s8g;j8g=isNaN(q8g)?I8g:q8g;a4D.g03(4);n8g=a4D.I03(j8g,s8g);a4D.g03(2);V8g=a4D.I03(j8g,s8g);}while(!0){if(!U8g){U8g=x8g;}if(x8g.Close <= n8g){a4D.C03(2);D8g(a4D.I03(n8g,s8g),n8g);a4D.C03(13);V8g=a4D.I03(2,n8g,s8g);n8g-=s8g;U8g=null;}else if(x8g.Close >= V8g){a4D.g03(4);D8g(a4D.J03(V8g,s8g),V8g);a4D.C03(14);n8g=a4D.J03(s8g,2,V8g);V8g+=s8g;U8g=null;}else break;}X8g.currentQuote=x8g;}function D8g(W8g,k8g){var F8g;W8g=Number(W8g.toFixed(8));k8g=Number(k8g.toFixed("8" & 2147483647));a4D.k6D();F8g={DT:U8g.DT,displayDate:U8g.displayDate,Date:U8g.Date,Open:W8g,Close:k8g,High:Math.max(W8g,k8g),Low:Math.min(W8g,k8g),Volume:0,iqPrevClose:W8g != k8g?W8g:null};for(var l8g in U8g){if(!F8g[l8g] && F8g[l8g] !== 0){F8g[l8g]=U8g[l8g];}}G8g.push(F8g);}if(n8g < c8g[c8g.length - 1].Close && n8g + s8g > c8g[c8g.length - 1].Close){a4D.g03(2);D8g(a4D.I03(n8g,s8g),c8g[c8g.length - 1].Close);}else if(V8g > c8g[c8g.length - ("1" | 0)].Close && V8g - s8g < c8g[c8g.length - 1].Close){a4D.C03(4);D8g(a4D.I03(V8g,s8g),c8g[c8g.length - 1].Close);}return G8g;};G0g.calculateRangeBars=function(f9g,T8g,R8g,C9g){var e4D=z7QQ;var a0L,K0L,h9g,t9g,i9g,w9g,L9g,v9g,x0L,Y9g,B8g,p8g,o8g,g9g,a8g,u8g,z9g,M9g,Z8g,m8g,O8g,A9g,s9g;a0L="L";a0L+="ow";function K9g(){e4D.T6D();e4D.C03(2);p8g=e4D.I03(B8g,R8g);e4D.C03(4);o8g=e4D.I03(B8g,R8g);g9g=B8g;}K0L="Cl";K0L+="os";e4D.T6D();K0L+="e";if(!T8g.length){return T8g;}if(!C9g){C9g=[];}h9g=f9g.layout;t9g=f9g.chart;i9g=t9g.state.aggregation;if(!i9g){i9g=t9g.state.aggregation={};}w9g=Math.min(300,T8g.length);if(!i9g.minMax){i9g.minMax=f9g.determineMinMax(T8g.slice(T8g.length - w9g),[K0L,"High",a0L]);}function E9g(x9g,U9g){while(1){if(!a8g){a8g=x9g;}if(B8g < U9g){B8g=Math.min(U9g,p8g);e4D.g03(4);o8g=Math.max(o8g,e4D.I03(B8g,R8g));if(U9g < p8g)break;}else if(B8g >= U9g){B8g=Math.max(U9g,o8g);e4D.g03(2);p8g=Math.min(p8g,e4D.I03(B8g,R8g));if(U9g > o8g)break;}if(typeof B8g == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}J9g(B8g);a8g=null;K9g();}}L9g=i9g.minMax[1] - i9g.minMax[0];v9g=f9g.panels[t9g.name].height;if(!v9g){return [];}t9g.defaultChartStyleConfig.range=Math.floor(("10000" << 416028416) * L9g / (v9g / ("30" | 16))) / 10000;function J9g(V9g){var c9g;c9g={DT:a8g.DT,displayDate:a8g.displayDate,Date:a8g.Date,Open:Number(g9g.toFixed(8)),Close:Number(V9g.toFixed(8)),High:Number(p8g.toFixed(8)),Low:Number(o8g.toFixed(8)),Volume:0};c9g.iqPrevClose=c9g.Open;e4D.T6D();for(var n9g in a8g){if(!c9g[n9g] && c9g[n9g] !== 0){c9g[n9g]=a8g[n9g];}}Y9g.push(c9g);}if(R8g === null || isNaN(R8g) || R8g < 0){R8g=t9g.defaultChartStyleConfig.range;if(h9g.range !== null){h9g.range=null;f9g.changeOccurred("layout");}}else {e4D.g03(6);R8g=Math.max(R8g,e4D.I03(L9g,v9g));if(h9g.range !== R8g){x0L="la";x0L+="you";x0L+="t";h9g.range=R8g;f9g.changeOccurred(x0L);}}Y9g=[];B8g=null;p8g=null;o8g=null;g9g=null;a8g=null;for(var b9g=0;b9g < T8g.length;b9g++){u8g=T8g[b9g];if(!u8g)continue;e4D.g03(4);z9g=T8g[e4D.J03(b9g,1)];if(!b9g){if(!z9g){z9g=C9g[C9g.length - 1];}if(z9g){B8g=z9g.Close;if(B8g || B8g === ("0" & 2147483647)){K9g();}}}if(!z9g)continue;M9g=u8g.Close;Z8g=u8g.Open;m8g=u8g.High;O8g=u8g.Low;if(!M9g && M9g !== 0)continue;Z8g=Z8g || Z8g === 0?Z8g:M9g;m8g=m8g || m8g === +"0"?m8g:M9g;O8g=O8g || O8g === 0?O8g:M9g;if(!B8g && B8g !== ("0" ^ 0)){A9g=Math.floor(Z8g / R8g) * R8g;B8g=isNaN(A9g)?Z8g:A9g;K9g();E9g(z9g,Z8g);}if(b9g){E9g(u8g,Z8g);}if(m8g - Z8g < Z8g - O8g){if(m8g){E9g(u8g,m8g);}if(O8g){E9g(u8g,O8g);}}else {if(O8g){E9g(u8g,O8g);}if(m8g){E9g(u8g,m8g);}}E9g(u8g,M9g);if(b9g == T8g.length - 1 && M9g != g9g){s9g=p8g;e4D.C03(2);p8g=e4D.I03(o8g,R8g);e4D.C03(4);o8g=e4D.I03(s9g,R8g);J9g(M9g);}}return Y9g;};z7QQ.k6D();G0g.calculatePointFigure=function(l9g,B9g,u9g,Z9g){var w4D=z7QQ;var Q9g,e9g,m9g,X9g,P9g,I9g,c0L,k9g,F9g,S9g,D9g,d9g,N9g,y9g,G9g,W9g,r9g,H9g,q9g,j9g;if(!B9g.length){return B9g;}if(!Z9g){Z9g=[];}function T9g(M2g,a9g){for(var o9g in M2g){if(!a9g[o9g] && a9g[o9g] !== +"0"){a9g[o9g]=M2g[o9g];}}return a9g;}function R9g(b2g,i2g,E2g,z2g,f2g){b2g.High=Math.max(i2g,b2g.High);w4D.k6D();b2g.Low=Math.min(E2g,b2g.Low);b2g.Close=z2g;b2g.Volume+=f2g;}function p9g(t2g,h2g,C2g,v2g,g2g,L2g,Y2g,K2g,A2g){w4D.k6D();return {DT:t2g.DT,Date:t2g.Date,pfOpen:K2g,pfClose:A2g,Open:h2g,Close:g2g,High:C2g,Low:v2g,Volume:L2g,iqPrevClose:Y2g};}Q9g=l9g.layout;e9g=l9g.chart;m9g=e9g.state.aggregation;if(!m9g){m9g=e9g.state.aggregation={};}w4D.C03(1);e9g.defaultChartStyleConfig.box=w4D.J03("1",0);w4D.C03(15);e9g.defaultChartStyleConfig.reversal=w4D.J03("3",757668352);if(!u9g){u9g={};}X9g=u9g.box;if(!X9g){if(Q9g.pandf){if(Q9g.pandf.box !== null){Q9g.pandf.box=null;l9g.changeOccurred("layout");}}X9g=e9g.defaultChartStyleConfig.box;P9g=B9g[B9g.length - 1].Close;if(P9g){if(P9g < 0.25){X9g=0.0625;}else if(P9g < 1){X9g=0.125;}else if(P9g < 5){X9g=0.25;}else if(P9g < 20){X9g=0.5;}else if(P9g < 100){X9g=+"1";}else if(P9g < 200){X9g=2;}else if(P9g < 500){X9g=4;}else if(P9g < 1000){X9g=5;}else if(P9g < 25000){X9g=50;}else {X9g=500;}}if(!G0g.ChartEngine.isDailyInterval(Q9g.interval)){X9g/=10;}if(G0g.Market.Symbology.isForexSymbol(e9g.symbol)){if(P9g){if(P9g < +"1"){X9g=0.001;}else if(P9g < 2){X9g=0.002;}else if(P9g < "50" * 1){X9g=0.02;}else if(P9g < +"200"){w4D.C03(12);X9g=w4D.J03("0.2",1);}}if(G0g.ChartEngine.isDailyInterval(Q9g.interval)){X9g*=10;}}e9g.defaultChartStyleConfig.box=X9g;}X9g=parseFloat(X9g);if(isNaN(X9g) || X9g <= 0){if(Q9g.pandf){if(Q9g.pandf.box !== null){Q9g.pandf.box=null;l9g.changeOccurred("layout");}}w4D.g03(0);e9g.defaultChartStyleConfig.box=X9g=w4D.J03(545720416,"1");}I9g=Math.ceil(parseFloat(u9g.reversal));if(I9g > 0 && I9g > u9g.reversal){c0L="la";c0L+="you";c0L+="t";Q9g.pandf.reversal=I9g;l9g.changeOccurred(c0L);}else if(isNaN(I9g) || I9g <= 0){if(Q9g.pandf){if(Q9g.pandf.reversal !== null){Q9g.pandf.reversal=null;l9g.changeOccurred("layout");}}I9g=e9g.defaultChartStyleConfig.reversal;}w4D.T6D();m9g.box=X9g;I9g*=X9g;k9g=0.00000001;F9g=(X9g.toString() + ".").split(4994 > (+"6842",6810)?("2740" ^ 0) <= 666.04?(2.10e+3,"r"):7070 < 4530?(!"1","c"):("R","U"):".")[1].length;S9g=[];D9g=0;for(var O9g=0;O9g < B9g.length;O9g++){N9g=B9g[O9g];if(!N9g)continue;D9g+=N9g.Volume;G9g=N9g.Close;W9g=N9g.Open;r9g=N9g.High;H9g=N9g.Low;W9g=W9g || W9g === 0?W9g:G9g;r9g=r9g || r9g === 0?r9g:G9g;H9g=H9g || H9g === +"0"?H9g:G9g;if(!S9g.length && !Z9g.length){d9g=T9g(N9g,p9g(N9g,W9g,r9g,H9g,G9g,D9g,r9g + X9g,Number((Math.ceil(H9g / X9g - k9g) * X9g).toFixed(F9g)),Number((Math.floor(r9g / X9g + k9g) * X9g).toFixed(F9g))));d9g.pfTrend="X";if(d9g.pfOpen == d9g.pfClose){d9g.pfStepBack="-";}S9g.push(d9g);D9g=0;continue;}y9g=S9g[S9g.length - 1];if(!y9g){y9g=G0g.clone(Z9g[Z9g.length - 1]);}if(y9g.pfTrend == ((1810,1450) !== +"94.83"?116 <= (5060,3120)?"O":+"5.73e+3":("K",5.95e+3))){if(H9g <= y9g.pfClose - X9g){y9g.pfClose=Number((Math.ceil(H9g / X9g - k9g) * X9g).toFixed(F9g));if(y9g.pfStepBack == ((8520,7848) <= (992.45,7403)?(+"759.74",0x8b1):"O")){y9g.pfStepBack=null;}R9g(y9g,r9g,H9g,G9g,D9g);}else if(r9g >= y9g.pfClose + I9g){q9g=y9g.pfClose + X9g;j9g=Number((Math.floor(r9g / X9g + k9g) * X9g).toFixed(F9g));d9g=p9g(N9g,W9g,r9g,H9g,G9g,D9g,y9g.pfClose,q9g,j9g);if(q9g == j9g){d9g.pfStepBack="X";}if(y9g.pfStepBack == "O"){y9g.pfOpen=q9g;y9g.pfClose=j9g;y9g.pfTrend=3060 < ("9225" ^ 0)?"X":(0x169e,"b");R9g(y9g,r9g,H9g,G9g,D9g);}else {d9g=T9g(N9g,d9g);d9g.pfTrend=("6979" ^ 0,+"2020") > (7907,6610)?670.68:+"5920" <= 338.05?(+"8.69e+3","e"):"X";S9g.push(d9g);}}else {R9g(y9g,r9g,H9g,G9g,D9g);}D9g=+"0";}else if(y9g.pfTrend == "X"){if(r9g >= y9g.pfClose + X9g){y9g.pfClose=Number((Math.floor(r9g / X9g + k9g) * X9g).toFixed(F9g));if(y9g.pfStepBack == ((+"5710",8436) == (9307,121.47)?(5.60e+3,"s"):"X") || y9g.pfStepBack == "-"){y9g.pfStepBack=null;}R9g(y9g,r9g,H9g,G9g,D9g);}else if(H9g <= y9g.pfClose - I9g){q9g=y9g.pfClose - X9g;j9g=Number((Math.ceil(H9g / X9g - k9g) * X9g).toFixed(F9g));d9g=p9g(N9g,W9g,r9g,H9g,G9g,D9g,y9g.pfClose,q9g,j9g);if(q9g == j9g){d9g.pfStepBack="O";}if(y9g.pfStepBack == "X" || y9g.pfStepBack == ((3713,2070) < ("9399" << 1023126080,3260)?"-":(229,"f"))){y9g.pfOpen=q9g;y9g.pfClose=j9g;y9g.pfTrend=(+"114.83",7984) <= (74.99,+"245.85")?(4.02e+3,0x138f):901 > (+"3000",+"3497")?0xf6c:"O";R9g(y9g,r9g,H9g,G9g,D9g);if(q9g != j9g && y9g.pfStepBack == "-"){y9g.pfStepBack=null;}}else {d9g=T9g(N9g,d9g);d9g.pfTrend=6423 == ("4250" | 4226)?(1.53e+3,0x164f):"O";S9g.push(d9g);}}else {R9g(y9g,r9g,H9g,G9g,D9g);}D9g=0;}}return S9g;};};Y1T=s2g=>{var O4D=z7QQ;var W0L,w2g,J2g,e7L,O7L,G7L,x1L,a1L,E1L,g1L,H1L,q1L,I1L,P1L,X1L,R8L,p8L,i8L,A8L,O8L,Y8L,y8L;W0L="unde";W0L+="fined";O4D.T6D();w2g=typeof _CIQ !== "undefined"?_CIQ:s2g.CIQ;J2g=typeof _timezoneJS !== W0L?_timezoneJS:s2g.timezoneJS;if(!w2g.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {e7L="cq-wave";e7L+="-param";e7L+="et";e7L+="ers";O7L="f";O7L+="o";O7L+="n";O7L+="t";G7L="I";G7L+="I";x1L="p";x1L+="a";x1L+="tt";x1L+="ern";a1L="f";a1L+="il";a1L+="lColor";E1L="lin";E1L+="eWid";E1L+="th";g1L="col";g1L+="or3";H1L="a";H1L+="c";H1L+="tive3";q1L="line";q1L+="Width2";I1L="c";I1L+="o";I1L+="lo";I1L+="r1";P1L="lineWi";P1L+="d";P1L+="th";X1L="fi";X1L+="ll";X1L+="C";X1L+="olor";R8L="p";R8L+="l";p8L="c";p8L+="o";p8L+="lor";i8L="p";i8L+="atte";i8L+="rn";A8L="c";A8L+="olor";O8L="p";O8L+="a";O8L+="tte";O8L+="rn";Y8L="p";Y8L+="a";Y8L+="tte";Y8L+="rn";y8L="fil";y8L+="l";y8L+="Color";w2g.Drawing.ray=function(){O4D.k6D();this.name="ray";};w2g.inheritsFrom(w2g.Drawing.ray,w2g.Drawing.line);w2g.Drawing.ray.prototype.calculateOuterSet=function(V2g){var c2g,n2g;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[+"1"] || w2g.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}c2g={x0:this.p0[+"0"],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};n2g=c2g.x1 + 1000;if(c2g.x0 > c2g.x1){n2g=c2g.x1 - ("1000" & 2147483647);}this.v0B=this.v0;this.v1B=w2g.yIntersection(c2g,n2g);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(n2g,V2g.chart);};w2g.Drawing.ray.prototype.adjust=function(){var U2g;U2g=this.stx.panels[this.panelName];if(!U2g){return;}O4D.T6D();this.setPoint(+"0",this.d0,this.v0,U2g.chart);O4D.C03(1);this.setPoint(O4D.I03("1",0),this.d1,this.v1,U2g.chart);if(w2g.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,U2g.chart);}};w2g.Drawing.continuous=function(){var T8L;T8L="continu";T8L+="ous";this.name=T8L;this.dragToDraw=!{};this.maxSegments=null;};w2g.inheritsFrom(w2g.Drawing.continuous,w2g.Drawing.segment);w2g.Drawing.continuous.prototype.click=function(P2g,X2g,y2g){var x2g,H2g,r2g,d2g;x2g=this.stx.panels[this.panelName];if(!x2g){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,X2g,y2g,x2g.chart);this.penDown=! !{};return !{};}if(this.accidentalClick(X2g,y2g)){this.stx.undo();return ! !{};}this.setPoint(1,X2g,y2g,x2g.chart);H2g=w2g.Drawing.segment;r2g=new H2g();d2g=this.serialize(this.stx);r2g.reconstruct(this.stx,d2g);this.stx.addDrawing(r2g);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !"";}O4D.C03(1);this.setPoint(O4D.I03("0",0),X2g,y2g,x2g.chart);return !{};};w2g.Drawing.ellipse=function(){O4D.k6D();this.name="ellipse";};w2g.inheritsFrom(w2g.Drawing.ellipse,w2g.Drawing.BaseTwoPoint);w2g.Drawing.ellipse.prototype.render=function(D2g){var G2g,R2g,j2g,S2g,W2g,e2g,k2g,F2g,l2g,B2g,I2g,Q2g,N2g,h8L,q2g,u2g;G2g=this.stx.panels[this.panelName];if(!G2g){return;}R2g=this.stx.pixelFromTick(this.p0[+"0"],G2g.chart);j2g=this.stx.pixelFromTick(this.p1[0],G2g.chart);S2g=this.stx.pixelFromValueAdjusted(G2g,this.p0[+"0"],this.p0["1" | 0]);W2g=this.stx.pixelFromValueAdjusted(G2g,this.p1[0],this.p1["1" ^ 0]);O4D.C03(16);e2g=O4D.I03(j2g,R2g,R2g);k2g=j2g;F2g=S2g;l2g=W2g;O4D.C03(16);B2g=O4D.I03(W2g,S2g,S2g);O4D.g03(17);I2g=O4D.I03(B2g,l2g,6);Q2g=this.lineWidth;if(!Q2g){Q2g=1.1;}N2g=this.color;if(N2g == "auto" || w2g.isTransparent(N2g)){N2g=this.stx.defaultColor;}if(this.highlighted){h8L="stx_highlig";h8L+="ht_vector";N2g=this.stx.getCanvasColor(h8L);if(Q2g == 0.1){O4D.C03(4);Q2g=O4D.J03("1.1",0);}}q2g=this.fillColor;D2g.beginPath();D2g.moveTo(e2g,F2g);O4D.g03(2);D2g.bezierCurveTo(e2g,O4D.I03(l2g,I2g),k2g,O4D.I03(l2g,I2g),k2g,F2g);O4D.g03(4);D2g.bezierCurveTo(k2g,O4D.J03(B2g,I2g),e2g,O4D.J03(B2g,I2g),e2g,F2g);if(q2g && !w2g.isTransparent(q2g) && q2g != "auto"){D2g.fillStyle=q2g;D2g.globalAlpha=0.2;D2g.fill();D2g.globalAlpha=+"1";}if(N2g && this.pattern != "none"){D2g.strokeStyle=N2g;D2g.lineWidth=Q2g;if(D2g.setLineDash){D2g.setLineDash(w2g.borderPatternToArray(Q2g,this.pattern));D2g.lineDashOffset=+"0";;}D2g.stroke();}D2g.closePath();O4D.k6D();if(this.highlighted){u2g=this.highlighted == "p1"?!0:![];this.littleCircle(D2g,j2g,W2g,u2g);}};w2g.Drawing.ellipse.prototype.intersected=function(o2g,a2g,Z2g){var l8L,B8L,V8L,m2g,O2g,T2g,p2g;l8L="m";l8L+="o";l8L+="v";l8L+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],Z2g)){B8L="p";B8L+="1";V8L="p";V8L+="1";this.highlighted=V8L;return {action:"drag",point:B8L};}m2g=this.p0[0] - (this.p1[0] - this.p0[0]);O2g=this.p1[0];T2g=this.p1[1];p2g=this.p0[1] - (this.p1[1] - this.p0[1]);if(Z2g.x0 > Math.max(m2g,O2g) || Z2g.x1 < Math.min(m2g,O2g)){return !"1";}if(Z2g.y1 > Math.max(p2g,T2g) || Z2g.y0 < Math.min(p2g,T2g)){return !"1";}this.highlighted=! !1;return {action:l8L,p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:o2g,value:a2g};};w2g.Drawing.ellipse.prototype.configs=["color",y8L,"lineWidth","pattern"];w2g.Drawing.ellipse.prototype.reconstruct=function(b3g,M3g){this.stx=b3g;this.color=M3g.col;O4D.k6D();this.fillColor=M3g.fc;this.panelName=M3g.pnl;this.pattern=M3g.ptrn;this.lineWidth=M3g.lw;this.d0=M3g.d0;this.d1=M3g.d1;this.tzo0=M3g.tzo0;this.tzo1=M3g.tzo1;this.v0=M3g.v0;this.v1=M3g.v1;this.adjust();};w2g.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};w2g.Drawing.channel=function(){this.name="channel";this.dragToDraw=! !"";this.p2=null;};w2g.inheritsFrom(w2g.Drawing.channel,w2g.Drawing.segment);w2g.Drawing.channel.prototype.configs=["color","fillColor","lineWidth",Y8L];w2g.Drawing.channel.prototype.move=function(f3g,i3g,E3g){var z3g;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[i3g,E3g];}else {z3g=E3g - (this.p1[1] - this.p0[1]) / (this.p1[0] - this.p0[0]) * (i3g - this.p1[0]);this.p2=[this.p1[0],z3g];}this.render(f3g);};w2g.Drawing.channel.prototype.click=function(v3g,h3g,C3g){var t3g;t3g=this.stx.panels[this.panelName];if(!t3g){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,h3g,C3g,t3g.chart);this.penDown=!0;return ![];}if(this.accidentalClick(h3g,C3g)){this.stx.undo();return ! ![];}if(this.p2 !== null){this.setPoint(2,this.p2["0" << 1046616128],this.p2[1],t3g.chart);this.penDown=![];return !"";}this.setPoint(1,h3g,C3g,t3g.chart);if(this.p0[0] == this.p1[+"0"]){this.p1=null;return !"1";}this.p2=[this.p1[0],this.p1[1]];return ![];};w2g.Drawing.channel.prototype.boxIntersection=function(A3g,s3g,Y3g){var g3g,L3g,K3g,w3g,J3g;g3g=this.p0;L3g=this.p1;K3g=this.p2;if(!g3g || !L3g || !K3g){return !1;}if(Y3g.x0 > Math.max(g3g[0],L3g[0]) || Y3g.x1 < Math.min(g3g[0],L3g[0])){return !1;}w3g=(L3g[0] - g3g[0]) * ((K3g[1] < g3g[1]?Y3g.y1:Y3g.y0) - g3g["1" - 0]) - (L3g[1] - g3g[1]) * (A3g - g3g["0" >> 1437266272]);J3g=(K3g[0] - g3g[0]) * ((K3g[1] > g3g[+"1"]?Y3g.y1:Y3g.y0) - (g3g[1] + K3g[1] - L3g[1])) - (L3g[1] - g3g[+"1"]) * (A3g - g3g[0]);O4D.g03(18);return O4D.I03(w3g,"0",0,J3g);};w2g.Drawing.channel.prototype.intersected=function(V3g,U3g,x3g){var n3g;if(!this.p0 || !this.p1 || !this.p2){return null;}n3g={0:this.p0,1:this.p1,2:this.p2};for(var c3g in n3g){if(this.pointIntersection(n3g[c3g][+"0"],n3g[c3g][+"1"],x3g)){O4D.g03(2);this.highlighted=O4D.J03("p",c3g);return {action:"drag",point:(1780 != 2870?"p":3.44e+3) + c3g};}}if(this.boxIntersection(V3g,U3g,x3g)){this.highlighted=! ![];return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),p2:w2g.clone(this.p2),tick:V3g,value:U3g};}return null;};w2g.Drawing.channel.prototype.render=function(X3g){var y3g,d3g,r3g,P3g,D3g,H3g,e3g,G3g,Q3g,N3g,G8L,I3g,q3g,j3g;y3g=this.stx.panels[this.panelName];if(!y3g){return;}d3g=this.stx.pixelFromTick(this.p0["0" - 0],y3g.chart);r3g=this.stx.pixelFromTick(this.p1[0],y3g.chart);P3g=this.stx.pixelFromValueAdjusted(y3g,this.p0[0],this.p0[1]);D3g=this.stx.pixelFromValueAdjusted(y3g,this.p1["0" - 0],this.p1[1]);H3g=null;if(this.p2){H3g=this.stx.pixelFromValueAdjusted(y3g,this.p2[0],this.p2[1]);}e3g=this.lineWidth;G3g=this.getLineColor();Q3g=this.fillColor;if(this.p2 && Q3g && !w2g.isTransparent(Q3g) && Q3g != "auto"){X3g.beginPath();X3g.moveTo(d3g,P3g);X3g.lineTo(r3g,D3g);X3g.lineTo(r3g,H3g);O4D.C03(19);X3g.lineTo(d3g,O4D.J03(D3g,P3g,H3g));X3g.closePath();X3g.globalAlpha=0.2;X3g.fillStyle=Q3g;X3g.fill();X3g.globalAlpha=1;}N3g={pattern:this.pattern,lineWidth:e3g};if((this.penDown || this.highlighted) && this.pattern == "none"){N3g.pattern="dotted";}this.stx.plotLine(d3g,r3g,P3g,D3g,G3g,"segment",X3g,y3g,N3g);if(this.p2){O4D.C03(19);this.stx.plotLine(d3g,r3g,O4D.I03(D3g,P3g,H3g),H3g,G3g,"segment",X3g,y3g,N3g);}if(this.highlighted){G8L="p";G8L+="1";I3g=this.highlighted == "p0"?! ![]:![];q3g=this.highlighted == G8L?! !1:!"1";j3g=this.highlighted == "p2"?!"":![];this.littleCircle(X3g,d3g,P3g,I3g);this.littleCircle(X3g,r3g,D3g,q3g);this.littleCircle(X3g,r3g,H3g,j3g);}};w2g.Drawing.channel.prototype.reposition=function(l3g,S3g,B3g,R3g){var W3g,k3g,F3g;if(!S3g){return;}W3g=this.stx.panels[this.panelName];k3g=S3g.tick - B3g;F3g=S3g.value - R3g;if(S3g.action == "move"){this.setPoint(0,S3g.p0[0] - k3g,S3g.p0[1] - F3g,W3g.chart);O4D.C03(4);this.setPoint(O4D.I03("1",0),S3g.p1[0] - k3g,S3g.p1["1" - 0] - F3g,W3g.chart);this.setPoint(2,S3g.p2[0] - k3g,S3g.p2[+"1"] - F3g,W3g.chart);this.render(l3g);}else if(S3g.action == "drag"){this[S3g.point]=[B3g,R3g];this.setPoint(0,this.p0[0],this.p0[1],W3g.chart);this.setPoint(1,this.p1[0],this.p1["1" & 2147483647],W3g.chart);this.setPoint(2,this.p2[0],this.p2["1" | 0],W3g.chart);this.render(l3g);}};w2g.Drawing.channel.prototype.adjust=function(){var u3g;u3g=this.stx.panels[this.panelName];O4D.k6D();if(!u3g){return;}this.setPoint(0,this.d0,this.v0,u3g.chart);this.setPoint(+"1",this.d1,this.v1,u3g.chart);this.setPoint(2,this.d1,this.v2,u3g.chart);;};w2g.Drawing.channel.prototype.reconstruct=function(m3g,Z3g){this.stx=m3g;this.color=Z3g.col;this.fillColor=Z3g.fc;this.panelName=Z3g.pnl;this.pattern=Z3g.ptrn;this.lineWidth=Z3g.lw;this.d0=Z3g.d0;this.d1=Z3g.d1;this.tzo0=Z3g.tzo0;this.tzo1=Z3g.tzo1;this.v0=Z3g.v0;O4D.T6D();this.v1=Z3g.v1;this.v2=Z3g.v2;this.adjust();};w2g.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};w2g.Drawing.pitchfork=function(){this.name="pitchfork";O4D.k6D();this.dragToDraw=!{};this.p2=null;};w2g.inheritsFrom(w2g.Drawing.pitchfork,w2g.Drawing.channel);w2g.Drawing.pitchfork.prototype.configs=["color","lineWidth",O8L];w2g.Drawing.pitchfork.prototype.move=function(p3g,O3g,T3g){if(!this.penDown){return;}this.copyConfig();O4D.k6D();if(this.p2 === null){this.p1=[O3g,T3g];}else {this.p2=[O3g,T3g];}this.render(p3g);};w2g.Drawing.pitchfork.prototype.intersected=function(i5g,E5g,z5g){var M5g,b5g,G5e,O5e,e5e;if(!this.p0 || !this.p1 || !this.p2){return null;}M5g={0:this.p0,1:this.p1,2:this.p2};for(var a3g in M5g){if(this.pointIntersection(M5g[a3g][0],M5g[a3g][1],z5g)){O4D.g03(2);this.highlighted=O4D.J03((6010,357.72) <= 1516?(7.39,8350) != 426.23?(4470,+"858.29") != 4080?"p":387.10:(+"3.85e+3",731.68):0xb35,a3g);return {action:"drag",point:((8830,3420) > (7590,5732)?4960 < 4126?977.75:("T",! ![]):"p") + a3g};}}b5g=this.rays;for(var o3g=0;o3g < b5g.length;o3g++){if(this.lineIntersection(i5g,E5g,z5g,o3g?"ray":"segment",b5g[o3g][0],b5g[o3g][1],!"")){this.highlighted=! !{};return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),p2:w2g.clone(this.p2),tick:i5g,value:E5g};}}G5e=1506897260;O5e=-102600732;e5e=+"2";for(var k5e=1;O4D.E9e(k5e.toString(),k5e.toString().length,57858) !== G5e;k5e++){return null;}if(O4D.N9e(e5e.toString(),e5e.toString().length,99502) !== O5e){return 1;}};w2g.Drawing.pitchfork.prototype.render=function(w5g){var f5g,t5g,L5g,J5g,h5g,C5g,s5g,v5g,g5g,V5g,U5g,x5g,Y5g,c5g,n5g,e8L,A5g,X5g,m8L,y5g,r5g,H5g;f5g=this.stx.panels[this.panelName];if(!f5g){return;}t5g=this.stx;L5g=this.p2;if(!L5g){L5g=this.p1;}J5g=t5g.pixelFromTick(this.p0[0],f5g.chart);h5g=t5g.pixelFromTick(this.p1[0],f5g.chart);C5g=t5g.pixelFromTick(L5g[0],f5g.chart);s5g=t5g.pixelFromValueAdjusted(f5g,this.p0[0],this.p0[1]);v5g=t5g.pixelFromValueAdjusted(f5g,this.p1[0],this.p1["1" | 0]);g5g=t5g.pixelFromValueAdjusted(f5g,L5g[0],L5g[1]);V5g=this.lineWidth;U5g=this.getLineColor();x5g={pattern:this.pattern,lineWidth:V5g};Y5g=50;O4D.g03(20);c5g=O4D.J03(v5g,s5g,2,g5g);O4D.g03(20);n5g=O4D.I03(h5g,J5g,2,C5g);if(n5g < 0){Y5g*=-1;}O4D.C03(6);c5g*=O4D.I03(Y5g,n5g);O4D.C03(7);this.rays=[[[h5g,v5g],[C5g,g5g]],[[J5g,s5g],[O4D.J03(2,C5g,h5g),O4D.J03("2",g5g,v5g,O4D.g03(21))]]];if(!(h5g == C5g && v5g == g5g)){O4D.g03(4);this.rays.push([[h5g,v5g],[O4D.J03(h5g,Y5g),O4D.J03(v5g,c5g)]],[[C5g,g5g],[O4D.I03(C5g,Y5g),O4D.J03(g5g,c5g)]]);}for(var K5g="0" & 2147483647;K5g < this.rays.length;K5g++){e8L="segme";e8L+="n";e8L+="t";A5g=this.rays[K5g];X5g=K5g?"ray":e8L;t5g.plotLine(A5g["0" >> 302059776][0],A5g[1][+"0"],A5g[0][1],A5g[1][1],U5g,X5g,w5g,f5g,x5g);}if(this.highlighted){m8L="p";m8L+="0";y5g=this.highlighted == m8L?! !{}:!1;r5g=this.highlighted == "p1"?! ![]:! !0;H5g=this.highlighted == "p2"?! !{}:![];this.littleCircle(w5g,J5g,s5g,y5g);this.littleCircle(w5g,h5g,v5g,r5g);this.littleCircle(w5g,C5g,g5g,H5g);}};w2g.Drawing.pitchfork.prototype.adjust=function(){O4D.T6D();var d5g;d5g=this.stx.panels[this.panelName];if(!d5g){return;}this.setPoint(0,this.d0,this.v0,d5g.chart);this.setPoint(1,this.d1,this.v1,d5g.chart);O4D.C03(22);this.setPoint(O4D.J03("2",0),this.d2,this.v2,d5g.chart);};w2g.Drawing.pitchfork.prototype.reconstruct=function(D5g,P5g){this.stx=D5g;this.color=P5g.col;this.panelName=P5g.pnl;this.pattern=P5g.ptrn;this.lineWidth=P5g.lw;this.d0=P5g.d0;this.d1=P5g.d1;O4D.k6D();this.d2=P5g.d2;this.tzo0=P5g.tzo0;this.tzo1=P5g.tzo1;this.tzo2=P5g.tzo2;this.v0=P5g.v0;this.v1=P5g.v1;this.v2=P5g.v2;this.adjust();};w2g.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};w2g.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!"1";this.maxSegments=4;this.shape=null;this.points=[];};w2g.inheritsFrom(w2g.Drawing.gartley,w2g.Drawing.continuous);w2g.Drawing.gartley.prototype.check=function(N5g,Q5g){if(!Q5g){return ! !1;}if(N5g[0] >= Q5g[0] || N5g[1] == Q5g[+"1"]){return !1;}if(this.segment == 1){if(N5g[1] < Q5g[1]){this.shape="M";}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == (6615 < (4724,+"567.26")?![]:"M") && N5g[1] < Q5g[1]){return !{};}else if(this.shape == (182.81 >= (1630,4510)?! !"":("937.02" * 1,1850) === 9508?666 >= (8380,8330)?![]:!"":"W") && N5g[1] > Q5g["1" ^ 0]){return ! !"";}else if((Q5g[+"1"] - N5g[1]) / (this.points[0][1] - N5g[1]) < 0.618){return ![];}else if((Q5g[1] - N5g["1" >> 804778272]) / (this.points[0][1] - N5g[1]) >= 0.786){return ! !0;}}else if(this.segment == 3){if(this.shape == "M" && N5g[1] > Q5g[1]){return ![];}else if(this.shape == (1930 === ("341" * 1,+"9181")?0x1b4f:"W") && N5g[1] < Q5g[1]){return !{};}else if((Q5g["1" * 1] - N5g[1]) / (this.points[1][+"1"] - N5g["1" << 760520448]) < 0.618){return !{};}else if((Q5g[1] - N5g["1" & 2147483647]) / (this.points[1][1] - N5g[1]) >= 0.786){return ! !0;}}else if(this.segment == 4){if(this.shape == "M" && (N5g[1] < Q5g[+"1"] || Q5g["1" * 1] < this.points[0][1])){return !{};}else if(this.shape == ((572.84,1658) === 4500?(5.81e+3,0x1a0):"W") && (N5g[1] > Q5g[1] || Q5g[1] > this.points[0][1])){return !1;}else if((this.points[1][1] - Q5g[1]) / (this.points[1]["1" & 2147483647] - this.points[2][+"1"]) < 1.27){return !{};}else if((this.points[1][+"1"] - Q5g[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !"1";}}O4D.T6D();return ! !{};};w2g.Drawing.gartley.prototype.click=function(q5g,e5g,I5g){var G5g;G5g=this.stx.panels[this.panelName];if(!G5g){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,e5g,I5g,G5g.chart);this.pts=[];this.penDown=! !1;this.segment=1;return !1;}if(this.accidentalClick(e5g,I5g)){this.penDown=!"";return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);O4D.g03(23);this.setPoint(O4D.I03("1",2147483647),e5g,I5g,G5g.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0]["1" | 0],G5g.chart);this.penDown=!{};return ! !"1";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,e5g,I5g,G5g.chart);;}return ![];};w2g.Drawing.gartley.prototype.render=function(S5g){var k8L,j5g,a5g,u5g,M6g,Z5g,F5g,b6g,m5g,R5g,B5g,k5g,O5g,T5g,p5g,o5g;k8L="do";k8L+="t";k8L+="t";k8L+="ed";j5g=this.stx.panels[this.panelName];if(!j5g){return;}O4D.T6D();a5g=this.stx.pixelFromTick(this.p0[0],j5g.chart);u5g=this.stx.pixelFromTick(this.p1[0],j5g.chart);M6g=this.stx.pixelFromValueAdjusted(j5g,this.p0[0],this.p0[1]);Z5g=this.stx.pixelFromValueAdjusted(j5g,this.p1[0],this.p1["1" << 157063648]);if(this.segment == 2){this.drawDropZone(S5g,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == +"3"){this.drawDropZone(S5g,"0.618" * 1 * this.points[1]["1" * 1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == +"4"){F5g=1.618 * this.points[2][1] - 0.618 * this.points[1][1];if(this.shape == "M"){F5g=Math.max(F5g,this.points[0][1]);}else {F5g=Math.min(F5g,this.points[0][1]);}this.drawDropZone(S5g,F5g,1.27 * this.points[+"2"][1] - 0.27 * this.points[1][1],this.p0[+"0"]);}b6g=this.lineWidth;m5g=this.getLineColor();R5g={pattern:this.pattern,lineWidth:b6g};if((this.penDown || this.highlighted) && this.pattern == "none"){R5g.pattern=k8L;}if(this.segment <= this.maxSegments){this.stx.plotLine(a5g,u5g,M6g,Z5g,m5g,this.name,S5g,j5g,R5g);}B5g=this.fillColor;k5g=[];if(this.points.length){S5g.beginPath();for(var W5g=1;W5g < this.points.length && W5g <= 4;W5g++){O5g=this.stx.pixelFromTick(this.points[W5g - +"1"][0],j5g.chart);T5g=this.stx.pixelFromTick(this.points[W5g]["0" ^ 0],j5g.chart);p5g=this.stx.pixelFromValueAdjusted(j5g,this.points[W5g - 1][0],this.points[W5g - ("1" | 0)]["1" << 1094167328]);o5g=this.stx.pixelFromValueAdjusted(j5g,this.points[W5g][0],this.points[W5g]["1" >> 683349984]);if(W5g == 1){k5g.push(O5g,p5g);}k5g.push(T5g,o5g);this.stx.plotLine(O5g,T5g,p5g,o5g,m5g,this.name,S5g,j5g,R5g);}if(this.points.length == 2 || this.points.length == 4){k5g.push(u5g,Z5g);}if(this.points[2]){k5g.push(this.stx.pixelFromTick(this.points[+"2"][0],j5g.chart),this.stx.pixelFromValueAdjusted(j5g,this.points[2][0],this.points[2][1]));}if(B5g && B5g != "auto" && !w2g.isTransparent(B5g)){for(var l5g=0;l5g < k5g.length;l5g+=2){if(l5g === 0){S5g.moveTo(k5g[0],k5g[1]);}S5g.lineTo(k5g[l5g],k5g[l5g + 1]);}S5g.fillStyle=B5g;S5g.globalAlpha=0.2;S5g.closePath();S5g.fill();S5g.globalAlpha=1;}};};w2g.Drawing.gartley.prototype.lineIntersection=function(f6g,t6g,h6g,C6g){var i6g,z6g,s8L;i6g=this.points;z6g=this.stx.panels[this.panelName];if(i6g.length != this.maxSegments + 1 || !z6g){return ! !0;}for(var E6g=0;E6g < i6g.length - 1;E6g++){s8L="segmen";s8L+="t";if(w2g.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,f6g,t6g,h6g,s8L,i6g[E6g],i6g[E6g + 1])){return ! !{};}}return ! !0;};w2g.Drawing.gartley.prototype.boxIntersection=function(K6g,A6g,g6g){var L6g,Y6g;if(!this.p0 || !this.p1){return !{};}if(g6g.x0 > Math.max(this.p0[0],this.p1[0]) || g6g.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}L6g=Math.min(this.p0[1],this.p1[1]);Y6g=Math.max(this.p0[1],this.p1[1]);for(var v6g=0;v6g < this.points.length;v6g++){L6g=Math.min(L6g,this.points[v6g][1]);Y6g=Math.max(Y6g,this.points[v6g][1]);}if(g6g.y1 > Y6g || g6g.y0 < L6g){return ![];}return ! ![];};w2g.Drawing.gartley.prototype.reposition=function(x6g,J6g,c6g,n6g){var s6g,V6g,U6g;if(!J6g){return;}s6g=this.stx.panels[this.panelName];V6g=J6g.tick - c6g;J6g.tick=c6g;U6g=J6g.value - n6g;J6g.value=n6g;if(J6g.action == "move"){this.pts=[];for(var w6g=0;w6g < this.points.length;w6g++){this.points[w6g][0]-=V6g;this.points[w6g][1]-=U6g;this.setPoint(1,this.points[w6g][0],this.points[w6g]["1" << 744145568],s6g.chart);if(w6g && w6g < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[w6g]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],s6g.chart);this.render(x6g);;}};w2g.Drawing.gartley.prototype.configs=[A8L,"fillColor","lineWidth",i8L];w2g.Drawing.gartley.prototype.adjust=function(){var X6g;X6g=this.stx.panels[this.panelName];if(!X6g){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,X6g.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,X6g.chart);this.points.push(this.p1);};w2g.Drawing.gartley.prototype.reconstructPoints=function(){var H6g,r6g;H6g=this.stx.panels[this.panelName];if(!H6g){return;}this.points=[];for(var y6g=0;y6g < this.pts.length;y6g+=3){r6g=w2g.strToDateTime(this.pts[y6g]);r6g.setMinutes(r6g.getMinutes() + Number(this.pts[y6g + 1]) - r6g.getTimezoneOffset());this.points.push([this.stx.tickFromDate(w2g.yyyymmddhhmmssmmm(r6g),H6g.chart),this.pts[y6g + 2]]);}};w2g.Drawing.gartley.prototype.reconstruct=function(P6g,d6g){this.stx=P6g;this.color=d6g.col;this.fillColor=d6g.fc;this.panelName=d6g.pnl;this.pattern=d6g.ptrn;this.lineWidth=d6g.lw;this.d0=d6g.d0;this.d1=d6g.d1;this.tzo0=d6g.tzo0;this.tzo1=d6g.tzo1;this.v0=d6g.v0;this.v1=d6g.v1;this.pts=d6g.pts.split(269.65 !== (192.18,7230)?335 != 2820?+"1210" >= (7408,2355)?0x8e8:",":"0x909" & 2147483647:0x5dd);this.adjust();};w2g.Drawing.gartley.prototype.serialize=function(){O4D.k6D();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};w2g.Drawing.freeform=function(){var X8L;X8L="fre";X8L+="efor";X8L+="m";this.name=X8L;this.splineTension=0.3;this.dragToDraw=! ![];};w2g.inheritsFrom(w2g.Drawing.freeform,w2g.Drawing.segment);w2g.Drawing.freeform.prototype.measure=function(){};w2g.Drawing.freeform.prototype.intersected=function(Q6g,N6g,D6g){if(D6g.x0 > this.hiX || D6g.x1 < this.lowX){return null;}if(D6g.y1 > this.hiY || D6g.y0 < this.lowY){return null;}this.highlighted=! ![];return {action:"move",p0:w2g.clone(this.p0),tick:Q6g,value:N6g};};w2g.Drawing.freeform.prototype.reposition=function(j6g,G6g,S6g,W6g){var e6g,I6g,q6g;if(!G6g){return;}e6g=this.stx.panels[this.panelName];I6g=G6g.tick - S6g;q6g=G6g.value - W6g;if(G6g.action == "move"){this.setPoint(0,G6g.p0[0] - I6g,G6g.p0[1] - q6g,e6g.chart);this.adjust();this.render(j6g);}};w2g.Drawing.freeform.prototype.click=function(R6g,F6g,B6g){var k6g,J8L,l6g;k6g=this.stx.panels[this.panelName];if(!k6g){return;}if(this.penDown === !{}){J8L="p";J8L+="oin";J8L+="te";J8L+="r";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(F6g,k6g.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(k6g,F6g,B6g)));l6g=this.stx.dateFromTick(F6g,k6g.chart,! ![]);this.d0=w2g.yyyymmddhhmmssmmm(l6g);this.tzo0=l6g.getTimezoneOffset();this.v0=B6g;this.p0=[w2g.ChartEngine.crosshairX - this.startX,w2g.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[+"1"]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=k6g.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=J8L;this.penDown=! ![];return !{};}this.penDown=!"1";this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return !"";};w2g.Drawing.freeform.prototype.move=function(m6g,O6g,T6g){var u6g,Z6g;if(!this.penDown){return;}u6g=this.stx.panels[this.panelName];Z6g=this.stx.dateFromTick(O6g,u6g.chart,!"");this.d1=w2g.yyyymmddhhmmssmmm(Z6g);this.tzo1=Z6g.getTimezoneOffset();this.v1=T6g;this.p1=[w2g.ChartEngine.crosshairX - this.startX,u6g.yAxis.flipped?this.startY - w2g.ChartEngine.crosshairY:w2g.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[+"0"] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2]["1" >> 432438112] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[+"0"],this.p1[+"1"]);this.pNodes.push(this.p1);this.render(m6g);return ! !0;};w2g.Drawing.freeform.prototype.intervalRatio=function(b1g,p6g,t1g,h1g,a6g,M1g){var o6g,S8L,o8L,u8L,z8L,n8L;function z1g(Y1g,K1g){return 30;}o6g=0;if(b1g == p6g){o6g=1;}else if(!isNaN(b1g) && !isNaN(p6g)){O4D.C03(6);o6g=O4D.J03(b1g,p6g);}else if(isNaN(b1g)){S8L="m";S8L+="o";S8L+="nt";S8L+="h";if(b1g == S8L){o8L="d";o8L+="a";o8L+="y";u8L="we";u8L+="e";u8L+="k";if(p6g == u8L){o6g=f1g(a6g,M1g);}else if(p6g == o8L){o6g=z1g(a6g,M1g);}else if(!isNaN(p6g)){o6g=z1g(a6g,M1g) * i1g(a6g,M1g) / p6g;}}else if(b1g == "week"){if(p6g == "month"){o6g=1 / f1g(a6g,M1g);}if(p6g == "day"){o6g=E1g(a6g,M1g);}else if(!isNaN(p6g)){o6g=E1g(a6g,M1g) * i1g(a6g,M1g) / p6g;}}else if(b1g == "day"){z8L="m";z8L+="ont";z8L+="h";n8L="w";n8L+="ee";n8L+="k";if(p6g == n8L){o6g=1 / E1g(a6g,M1g);}else if(p6g == z8L){o6g=1 / z1g(a6g,M1g);}else if(!isNaN(p6g)){o6g=i1g(a6g,M1g) / p6g;}}}else if(!isNaN(b1g)){if(p6g == "month"){o6g=b1g / (z1g(a6g,M1g) * i1g(a6g,M1g));}else if(p6g == "week"){o6g=b1g / (E1g(a6g,M1g) * i1g(a6g,M1g));}else if(p6g == "day"){o6g=b1g / i1g(a6g,M1g);}}function E1g(g1g,L1g){return 5;}O4D.C03(6);O4D.T6D();o6g*=O4D.I03(t1g,h1g);function i1g(w1g,A1g){if(w2g.Market.Symbology.isForexSymbol(A1g)){return 1440;}O4D.T6D();return 390;}function f1g(C1g,v1g){O4D.T6D();return 5;}return o6g;};w2g.Drawing.freeform.prototype.render=function(y1g){var J1g,V1g,r1g,H1g,d1g,U1g,s1g,P1g,x1g,X1g,D1g,n1g;J1g=this.stx.panels[this.panelName];if(!J1g){return;}V1g=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,J1g.chart.symbol);if(V1g === 0){return;}r1g=this.stx.layout.candleWidth / this.candleWidth;H1g=J1g.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,J1g.chart);d1g=this.stx.pixelFromTick(this.p0[0],J1g.chart);U1g=this.stx.pixelFromValueAdjusted(J1g,this.p0[0],this.p0[1]);s1g=[];P1g=this.lineWidth;x1g=this.getLineColor();X1g={pattern:this.pattern,lineWidth:P1g};for(var c1g=0;c1g < this.pNodes.length;c1g++){D1g=V1g * r1g * this.pNodes[c1g][0] + d1g;n1g=H1g * this.pNodes[c1g][1];if(J1g.yAxis.flipped){O4D.g03(4);n1g=O4D.J03(U1g,n1g);}else {n1g+=U1g;}s1g.push(D1g,n1g);}if(!s1g.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(s1g,x1g,this.name,y1g,J1g,X1g);}else {this.stx.plotSpline(s1g,this.splineTension,x1g,this.name,y1g,! ![],X1g);}};w2g.Drawing.freeform.prototype.adjust=function(){var Q1g,W1g,N1g,q1g,j1g,e1g,S1g,I1g;Q1g=this.stx.panels[this.panelName];if(!Q1g){return;}W1g=[this.nodes[0],this.nodes[1]];this.pNodes=[W1g];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var G1g=2;G1g < this.nodes.length;G1g+=2){O4D.C03(2);N1g=[this.nodes[G1g],this.nodes[O4D.J03(G1g,1)]];this.pNodes.push(N1g);this.lowX=Math.min(this.lowX,N1g["0" << 476966144]);this.hiX=Math.max(this.hiX,N1g[0]);this.lowY=Math.max(this.lowY,N1g[1]);this.hiY=Math.min(this.hiY,N1g[1]);}q1g=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,Q1g.chart.symbol);if(q1g === ("0" | 0)){return;}j1g=this.stx.layout.candleWidth / this.candleWidth;e1g=Q1g.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Q1g.chart);S1g=this.stx.pixelFromTick(this.p0[0],Q1g.chart);I1g=this.stx.pixelFromValueAdjusted(Q1g,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(q1g * j1g * this.lowX) + S1g,Q1g.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(q1g * j1g * this.hiX) + S1g,Q1g.chart);O4D.T6D();if(Q1g.yAxis.flipped){this.lowY=this.stx.valueFromPixel(I1g - Math.floor(e1g * this.lowY),Q1g);this.hiY=this.stx.valueFromPixel(I1g - Math.ceil(e1g * this.hiY),Q1g);}else {this.lowY=this.stx.valueFromPixel(Math.floor(e1g * this.lowY) + I1g,Q1g);this.hiY=this.stx.valueFromPixel(Math.ceil(e1g * this.hiY) + I1g,Q1g);}};w2g.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed("4" | 4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};w2g.Drawing.freeform.prototype.reconstruct=function(F1g,k1g){O4D.k6D();this.stx=F1g;this.color=k1g.col;this.panelName=k1g.pnl;this.pattern=k1g.ptrn;this.lineWidth=k1g.lw;this.candleWidth=k1g.cw;this.multiplier=k1g.mlt;this.d0=k1g.d0;this.tzo0=k1g.tzo0;this.v0=k1g.v0;this.interval=k1g.inter;this.periodicity=k1g.pd;this.nodes=k1g.nodes;this.adjust();};w2g.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=+"0";O4D.T6D();this.h=0;O4D.C03(12);this.padding=O4D.J03("4",1);this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};w2g.inheritsFrom(w2g.Drawing.callout,w2g.Drawing.annotation);w2g.Drawing.callout.prototype.configs=[p8L,"fillColor","lineWidth","pattern","font"];w2g.Drawing.callout.prototype.copyConfig=function(l1g){O4D.k6D();w2g.Drawing.copyConfig(this,l1g);this.borderColor=this.color;};w2g.Drawing.callout.prototype.move=function(B1g,R1g,u1g){if(!this.penDown){return;}this.copyConfig();this.p0=[R1g,u1g];this.render(B1g);};w2g.Drawing.callout.prototype.onChange=function(T1g){var O1g,m1g,Z1g;O1g=this.stx.panels[this.panelName];if(!O1g){return;}m1g=T1g.target;this.w=m1g.clientWidth;this.h=m1g.clientHeight;Z1g=this.context || this.stx.chart.tempCanvas.context;w2g.clearCanvas(Z1g.canvas,this.stx);this.render(Z1g);O4D.T6D();this.edit(Z1g);};w2g.Drawing.callout.prototype.render=function(p1g){var C8L,w8L,h0v,A0v,K0v,a1g,o1g,b0v,M0v,C0v,v0v,t0v,E0v,g0v,z0v,L0v,i0v,f0v,I4e,q4e,H4e,L8L,b8L,w0v;C8L="alp";C8L+="h";C8L+="abetic";w8L="a";w8L+="u";w8L+="to";this.context=p1g;h0v=this.stx.panels[this.panelName];if(!h0v){return;}A0v=this.stx.pixelFromTick(this.p0["0" - 0],h0v.chart);K0v=this.stx.pixelFromValueAdjusted(h0v,this.p0[0],this.p0[+"1"]);if(isNaN(K0v)){return;}p1g.font=this.fontString;p1g.textBaseline="top";a1g=A0v;o1g=K0v;b0v=this.w / +"2";M0v=this.h / 2;if(this.penDown){b0v=this.defaultWidth;M0v=this.defaultHeight;if(!M0v){M0v=this.fontSize;}}C0v=this.lineWidth;if(!C0v){C0v=1.1;}v0v=this.color;if(v0v == w8L || w2g.isTransparent(v0v)){v0v=this.stx.defaultColor;}t0v=this.borderColor;O4D.T6D();if(t0v == "auto" || w2g.isTransparent(t0v)){t0v=this.stx.defaultColor;}if(this.highlighted){t0v=this.stx.getCanvasColor("stx_highlight_vector");}i0v=Math.min(Math.min(b0v,M0v) / 2,8);if(this.stem){if(this.stem.t){E0v=this.stx.pixelFromTick(this.stem.t);z0v=this.stx.pixelFromValueAdjusted(h0v,this.stem.t,this.stem.v);}else if(this.stem.x){E0v=a1g;z0v=o1g;a1g+=this.stem.x;o1g+=this.stem.y;}f0v="";if(E0v >= a1g + b0v){O4D.C03(2);g0v=O4D.I03(a1g,b0v);f0v="r";}else if(E0v > a1g - b0v && E0v < a1g + b0v){g0v=a1g;f0v="c";}else if(E0v <= a1g - b0v){O4D.C03(4);g0v=O4D.J03(a1g,b0v);f0v="l";}if(z0v >= o1g + M0v){O4D.C03(2);L0v=O4D.I03(o1g,M0v);f0v+=(488.17,"600.43" - 0) > (3336,1370)?411 > (4700,958.93)?"f":(8.20e+3,+"0xaf6"):"b";}else if(z0v > o1g - M0v && z0v < o1g + M0v){L0v=o1g;f0v+=(+"8900",5020) == 4158?("B","d"):"m";}else if(z0v <= o1g - M0v){O4D.g03(4);L0v=O4D.J03(o1g,M0v);I4e=+"907742931";q4e=-1931653409;H4e=2;for(var Z4e=1;O4D.E9e(Z4e.toString(),Z4e.toString().length,"7741" ^ 0) !== I4e;Z4e++){f0v+="t";H4e+=2;}if(O4D.N9e(H4e.toString(),H4e.toString().length,"49992" >> 1478738592) !== q4e){f0v%="";}}this.stemEntry=f0v;if(f0v != "cm"){E0v=Math.round(E0v);g0v=Math.round(g0v);z0v=Math.round(z0v);L0v=Math.round(L0v);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",p1g);}else {if(this.fillColor){p1g.fillStyle=this.fillColor;p1g.globalAlpha=0.4;}else if(this.stem){p1g.fillStyle=this.stx.containerColor;}}p1g.strokeStyle=t0v;if(p1g.setLineDash){p1g.setLineDash(w2g.borderPatternToArray(C0v,this.pattern));p1g.lineDashOffset=0;;}if(t0v){L8L="c";L8L+="t";b8L="l";b8L+="m";p1g.beginPath();p1g.lineWidth=C0v;O4D.C03(8);p1g.moveTo(O4D.J03(a1g,b0v,i0v),O4D.J03(o1g,M0v,O4D.g03(4)));if(this.stemEntry != "rt"){O4D.C03(2);p1g.quadraticCurveTo(O4D.J03(a1g,b0v),O4D.J03(o1g,M0v,O4D.g03(4)),O4D.J03(a1g,b0v,O4D.g03(2)),O4D.J03(i0v,M0v,o1g,O4D.g03(3)));;}else {p1g.lineTo(E0v,z0v);O4D.C03(2);p1g.lineTo(O4D.I03(a1g,b0v),O4D.J03(i0v,M0v,o1g,O4D.C03(3)));}O4D.C03(2);p1g.lineTo(O4D.I03(a1g,b0v),O4D.J03(o1g,i0v,2,O4D.C03(24)));if(this.stemEntry == "rm"){p1g.lineTo(E0v,z0v);}O4D.g03(2);p1g.lineTo(O4D.I03(a1g,b0v),O4D.I03(o1g,i0v,"2",O4D.C03(25)));O4D.g03(2);p1g.lineTo(O4D.J03(a1g,b0v),O4D.I03(o1g,M0v,i0v,O4D.g03(8)));if(this.stemEntry != "rb"){O4D.C03(2);p1g.quadraticCurveTo(O4D.I03(a1g,b0v),O4D.I03(o1g,M0v,O4D.g03(2)),O4D.I03(a1g,b0v,i0v,O4D.g03(8)),O4D.J03(o1g,M0v,O4D.C03(2)));;}else {p1g.lineTo(E0v,z0v);O4D.g03(8);p1g.lineTo(O4D.I03(a1g,b0v,i0v),O4D.I03(o1g,M0v,O4D.g03(2)));}O4D.C03(26);p1g.lineTo(O4D.J03(i0v,2,a1g),O4D.J03(o1g,M0v,O4D.g03(2)));if(this.stemEntry == "cb"){p1g.lineTo(E0v,z0v);}O4D.C03(24);p1g.lineTo(O4D.J03(a1g,i0v,2),O4D.J03(o1g,M0v,O4D.C03(2)));O4D.g03(3);p1g.lineTo(O4D.I03(i0v,b0v,a1g),O4D.J03(o1g,M0v,O4D.g03(2)));if(this.stemEntry != "lb"){O4D.g03(4);p1g.quadraticCurveTo(O4D.J03(a1g,b0v),O4D.I03(o1g,M0v,O4D.C03(2)),O4D.I03(a1g,b0v,O4D.g03(4)),O4D.J03(o1g,M0v,i0v,O4D.C03(8)));;}else {p1g.lineTo(E0v,z0v);O4D.g03(4);p1g.lineTo(O4D.J03(a1g,b0v),O4D.J03(o1g,M0v,i0v,O4D.g03(8)));}O4D.C03(4);p1g.lineTo(O4D.I03(a1g,b0v),O4D.J03(i0v,2,o1g,O4D.C03(26)));if(this.stemEntry == b8L){p1g.lineTo(E0v,z0v);}O4D.g03(4);p1g.lineTo(O4D.I03(a1g,b0v),O4D.J03(o1g,i0v,2,O4D.C03(24)));O4D.C03(4);p1g.lineTo(O4D.J03(a1g,b0v),O4D.I03(i0v,M0v,o1g,O4D.C03(3)));if(this.stemEntry != "lt"){O4D.C03(4);p1g.quadraticCurveTo(O4D.J03(a1g,b0v),O4D.I03(o1g,M0v,O4D.C03(4)),O4D.I03(i0v,b0v,a1g,O4D.g03(3)),O4D.J03(o1g,M0v,O4D.C03(4)));;}else {p1g.lineTo(E0v,z0v);O4D.g03(3);p1g.lineTo(O4D.J03(i0v,b0v,a1g),O4D.J03(o1g,M0v,O4D.g03(4)));}O4D.g03(24);p1g.lineTo(O4D.J03(a1g,i0v,2),O4D.J03(o1g,M0v,O4D.C03(4)));if(this.stemEntry == L8L){p1g.lineTo(E0v,z0v);}O4D.g03(26);p1g.lineTo(O4D.J03(i0v,2,a1g),O4D.I03(o1g,M0v,O4D.g03(4)));O4D.C03(8);p1g.lineTo(O4D.J03(a1g,b0v,i0v),O4D.I03(o1g,M0v,O4D.g03(4)));p1g.fill();p1g.globalAlpha=1;if(this.pattern != "none"){p1g.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",p1g);}else {p1g.fillStyle=v0v;}o1g+=this.padding;if(!this.ta){for(var Y0v=0;Y0v < this.arr.length;Y0v++){p1g.fillText(this.arr[Y0v],a1g - b0v + this.padding,o1g - M0v);o1g+=this.fontSize;}}p1g.textBaseline=C8L;if(this.highlighted && !this.noHandles){w0v=this.highlighted == "p0"?!0:![];this.littleCircle(p1g,E0v,z0v,w0v);};};w2g.Drawing.callout.prototype.click=function(s0v,c0v,n0v){var J0v,X3e,J3e,S3e;if(this.stx.overXAxis || this.stx.overYAxis){return;}J0v=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,c0v,n0v,J0v.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};X3e=594182409;J3e=-1506061618;S3e=2;for(var o3e=1;O4D.N9e(o3e.toString(),o3e.toString().length,73620) !== X3e;o3e++){this.penDown=! !0;this.adjust();S3e+=2;}if(O4D.E9e(S3e.toString(),S3e.toString().length,62671) !== J3e){this.penDown=! !{};this.adjust();}this.penDown=! ![];this.adjust();return !{};}this.adjust();this.edit(s0v);this.penDown=![];return !1;};w2g.Drawing.callout.prototype.reposition=function(H0v,V0v,y0v,r0v){var U0v,x0v,X0v,F8L,Q8L,L3e,C3e,Q3e;if(!V0v){return;}U0v=this.stx.panels[this.panelName];x0v=V0v.tick - y0v;X0v=V0v.value - r0v;if(V0v.stem){F8L="m";F8L+="o";F8L+="ve";Q8L="d";Q8L+="ra";Q8L+="g";if(V0v.action == Q8L){this.stem={d:this.stx.dateFromTick(y0v,U0v.chart,! !{}),v:r0v};}else if(V0v.action == F8L){this.setPoint(0,V0v.p0[0] - x0v,V0v.p0[1] - X0v,U0v.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(V0v.stem.d,U0v.chart) - x0v),v:V0v.stem.v - X0v};}this.adjust();}else {this.setPoint(0,V0v.p0[0] - x0v,V0v.p0[1] - X0v,U0v.chart);}L3e=-2008983035;O4D.C03(0);C3e=-O4D.J03(1795883488,"1341140000");Q3e=2;for(var f3e="1" | 0;O4D.N9e(f3e.toString(),f3e.toString().length,76454) !== L3e;f3e++){this.render(H0v);O4D.g03(15);Q3e+=O4D.I03("2",693385664);}if(O4D.E9e(Q3e.toString(),Q3e.toString().length,68713) !== C3e){this.render(H0v);}};w2g.Drawing.callout.prototype.lineIntersection=function(l0v,B0v,k0v,F0v){var f8L,e0v,d0v,Q0v,I0v,q0v,j0v,P0v,N0v,G0v,S0v,W0v,D0v;f8L="st";f8L+="r";f8L+="ing";e0v=this.stx.panels[this.panelName];d0v=this.stem;Q0v=this.p0;I0v=this.stx;if(!Q0v || !d0v || !e0v){return !1;}q0v=d0v.t || this.stx.tickFromDate(d0v.d,e0v.chart);j0v={x0:Q0v["0" * 1],x1:q0v,y0:Q0v[1],y1:d0v.v};P0v=w2g.convertBoxToPixels(I0v,this.panelName,j0v);N0v=P0v.x0;G0v=P0v.y0;S0v=P0v.x1;W0v=P0v.y1;if(typeof this.stemEntry == f8L){if(this.stemEntry.indexOf(975.98 != (3456,4630)?"l":(97.56,0xc79)) > -1){N0v-=this.w / 2;}else if(this.stemEntry.indexOf(337.03 == (7878,4596)?("T",9.00e+3):"r") > - +"1"){N0v+=this.w / 2;}if(this.stemEntry.indexOf("t") > -1){G0v-=this.h / 2;}else if(this.stemEntry.indexOf("b") > -1){G0v+=this.h / ("2" - 0);}}D0v=w2g.convertBoxToPixels(I0v,this.panelName,k0v);return w2g.boxIntersects(D0v.x0,D0v.y0,D0v.x1,D0v.y1,N0v,G0v,S0v,W0v,F0v);};w2g.Drawing.callout.prototype.intersected=function(u0v,m0v,R0v){var Z0v,H2e,g2e,Z2e,d8L,v8L,O0v,T0v,p0v,o0v,a0v,M4v,b4v;Z0v=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,R0v)){H2e=759042593;O4D.C03(15);g2e=-O4D.I03("1640294162",1927945632);Z2e=2;for(var j2e=1;O4D.E9e(j2e.toString(),j2e.toString().length,26204) !== H2e;j2e++){d8L="p";d8L+="0";this.highlighted=d8L;return {action:"drag",stem:! !{}};}if(O4D.E9e(Z2e.toString(),Z2e.toString().length,24108) !== g2e){v8L="p";v8L+="0";this.highlighted=v8L;return {action:"drag",stem:!1};}}O0v=this.stx.pixelFromTick(this.p0[0],Z0v.chart) - this.w / 2;T0v=this.stx.pixelFromValueAdjusted(Z0v,this.p0[0],this.p0[1]) - this.h / 2;p0v=O0v + this.w;o0v=T0v + this.h;if(this.stem && this.stem.x){O0v+=this.stem.x;p0v+=this.stem.x;T0v+=this.stem.y;o0v+=this.stem.y;}a0v=this.stx.pixelFromTick(u0v,Z0v.chart);M4v=this.stx.pixelFromValueAdjusted(Z0v,u0v,m0v);if(a0v + R0v.r >= O0v && a0v - R0v.r <= p0v && M4v + R0v.r >= T0v && M4v - R0v.r <= o0v){this.highlighted=! ![];return {p0:w2g.clone(this.p0),tick:u0v,value:m0v};}b4v=this.lineIntersection(u0v,m0v,R0v,"segment");if(b4v){this.highlighted=! ![];return {action:"move",stem:w2g.clone(this.stem),p0:w2g.clone(this.p0),tick:u0v,value:m0v};}return null;};w2g.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};w2g.inheritsFrom(w2g.Drawing.fibonacci,w2g.Drawing.BaseTwoPoint);w2g.Drawing.fibonacci.mapping={trend:("7283" | 6257,+"4594") === ("523" ^ 0,7880)?(2470,767) <= 90.02?(416.22,! !"1"):(!"1",388):"t",color:7090 > (8930,"9368" | 9216)?7720 >= (2105,7620)?(! !0,"s"):(8.38e+3,0x194e):"c",parameters:7711 > (2484,3230)?309.49 >= "101.24" - 0?4600 <= "8262" * 1?"p":"298.74" - 0:(9.87e+3,"K"):"880.85" - 0,pattern:"pt",opacity:7080 >= 630.52?(611.21,2200) !== (8930,+"4970")?997.4 <= (8590,796.73)?(166,+"4.05e+3"):"o":0x5cf:4.66e+2,lineWidth:"lw",level:3690 <= (96.43,636.04)?361.57 !== 6850?![]:0xf77:"l",extendLeft:"e",printLevels:R8L,printValues:"pv",timezone:"tz",display:1252 !== 206.05?1028 >= (172.22,9508)?(746,1.41e+3):8370 != 10?"d":(3.08e+2,"h"):! !{}};O4D.g03(12);w2g.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,O4D.I03("1",1),1.382,1.618];w2g.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];w2g.Drawing.fibonacci.prototype.initializeSettings=function(t4v){var z4v,E4v;z4v=this.recommendedLevels;if(z4v && !t4v.currentVectorParameters.fibonacci.fibsAlreadySet){E4v=t4v.currentVectorParameters.fibonacci.fibs;for(var i4v=0;i4v < E4v.length;i4v++){delete E4v[i4v].display;for(var f4v=+"0";f4v < z4v.length;f4v++){if(E4v[i4v].level == z4v[f4v]){E4v[i4v].display=!"";}}}}};w2g.Drawing.fibonacci.prototype.setOuter=function(){var h4v,C4v,A4v,w4v,J4v,s4v,c4v,V4v,U4v,g4v,L4v,v4v,K4v,n4v;h4v=this.stx;C4v=h4v.panels[this.panelName];if(!C4v){return;}A4v=Math.max(this.p0[1],this.p1[1]);w4v=Math.min(this.p0[1],this.p1[+"1"]);O4D.C03(4);J4v=O4D.J03(A4v,w4v);this.outer={p0:w2g.clone(this.p0),p1:w2g.clone(this.p1)};s4v=h4v.pixelFromValueAdjusted(C4v,this.p0[0],this.p0[1]);c4v=h4v.pixelFromValueAdjusted(C4v,this.p1[0],this.p1[1]);V4v=h4v.pixelFromTick(this.p0[0],C4v.chart);U4v=h4v.pixelFromTick(this.p1[0],C4v.chart);g4v=0;L4v=1;for(var Y4v=0;Y4v < this.parameters.fibs.length;Y4v++){v4v=this.parameters.fibs[Y4v];if(v4v.level >= g4v && v4v.level <= L4v || !v4v.display)continue;K4v=h4v.pixelFromValueAdjusted(C4v,this.p0[0],c4v < s4v?A4v - J4v * v4v.level:w4v + J4v * v4v.level);n4v=w2g.xIntersection({x0:V4v,x1:U4v,y0:s4v,y1:c4v},K4v);if(v4v.level < g4v){g4v=v4v.level;this.outer.p1[1]=h4v.valueFromPixel(K4v,C4v);this.outer.p1[0]=h4v.tickFromPixel(n4v,C4v.chart);}else if(v4v.level > L4v){L4v=v4v.level;this.outer.p0[1]=h4v.valueFromPixel(K4v,C4v);this.outer.p0[0]=h4v.tickFromPixel(n4v,C4v.chart);}}};w2g.Drawing.fibonacci.prototype.click=function(r4v,X4v,y4v){var x4v;x4v=this.stx.panels[this.panelName];if(!x4v){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,X4v,y4v,x4v.chart);this.penDown=! !1;return !1;}if(this.accidentalClick(X4v,y4v)){return this.dragToDraw;}this.setPoint(1,X4v,y4v,x4v.chart);this.setOuter();this.parameters=w2g.clone(this.parameters);this.penDown=!1;O4D.k6D();return ! !{};;};w2g.Drawing.fibonacci.prototype.render=function(H4v){var I8L,P8L,d4v,Z4v,m4v,O4v,a4v,k4v,S4v,N4v,D4v,M7v,b7v,i7v,t7v,h7v,E7v,C7v,T4v,F4v,p4v,l4v,W4v,g8L,H8L,q8L,I4v,P4v,R4v,q4v,Q4v,v7v,B4v,j4v,G4v,z7v,e4v,f7v,g7v,L7v;I8L="stx";I8L+="_y";I8L+="ax";I8L+="is";P8L="a";P8L+="u";P8L+="t";P8L+="o";d4v=this.stx.panels[this.panelName];if(!d4v){return;}Z4v=d4v.yAxis;if(!this.p1){return;}m4v=Math.max(this.p0[1],this.p1[1]);O4v=Math.min(this.p0["1" - 0],this.p1[1]);a4v=Z4v.flipped?O4v - m4v:m4v - O4v;k4v=this.stx.pixelFromTick(this.p0[0],d4v.chart);S4v=this.stx.pixelFromTick(this.p1[0],d4v.chart);N4v=this.stx.pixelFromValueAdjusted(d4v,this.p0[0],this.p0[1]);D4v=this.stx.pixelFromValueAdjusted(d4v,this.p1[+"0"],this.p1[1]);M7v=Math.min(D4v,N4v);b7v=Math.max(D4v,N4v);O4D.C03(4);i7v=O4D.I03(b7v,M7v);O4D.g03(27);t7v=O4D.I03(D4v,k4v,0,N4v,S4v);h7v={color:P8L,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=h7v;}E7v=this.getLineColor(this.parameters.trend.color);H4v.textBaseline="middle";this.stx.canvasFont(I8L,H4v);C7v=H4v.measureText("161.8%").width + 10;T4v=Number.MAX_VALUE;F4v=Number.MAX_VALUE;p4v=Number.MAX_VALUE * -1;l4v=Number.MAX_VALUE * -("1" - 0);W4v=this.color;if(W4v == "auto" || w2g.isTransparent(W4v)){W4v=this.stx.defaultColor;}this.rays=[];for(var o4v=0;o4v < this.parameters.fibs.length;o4v++){g8L="undefi";g8L+="ned";H8L="au";H8L+="to";q8L="le";q8L+="ft";H4v.textAlign=q8L;H4v.fillStyle=W4v;I4v=this.parameters.fibs[o4v];if(!I4v.display)continue;P4v=this.stx.pixelFromValueAdjusted(d4v,this.p0[0],D4v < N4v?m4v - a4v * I4v.level:O4v + a4v * I4v.level);R4v=w2g.xIntersection({x0:k4v,x1:S4v,y0:N4v,y1:D4v},P4v);q4v=this.parameters.extendLeft?0:R4v;Q4v=d4v.left + d4v.width;if(this.parameters.printLevels){v7v=Math.round(I4v.level * 1000) / 10 + ((3540,869.5) === (146.37,1710)?"h":(920.94,204.64) != 7714?"%":3.75e+3);Q4v-=C7v;if(this.parameters.printValues){H4v.fillStyle=W4v;this.stx.canvasFont("stx_yaxis",H4v);;}if(Q4v < q4v){H4v.textAlign="right";}H4v.fillText(v7v,Q4v,P4v);if(Q4v < q4v){Q4v+=5;}else {Q4v-=+"5";}}if(this.parameters.printValues){if(R4v < d4v.width){B4v=this.stx.transformedPriceFromPixel(P4v,d4v);if(Z4v.priceFormatter){B4v=Z4v.priceFormatter(this.stx,d4v,B4v);}else {B4v=this.stx.formatYAxisPrice(B4v,d4v);}if(H4v == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(d4v,B4v,P4v,W4v,null,H4v);if(H4v == this.stx.chart.context){this.stx.startClip(d4v.name);}}}j4v=I4v.color;if(j4v == H8L || w2g.isTransparent(j4v)){j4v=this.color;}if(j4v == "auto" || w2g.isTransparent(j4v)){j4v=this.stx.defaultColor;}G4v=I4v.color;if(G4v == "auto" || w2g.isTransparent(G4v)){G4v=this.fillColor;}if(G4v == "auto" || w2g.isTransparent(G4v)){G4v=this.stx.defaultColor;}H4v.fillStyle=G4v;z7v=w2g.clone(I4v.parameters);if(this.highlighted){z7v.opacity=1;}this.stx.plotLine(q4v,Q4v,P4v,P4v,this.highlighted?E7v:j4v,"segment",H4v,d4v,z7v);this.rays.push([[q4v,P4v],[Q4v,P4v]]);H4v.globalAlpha=0.05;H4v.beginPath();H4v.moveTo(Q4v,P4v);H4v.lineTo(q4v,P4v);if(q4v){H4v.lineTo(S4v,D4v);}else {H4v.lineTo(q4v,D4v);}H4v.lineTo(Q4v,D4v);if(typeof G4v != g8L){H4v.fill();}H4v.globalAlpha=1;if(P4v < F4v){T4v=R4v;F4v=P4v;}if(P4v > l4v){p4v=R4v;l4v=P4v;}}for(var u4v=+"0";u4v <= +"1";u4v++){e4v=t7v?b7v - i7v * u4v:M7v + i7v * u4v;e4v=Math.round(e4v);if(e4v < F4v){T4v=w2g.xIntersection({x0:k4v,x1:S4v,y0:N4v,y1:D4v},e4v);F4v=e4v;}if(e4v > l4v){p4v=w2g.xIntersection({x0:k4v,x1:S4v,y0:N4v,y1:D4v},e4v);l4v=e4v;}}f7v=w2g.clone(this.parameters.trend.parameters);if(this.highlighted){f7v.opacity=+"1";}this.stx.plotLine(T4v,p4v,F4v,l4v,E7v,"segment",H4v,d4v,f7v);if(this.highlighted){g7v=this.highlighted == "p0"?! ![]:!{};L7v=this.highlighted == "p1"?! ![]:!{};this.littleCircle(H4v,k4v,N4v,g7v);this.littleCircle(H4v,S4v,D4v,L7v);}};w2g.Drawing.fibonacci.prototype.reposition=function(K7v,Y7v,A7v,w7v){if(!Y7v){return;}w2g.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};w2g.Drawing.fibonacci.prototype.intersected=function(y7v,r7v,H7v){var c7v,n7v,V7v,Z8L,U7v,x7v,X7v;O4D.T6D();c7v=this.p0;n7v=this.p1;if(!c7v || !n7v){return null;}V7v={0:c7v,1:n7v};for(var J7v in V7v){if(this.pointIntersection(V7v[J7v][0],V7v[J7v][+"1"],H7v)){Z8L="d";Z8L+="r";Z8L+="a";Z8L+="g";O4D.C03(2);this.highlighted=O4D.J03(+"281" > (81.94,+"836")?2180 === 6790?(0x11f3,! !0):(8009,6888) == 6280?5.92e+3:"J":"p",J7v);return {action:Z8L,point:(476.31 != (9820,5494)?(3815,831.52) < (7580,8389)?"p":973.4 >= (3438,9837)?9.96e+3:"G":("k",2.42e+3)) + J7v};}}U7v=this.outer;x7v=this.rays;X7v=U7v && this.lineIntersection(y7v,r7v,H7v,"segment",U7v.p0,U7v.p1);if(!X7v){for(var s7v=+"0";s7v < x7v.length;s7v++){if(this.lineIntersection(y7v,r7v,H7v,"ray",x7v[s7v][0],x7v[s7v][1],! !{})){X7v=! !1;break;}}}if(X7v){this.highlighted=!0;return {action:"move",p0:w2g.clone(c7v),p1:w2g.clone(n7v),tick:y7v,value:r7v};}return null;};w2g.Drawing.fibonacci.prototype.reconstruct=function(P7v,d7v){d7v=w2g.replaceFields(d7v,w2g.reverseObject(w2g.Drawing.fibonacci.mapping));this.stx=P7v;this.parameters=d7v.parameters;if(!this.parameters){this.parameters=w2g.clone(this.stx.currentVectorParameters.fibonacci);}this.color=d7v.col;this.fillColor=d7v.fc;this.panelName=d7v.pnl;this.d0=d7v.d0;this.d1=d7v.d1;this.d2=d7v.d2;this.tzo0=d7v.tzo0;this.tzo1=d7v.tzo1;O4D.T6D();this.tzo2=d7v.tzo2;this.v0=d7v.v0;this.v1=d7v.v1;this.v2=d7v.v2;this.adjust();};w2g.Drawing.fibonacci.prototype.adjust=function(){var D7v;D7v=this.stx.panels[this.panelName];if(!D7v){return;}this.setPoint(0,this.d0,this.v0,D7v.chart);this.setPoint(1,this.d1,this.v1,D7v.chart);O4D.T6D();this.setOuter();};w2g.Drawing.fibonacci.prototype.serialize=function(){var Q7v;Q7v={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return w2g.replaceFields(Q7v,w2g.Drawing.fibonacci.mapping);};w2g.Drawing.retracement=function(){var U8L;U8L="r";U8L+="et";U8L+="raceme";U8L+="nt";this.name=U8L;};w2g.inheritsFrom(w2g.Drawing.retracement,w2g.Drawing.fibonacci);w2g.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=! !0;O4D.k6D();this.p2=null;};w2g.inheritsFrom(w2g.Drawing.fibprojection,w2g.Drawing.fibonacci);w2g.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,4.236];w2g.Drawing.fibprojection.prototype.click=function(I7v,G7v,e7v){var N7v,d3e,v3e,R3e;N7v=this.stx.panels[this.panelName];if(!N7v){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,G7v,e7v,N7v.chart);this.penDown=!"";return ![];}if(this.accidentalClick(G7v,e7v)){this.stx.undo();return ! ![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],N7v.chart);this.parameters=w2g.clone(this.parameters);return ! !1;}this.setPoint(1,G7v,e7v,N7v.chart);d3e=+"1697703666";v3e=-399411426;R3e=2;for(var I3e=1;O4D.E9e(I3e.toString(),I3e.toString().length,32410) !== d3e;I3e++){this.p2=[this.p1[9],this.p1[3]];R3e+=2;}if(O4D.E9e(R3e.toString(),R3e.toString().length,48913) !== v3e){O4D.g03(15);this.p2=[this.p1[0],this.p1[O4D.I03("1",1766251488)]];}return !1;;};w2g.Drawing.fibprojection.prototype.render=function(q7v){var N8L,j8L,j7v,i8v,z8v,Z7v,O7v,p7v,T7v,o7v,B7v,f8v,a7v,t8v,R7v,D8L,E8L,u7v,S7v,h8v,F7v,W7v,C8v,m7v,l7v,k7v,E8v,b8v,t8L,v8v,g8v,L8v;O4D.T6D();N8L="st";N8L+="x_y";N8L+="axis";j8L="au";j8L+="to";j7v=this.stx.panels[this.panelName];if(!j7v){return;}i8v=j7v.yAxis;if(!this.p1){return;}z8v=this.p1[1] - this.p0[1];Z7v=this.stx.pixelFromTick(this.p0[0],j7v.chart);O7v=this.stx.pixelFromTick(this.p1[0],j7v.chart);p7v=this.stx.pixelFromValueAdjusted(j7v,this.p0[0],this.p0[1]);T7v=this.stx.pixelFromValueAdjusted(j7v,this.p1[0],this.p1[1]);o7v=null;B7v=null;if(this.p2){o7v=this.stx.pixelFromTick(this.p2[0],j7v.chart);B7v=this.stx.pixelFromValueAdjusted(j7v,this.p2[0],this.p2[1]);}f8v={color:j8L,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=f8v;}a7v=this.getLineColor(this.parameters.trend.color);q7v.textBaseline="middle";this.stx.canvasFont(N8L,q7v);t8v=q7v.measureText("161.8%").width + 10;R7v=this.color;if(R7v == "auto" || w2g.isTransparent(R7v)){R7v=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var M8v=0;M8v < this.parameters.fibs.length;M8v++){D8L="a";D8L+="ut";D8L+="o";E8L="le";E8L+="ft";q7v.textAlign=E8L;q7v.fillStyle=R7v;u7v=this.parameters.fibs[M8v];if(!u7v.display)continue;S7v=this.stx.pixelFromValueAdjusted(j7v,this.p2[0],this.p2[1] + z8v * u7v.level);h8v=w2g.xIntersection({x0:Z7v,x1:O7v,y0:p7v,y1:T7v},S7v);F7v=this.parameters.extendLeft?0:Z7v;W7v=j7v.left + j7v.width;if(this.parameters.printLevels){C8v=Math.round(u7v.level * 1000) / 10 + ((7127,999.48) < (7460,7166)?467.75 == (1882,1135)?221.34:"%":285.06);W7v-=t8v;if(this.parameters.printValues){q7v.fillStyle=R7v;this.stx.canvasFont("stx_yaxis",q7v);;}if(W7v < F7v){q7v.textAlign="right";}q7v.fillText(C8v,W7v,S7v);if(W7v < F7v){W7v+=5;}else {W7v-=5;}}if(this.parameters.printValues){if(h8v < j7v.width){m7v=this.stx.transformedPriceFromPixel(S7v,j7v);if(i8v.priceFormatter){m7v=i8v.priceFormatter(this.stx,j7v,m7v);}else {m7v=this.stx.formatYAxisPrice(m7v,j7v);}if(q7v == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(j7v,m7v,S7v,R7v,null,q7v);if(q7v == this.stx.chart.context){this.stx.startClip(j7v.name);}}}l7v=u7v.color;if(l7v == "auto" || w2g.isTransparent(l7v)){l7v=this.color;}if(l7v == "auto" || w2g.isTransparent(l7v)){l7v=this.stx.defaultColor;}k7v=u7v.color;if(k7v == "auto" || w2g.isTransparent(k7v)){k7v=this.fillColor;}if(k7v == D8L || w2g.isTransparent(k7v)){k7v=this.stx.defaultColor;}q7v.fillStyle=k7v;E8v=w2g.clone(u7v.parameters);if(this.highlighted){E8v.opacity=1;}this.stx.plotLine(F7v,W7v,S7v,S7v,this.highlighted?a7v:l7v,"segment",q7v,j7v,E8v);this.rays.push([[F7v,S7v],[W7v,S7v]]);q7v.globalAlpha=0.05;q7v.beginPath();q7v.moveTo(W7v,S7v);q7v.lineTo(F7v,S7v);if(F7v){q7v.lineTo(Z7v,B7v);}else {q7v.lineTo(F7v,B7v);}q7v.lineTo(W7v,B7v);if(typeof k7v != "undefined"){q7v.fill();}q7v.globalAlpha=+"1";}}b8v=w2g.clone(this.parameters.trend.parameters);if(this.highlighted){b8v.opacity=+"1";}this.stx.plotLine(Z7v,O7v,p7v,T7v,a7v,"segment",q7v,j7v,b8v);if(this.p2){this.stx.plotLine(O7v,o7v,T7v,B7v,a7v,"segment",q7v,j7v,b8v);}if(this.highlighted){t8L="p";t8L+="2";v8v=this.highlighted == "p0"?!0:!{};g8v=this.highlighted == "p1"?!0:! !0;L8v=this.highlighted == t8L?! !{}:!{};this.littleCircle(q7v,Z7v,p7v,v8v);this.littleCircle(q7v,O7v,T7v,g8v);this.littleCircle(q7v,o7v,B7v,L8v);}};w2g.Drawing.fibprojection.prototype.move=function(A8v,Y8v,K8v){O4D.T6D();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[Y8v,K8v];}else {this.p2=[Y8v,K8v];}this.render(A8v);};w2g.Drawing.fibprojection.prototype.reposition=function(n8v,w8v,V8v,U8v){var J8v,s8v,c8v;if(!w8v){return;}J8v=this.stx.panels[this.panelName];s8v=w8v.tick - V8v;c8v=w8v.value - U8v;if(w8v.action == "move"){this.setPoint(0,w8v.p0[0] - s8v,w8v.p0[1] - c8v,J8v.chart);this.setPoint(+"1",w8v.p1[0] - s8v,w8v.p1[1] - c8v,J8v.chart);this.setPoint(+"2",w8v.p2[0] - s8v,w8v.p2["1" >> 1463614208] - c8v,J8v.chart);this.render(n8v);}else if(w8v.action == "drag"){this[w8v.point]=[V8v,U8v];this.setPoint(0,this.p0[+"0"],this.p0[1],J8v.chart);this.setPoint(1,this.p1["0" ^ 0],this.p1[1],J8v.chart);this.setPoint(2,this.p2[0],this.p2[1],J8v.chart);this.render(n8v);}};w2g.Drawing.fibprojection.prototype.intersected=function(d8v,P8v,D8v){var X8v,x8v,y8v,Q8v,N8v,G8v,M8L;X8v=this.p0;x8v=this.p1;y8v=this.p2;if(!X8v || !x8v || !y8v){return null;}Q8v={0:X8v,1:x8v,2:y8v};for(var r8v in Q8v){if(this.pointIntersection(Q8v[r8v][0],Q8v[r8v]["1" ^ 0],D8v)){O4D.g03(2);this.highlighted=O4D.J03("p",r8v);return {action:"drag",point:(859.91 != 3590?"p":(882,+"3353") >= 3706?"N":"527" - 0) + r8v};}}N8v=this.rays;G8v=this.lineIntersection(d8v,P8v,D8v,"segment",X8v,x8v) || this.lineIntersection(d8v,P8v,D8v,"segment",x8v,y8v);if(!G8v){for(var H8v=0;H8v < N8v.length;H8v++){if(this.lineIntersection(d8v,P8v,D8v,"ray",N8v[H8v]["0" & 2147483647],N8v[H8v]["1" - 0],!"")){G8v=! !1;break;}}}if(G8v){M8L="m";M8L+="ov";M8L+="e";this.highlighted=! !"1";return {action:M8L,p0:w2g.clone(X8v),p1:w2g.clone(x8v),p2:w2g.clone(y8v),tick:d8v,value:P8v};}return null;};w2g.Drawing.fibprojection.prototype.adjust=function(){var e8v;e8v=this.stx.panels[this.panelName];if(!e8v){return;}this.setPoint(0,this.d0,this.v0,e8v.chart);this.setPoint(1,this.d1,this.v1,e8v.chart);O4D.k6D();this.setPoint(2,this.d2,this.v2,e8v.chart);};w2g.Drawing.fibarc=function(){this.name="fibarc";O4D.T6D();;};w2g.inheritsFrom(w2g.Drawing.fibarc,w2g.Drawing.fibonacci);O4D.C03(4);w2g.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,O4D.I03("0.618",0),+"1"];w2g.Drawing.fibarc.prototype.setOuter=function(){var I8v,q8v,j8v,W8v,k8v,S8v,F8v;I8v=this.stx.panels[this.panelName];if(!I8v){return;}this.outer={p0:w2g.clone(this.p0),p1:w2g.clone(this.p1)};q8v=this.stx.pixelFromValueAdjusted(I8v,this.p0[0],this.p0[1]);j8v=this.stx.pixelFromValueAdjusted(I8v,this.p1[+"0"],this.p1[1]);W8v=this.stx.pixelFromTick(this.p0[0],I8v.chart);k8v=this.stx.pixelFromTick(this.p1[0],I8v.chart);O4D.g03(28);S8v=O4D.I03(2,j8v,q8v);F8v=w2g.xIntersection({x0:W8v,x1:k8v,y0:q8v,y1:j8v},S8v);this.outer.p0[+"1"]=this.stx.valueFromPixel(S8v,I8v);this.outer.p0[0]=this.stx.tickFromPixel(F8v,I8v.chart);};w2g.Drawing.fibarc.prototype.intersected=function(Z8v,p8v,B8v){var o8v,R8v,u8v,M9v,a8v,i9v,l8v,O8v,b9v,T8v;o8v=this.stx.panels[this.panelName];if(!o8v){return;}R8v=this.p0;u8v=this.p1;M9v=this.outer;if(!R8v || !u8v){return null;}a8v={0:R8v,1:u8v};for(var m8v in a8v){if(this.pointIntersection(a8v[m8v][0],a8v[m8v]["1" & 2147483647],B8v)){O4D.g03(2);this.highlighted=O4D.J03("p",m8v);return {action:"drag",point:"p" + m8v};}}if(this.lineIntersection(Z8v,p8v,B8v,"segment",M9v.p0,M9v.p1)){this.highlighted=! !1;return {action:"move",p0:w2g.clone(R8v),p1:w2g.clone(u8v),tick:Z8v,value:p8v};}i9v={x0:R8v[+"0"],x1:u8v[0],y0:R8v[+"1"],y1:u8v[1]};l8v=w2g.convertBoxToPixels(this.stx,this.panelName,i9v);O8v={x:Math.abs(Math.sqrt(+"2") * (l8v.x1 - l8v.x0)),y:Math.abs(Math.sqrt(2) * (l8v.y1 - l8v.y0))};b9v=this.stx.pixelFromTick(Z8v,o8v.chart);T8v=this.stx.pixelFromValueAdjusted(o8v,Z8v,p8v);if(b9v + B8v.r < l8v.x1 - O8v.x || b9v - B8v.r > l8v.x1 + O8v.x){return null;}if(T8v + B8v.r < l8v.y1 - O8v.y || T8v - B8v.r > l8v.y1 + O8v.y){return null;}if(l8v.y0 < l8v.y1 && T8v - B8v.r > l8v.y1){return null;}O4D.T6D();if(l8v.y0 > l8v.y1 && T8v + B8v.r < l8v.y1){return null;}this.highlighted=! !"1";return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:Z8v,value:p8v};};w2g.Drawing.fibarc.prototype.render=function(E9v){var W8L,r8L,z9v,w9v,K9v,h9v,L9v,t9v,s9v,c9v,n9v,g9v,c8L,x8L,f9v,x9v,V9v,A9v,X9v,K8L,y9v,a8L,Y9v,C9v,v9v,U9v,T1L,r9v,H9v;W8L="se";W8L+="gm";W8L+="ent";r8L="mi";r8L+="ddle";z9v=this.stx.panels[this.panelName];if(!z9v){return;}w9v=z9v.yAxis;if(!this.p1){return;}K9v=this.stx.pixelFromTick(this.p0["0" - 0],z9v.chart);h9v=this.stx.pixelFromTick(this.p1[0],z9v.chart);L9v=this.stx.pixelFromValueAdjusted(z9v,this.p0[0],this.p0[1]);t9v=this.stx.pixelFromValueAdjusted(z9v,this.p1[0],this.p1[1]);O4D.g03(29);s9v=O4D.J03(t9v,L9v);O4D.C03(30);c9v=Math.abs(O4D.I03(h9v,t9v,K9v,L9v));n9v=this.getLineColor(this.parameters.trend.color);E9v.textBaseline=r8L;this.stx.canvasFont("stx_yaxis",E9v);g9v=this.color;if(g9v == "auto" || w2g.isTransparent(g9v)){g9v=this.stx.defaultColor;}O4D.T6D();for(var J9v=0;J9v < this.parameters.fibs.length;J9v++){c8L="a";c8L+="uto";x8L="a";x8L+="u";x8L+="t";x8L+="o";E9v.fillStyle=g9v;f9v=this.parameters.fibs[J9v];if(f9v.level < 0 || !f9v.display)continue;x9v=Math.abs(this.p1["1" & 2147483647] - this.p0[1]) * Math.sqrt(2) * f9v.level;V9v=this.p1["1" << 1429989216] + x9v * (s9v?-("1" << 1951046720):1) * (w9v.flipped?-1:1);A9v=this.stx.pixelFromValueAdjusted(z9v,this.p0[0],V9v);X9v=w2g.xIntersection({x0:K9v,x1:h9v,y0:L9v,y1:t9v},A9v);if(this.parameters.printLevels){K8L="cen";K8L+="t";K8L+="e";K8L+="r";E9v.textAlign=K8L;y9v=Math.round(f9v.level * +"1000") / 10 + (("6781" - 0,2450) > 7745?("9539" >> 2083566400,5351) === (9910,2320)?"9.11e+3" | 8976:7697 === 6460?0x439:("l","N"):"%");if(this.parameters.printValues){a8L="st";a8L+="x_yax";a8L+="is";E9v.fillStyle=g9v;this.stx.canvasFont(a8L,E9v);;}E9v.fillText(y9v,h9v,Math.round(A9v - 5));}E9v.textAlign="left";if(this.parameters.printValues){if(X9v < z9v.width){Y9v=V9v;if(w9v.priceFormatter){Y9v=w9v.priceFormatter(this.stx,z9v,Y9v);}else {Y9v=this.stx.formatYAxisPrice(Y9v,z9v);}if(E9v == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(z9v,Y9v,A9v,g9v,null,E9v);if(E9v == this.stx.chart.context){this.stx.startClip(z9v.name);}}}C9v=f9v.color;if(C9v == x8L || w2g.isTransparent(C9v)){C9v=this.color;}if(C9v == "auto" || w2g.isTransparent(C9v)){C9v=this.stx.defaultColor;}E9v.strokeStyle=this.highlight?n9v:C9v;v9v=f9v.color;if(v9v == c8L || w2g.isTransparent(v9v)){v9v=this.fillColor;}if(v9v == "auto" || w2g.isTransparent(v9v)){v9v=this.stx.defaultColor;}E9v.fillStyle=v9v;E9v.globalAlpha=this.highlighted?1:f9v.parameters.opacity;E9v.lineWidth=f9v.parameters.lineWidth;if(E9v.setLineDash){E9v.setLineDash(w2g.borderPatternToArray(E9v.lineWidth,f9v.parameters.pattern));E9v.lineDashOffset=0;;}E9v.save();E9v.beginPath();O4D.g03(31);E9v.scale(O4D.J03(c9v,2147483647,"1"),1);O4D.g03(12);E9v.arc(O4D.J03(h9v,c9v),t9v,Math.abs(A9v - t9v),0,Math.PI,!s9v);if(this.pattern != "none"){E9v.stroke();}O4D.C03(12);E9v.globalAlpha=O4D.J03("0.05",1);E9v.fill();E9v.restore();if(E9v.setLineDash){E9v.setLineDash([]);}E9v.globalAlpha=+"1";}E9v.textAlign="left";U9v=w2g.clone(this.parameters.trend.parameters);if(this.highlighted){U9v.opacity=1;}O4D.C03(32);this.stx.plotLine(h9v,O4D.J03("2",h9v,0,K9v),t9v,O4D.J03(2,t9v,L9v,O4D.g03(28)),n9v,W8L,E9v,z9v,U9v);if(this.highlighted){T1L="p";T1L+="0";r9v=this.highlighted == T1L?!"":!{};H9v=this.highlighted == "p1"?! !"1":!1;this.littleCircle(E9v,K9v,L9v,r9v);this.littleCircle(E9v,h9v,t9v,H9v);}};w2g.Drawing.fibfan=function(){O4D.T6D();this.name="fibfan";;};w2g.inheritsFrom(w2g.Drawing.fibfan,w2g.Drawing.fibonacci);w2g.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];w2g.Drawing.fibfan.prototype.setOuter=function(){};w2g.Drawing.fibfan.prototype.render=function(d9v){var h1L,D9v,T9v,P9v,e9v,Q9v,F9v,p9v,o9v,a9v,b2v,i2v,B9v,R9v,u9v,j9v,B1L,V1L,S9v,G9v,Z9v,N9v,W9v,E2v,l9v,I9v,q9v,M2v,k9v,l1L,z2v,f2v;h1L="a";h1L+="u";h1L+="t";h1L+="o";D9v=this.stx.panels[this.panelName];if(!D9v){return;}T9v=D9v.yAxis;if(!this.p1){return;}P9v=this.stx.pixelFromTick(this.p0[+"0"],D9v.chart);e9v=this.stx.pixelFromTick(this.p1[0],D9v.chart);O4D.k6D();Q9v=this.stx.pixelFromValueAdjusted(D9v,this.p0[0],this.p0[1]);F9v=this.stx.pixelFromValueAdjusted(D9v,this.p1[0],this.p1[1]);p9v=Math.min(F9v,Q9v);o9v=Math.max(F9v,Q9v);O4D.g03(4);a9v=O4D.J03(o9v,p9v);O4D.g03(27);b2v=O4D.J03(F9v,P9v,0,Q9v,e9v);i2v=this.getLineColor(this.parameters.trend.color);d9v.textBaseline="middle";this.stx.canvasFont("stx_yaxis",d9v);B9v=d9v.measureText("161.8%").width + +"10";R9v=Number.MAX_VALUE;u9v=Number.MAX_VALUE * -1;j9v=this.color;if(j9v == h1L || w2g.isTransparent(j9v)){j9v=this.stx.defaultColor;}this.rays=[];for(var O9v=0;O9v < this.parameters.fibs.length;O9v++){B1L="au";B1L+="to";V1L="aut";V1L+="o";d9v.fillStyle=j9v;S9v=this.parameters.fibs[O9v];if(!S9v.display)continue;G9v=this.stx.pixelFromValueAdjusted(D9v,this.p0[+"0"],(this.p0[1] - this.p1[1]) * S9v.level + this.p1[1]);Z9v=w2g.xIntersection({x0:e9v,x1:e9v,y0:Q9v,y1:F9v},G9v);N9v=D9v.left;if(e9v > P9v){N9v+=D9v.width;}O4D.g03(33);W9v=O4D.I03(G9v,Q9v,Q9v,Z9v,P9v,N9v,P9v);if(P9v > N9v - (this.parameters.printLevels?B9v + 5:0) && e9v > P9v)continue;else if(P9v < N9v + (this.parameters.printLevels?B9v + 5:0) && e9v < P9v)continue;if(this.parameters.printLevels){E2v=Math.round(S9v.level * 1000) / 10 + "%";if(e9v > P9v){N9v-=B9v;d9v.textAlign="left";}else {N9v+=B9v;d9v.textAlign="right";}if(this.parameters.printValues){d9v.fillStyle=j9v;this.stx.canvasFont("stx_yaxis",d9v);;}O4D.g03(33);W9v=O4D.I03(G9v,Q9v,Q9v,Z9v,P9v,N9v,P9v);d9v.fillText(E2v,N9v,W9v);if(e9v > P9v){N9v-=5;}else {N9v+=5;}}d9v.textAlign="left";if(this.parameters.printValues){if(Z9v < D9v.width){l9v=this.stx.transformedPriceFromPixel(G9v,D9v);if(T9v.priceFormatter){l9v=T9v.priceFormatter(this.stx,D9v,l9v);}else {l9v=this.stx.formatYAxisPrice(l9v,D9v);}if(d9v == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(D9v,l9v,G9v,j9v,null,d9v);if(d9v == this.stx.chart.context){this.stx.startClip(D9v.name);}}}I9v=S9v.color;if(I9v == "auto" || w2g.isTransparent(I9v)){I9v=this.color;}if(I9v == V1L || w2g.isTransparent(I9v)){I9v=this.stx.defaultColor;}q9v=S9v.color;if(q9v == B1L || w2g.isTransparent(q9v)){q9v=this.fillColor;}if(q9v == "auto" || w2g.isTransparent(q9v)){q9v=this.stx.defaultColor;}d9v.fillStyle=q9v;if(this.parameters.printLevels){O4D.C03(33);W9v=O4D.J03(G9v,Q9v,Q9v,Z9v,P9v,N9v,P9v);}M2v=w2g.clone(S9v.parameters);if(this.highlighted){M2v.opacity=1;}this.stx.plotLine(P9v,N9v,Q9v,W9v,this.highlighted?i2v:I9v,"segment",d9v,D9v,M2v);this.rays.push([[P9v,Q9v],[N9v,W9v]]);d9v.globalAlpha=0.05;d9v.beginPath();d9v.moveTo(N9v,W9v);d9v.lineTo(P9v,Q9v);d9v.lineTo(N9v,Q9v);d9v.fill();d9v.globalAlpha=1;if(G9v < R9v){R9v=G9v;}if(G9v > u9v){u9v=G9v;}}for(var m9v="0" * 1;m9v <= 1;m9v++){k9v=b2v?o9v - a9v * m9v:p9v + a9v * m9v;k9v=Math.round(k9v);if(k9v < R9v){R9v=k9v;}if(k9v > u9v){u9v=k9v;}}if(this.highlighted){l1L="p";l1L+="1";z2v=this.highlighted == "p0"?! !{}:!1;f2v=this.highlighted == l1L?! ![]:!{};this.littleCircle(d9v,P9v,Q9v,z2v);this.littleCircle(d9v,e9v,F9v,f2v);}};w2g.Drawing.fibtimezone=function(){this.name="fibtimezone";;};w2g.inheritsFrom(w2g.Drawing.fibtimezone,w2g.Drawing.fibonacci);w2g.Drawing.fibtimezone.prototype.render=function(t2v){var G1L,Y1L,y1L,h2v,C2v,Y2v,c2v,n2v,J2v,V2v,y2v,U2v,w2v,v2v,x2v,K2v,A2v,g2v,L2v,s2v,O1L,r2v,H2v,X2v;G1L="se";G1L+="gment";Y1L="a";Y1L+="u";Y1L+="t";Y1L+="o";y1L="a";y1L+="u";y1L+="to";h2v=this.stx.panels[this.panelName];if(!h2v){return;}if(!this.p1){return;}C2v=this.stx.pixelFromTick(this.p0[0],h2v.chart);Y2v=this.stx.pixelFromTick(this.p1[0],h2v.chart);c2v=this.stx.pixelFromValueAdjusted(h2v,this.p0[0],this.p0[1]);n2v=this.stx.pixelFromValueAdjusted(h2v,this.p1[0],this.p1[1]);O4D.C03(0);J2v=[O4D.J03(727327584,"1"),+"0"];V2v=this.getLineColor(this.parameters.trend.color);t2v.textBaseline="middle";this.stx.canvasFont("stx_yaxis",t2v);y2v=20;U2v=this.p1[0] - this.p0[0];w2v=this.color;if(w2v == "auto" || w2g.isTransparent(w2v)){w2v=this.stx.defaultColor;}t2v.textAlign="center";v2v=C2v;x2v=h2v.yAxis.top;K2v=h2v.yAxis.bottom;O4D.C03(22);A2v=O4D.I03("0",0);g2v=this.parameters.timezone.color;if(g2v == y1L || w2g.isTransparent(g2v)){g2v=this.color;}if(g2v == "auto" || w2g.isTransparent(g2v)){g2v=this.stx.defaultColor;}L2v=this.parameters.timezone.color;if(L2v == Y1L || w2g.isTransparent(L2v)){L2v=this.fillColor;}if(L2v == "auto" || w2g.isTransparent(L2v)){L2v=this.stx.defaultColor;}if(this.parameters.printLevels){O4D.C03(14);K2v-=O4D.I03(1,"7",y2v);}s2v=w2g.clone(this.parameters.timezone.parameters);if(this.highlighted){s2v.opacity=1;}do {v2v=this.stx.pixelFromTick(this.p0[+"0"] + A2v * U2v,h2v.chart);if(C2v < Y2v && v2v > h2v.left + h2v.width)break;else if(C2v > Y2v && v2v < h2v.left)break;if(this.parameters.printLevels){t2v.fillStyle=w2v;t2v.fillText(Y2v > C2v?A2v:A2v * -1,v2v,K2v + 7);}t2v.fillStyle=L2v;this.stx.plotLine(v2v,v2v,0,K2v,this.highlighted?V2v:g2v,"segment",t2v,h2v,s2v);t2v.globalAlpha=+"0.05";t2v.beginPath();t2v.moveTo(C2v,x2v);t2v.lineTo(v2v,x2v);t2v.lineTo(v2v,K2v);t2v.lineTo(C2v,K2v);t2v.fill();t2v.globalAlpha=1;A2v=J2v[0] + J2v[+"1"];J2v.unshift(A2v);}while(U2v);t2v.textAlign="left";this.stx.plotLine(C2v,Y2v,c2v,n2v,V2v,G1L,t2v,h2v,s2v);if(this.highlighted){O1L="p";O1L+="0";r2v=this.highlighted == O1L?! !{}:! !0;H2v=this.highlighted == "p1"?!"":! !0;this.littleCircle(t2v,C2v,c2v,r2v);this.littleCircle(t2v,Y2v,n2v,H2v);}else {X2v=this.stx.valueFromPixel(h2v.height / 2,h2v);this.setPoint(0,this.p0[0],X2v,h2v.chart);this.setPoint(1,this.p1["0" >> 813362720],X2v,h2v.chart);}};w2g.Drawing.fibtimezone.prototype.intersected=function(G2v,e2v,D2v){var e1L,d2v,Q2v,I2v,N2v,q2v,m1L;e1L="segm";e1L+="ent";d2v=this.p0;Q2v=this.p1;I2v=this.stx.panels[this.panelName];if(!d2v || !Q2v || !I2v){return null;}N2v={0:d2v,1:Q2v};for(var P2v in N2v){if(this.pointIntersection(N2v[P2v][+"0"],N2v[P2v][1],D2v)){O4D.g03(2);this.highlighted=O4D.I03("p",P2v);return {action:"drag",point:(5190 === 2431?859.05 > 428?(2.35e+3,"v"):("i",258.07):"p") + P2v};}}q2v=this.lineIntersection(G2v,e2v,D2v,e1L);if(q2v || D2v.x0 <= this.p0[0] && D2v.x1 >= d2v[+"0"]){m1L="mov";m1L+="e";this.highlighted=! ![];return {action:m1L,p0:w2g.clone(d2v),p1:w2g.clone(Q2v),tick:G2v,value:e2v};}return null;};w2g.Drawing.arrow_v0=function(){var k1L;k1L="a";k1L+="rr";k1L+="ow";this.name=k1L;O4D.C03(15);this.dimension=[11,O4D.I03("11",2112553920)];O4D.g03(23);this.points=[[800 >= 1202?6.42e+2:460.59 !== (8552,992.35)?"M":(7400,919.82) >= (1250,288.08)?(1.99e+3,0x10ed):"0xe84" >> 36243008,3,0,(+"1280",1052) >= 1199?!1:928.29 <= (410.33,8360)?"L":(317.83,"852" << 776207680) === 234.94?0x15b1:(2.47e+3,![]),7,0,"L",O4D.I03("7",2147483647),5,9853 >= (5290,2188)?("4835" ^ 0) <= 2260?7.85e+3:"L":("v","j"),10,5,336.43 <= (467,"9600" << 2023940512)?"L":("j","0xe73" - 0),5,10,"L",0,5,(9040,667.76) >= (210.44,763.06)?![]:"L",3,O4D.I03("5",0,O4D.g03(1)),(7010,3062) !== (4228,"3645" << 1723912288)?"L":"X",3,0]];};w2g.inheritsFrom(w2g.Drawing.arrow_v0,w2g.Drawing.shape);w2g.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];O4D.g03(22);this.points=[["M",+"1",0,"L",3,2,5694 > (6710,"6757" >> 404576224)?91.96:"L",5,0,9870 !== 6880?"L":(!0,"980.36" * 1),+"6",1,1012 <= (2020,+"978.01")?! !"":"L",4,3,629.31 <= 641?"L":("417.9" - 0,2450) >= 8530?3.28e+3:700 == (9140,4317)?("Z",0x1b50):(!0,!0),6,5,"L",+"5",6,512.81 >= (775.64,6257)?!{}:"L",+"3",+"4",(760,"580.61" * 1) === (272,907.42)?("643.43" * 1,+"612.87"):"L",O4D.J03("1",1),6,("986" ^ 0,761.31) !== 14.82?"L":361.81,+"0",5,"L",2,3,"L",O4D.J03("0",0,O4D.g03(1)),1,"L",1,0]];;};w2g.inheritsFrom(w2g.Drawing.xcross,w2g.Drawing.shape);w2g.Drawing.check=function(){var s1L;s1L="c";O4D.T6D();s1L+="h";s1L+="ec";s1L+="k";this.name=s1L;O4D.g03(15);this.dimension=[O4D.I03("8",1170560096),9];O4D.g03(0);this.points=[[(3933,30.52) != 6129?"M":("x",0x259e),1,5,(822,6993) <= ("8740" ^ 0)?"L":6740 >= 4061?271 == (406.86,3890)?8.40e+3:(! !1,!""):(! !{},"L"),0,6,"L",+"2",8,1660 > 9070?(860,25.55) == (759,625.56)?![]:("G","I"):"L",7,1,"L",6,0,"L",O4D.J03(1966797120,"2"),O4D.J03("6",566673792,O4D.g03(15)),("5170" * 1,3943) <= (5850,2140)?! !{}:995 < (4450,8040)?"L":8692 != (3269,9185)?"940.18" * 1:3.11e+3,1,5]];;};w2g.inheritsFrom(w2g.Drawing.check,w2g.Drawing.shape);w2g.Drawing.star=function(){var A1L;A1L="st";O4D.k6D();A1L+="a";A1L+="r";this.name=A1L;this.dimension=[12,12];this.points=[[6370 == (952.67,8706)?(2.69e+3,!{}):"M",0,4,8474 > ("3880" >> 1899723104,+"1978")?(4138,5182) !== (5649,+"903.94")?"L":"g":3.25e+3,4,4,2935 > (1700,+"9200")?(+"2.17e+2",623):"L",5.5,0,(414.44,"8502" - 0) !== (8095,1070)?"L":(0x1463,0x71),7,4,(+"5350",368.05) == (6406,446)?860 >= (5580,5530)?!"1":(306.51,3120) < (6270,690)?(0x50c,827.29):"J":"L",+"11",+"4",3010 >= (6050,490.5)?"L":812.79 != (258,+"8300")?"z":(511.98,!""),8,+"7","L",9,11,(8139,7750) < 868?("436.04" - 0,9.79e+3):23 != (6360,9278)?(6240,1439) == 6976?("d",8.81e+3):"L":(!1,+"0x1ca8"),+"5.5",9,5830 < ("1149" << 136315648,4020)?8330 >= (2.33,228.63)?"S":(5.05e+3,735.63):"L",+"2",11,(2420,+"1018") != "367.02" * 1?"L":(! !{},"e"),3,7,"L",0,4]];;};w2g.inheritsFrom(w2g.Drawing.star,w2g.Drawing.shape);w2g.Drawing.heart=function(){this.name="heart";this.dimension=[+"23",20];O4D.g03(15);this.points=[[38.86 < 6150?4110 < +"3480"?![]:7500 == +"430.94"?802.70:"M":351.92,11,3,(2778,"959.1" - 0) <= (5560,506.71)?+"370.97":"B",11,2.4,O4D.J03("10",695356160),0,6,0,"9950" * 1 != (9251,1170)?(6000,8410) != (2290,6930)?(3144,648.09) != (6567,675)?"B":(0xd28,! !{}):(389.09,! ![]):(![],+"1.90e+3"),O4D.I03("0",3938496,O4D.C03(15)),0,0,7.5,0,7.5,"B",0,11,4,15.4,11,+"19",("821.37" - 0,397.11) == (2933,+"507.75")?(! !0,6.55e+3):+"2820" < ("5293" & 2147483647)?"B":"s",18,15.4,O4D.I03("22",2,O4D.g03(22)),11,22,7.5,"B",+"22",7.5,22,0,16,0,(199,3318) > (4930,+"964")?"B":! !"1",O4D.J03("13",2147483647,O4D.g03(23)),0,+"11",2.4,O4D.J03("11",2147483647,O4D.C03(23)),3]];;};w2g.inheritsFrom(w2g.Drawing.heart,w2g.Drawing.shape);w2g.Drawing.focusarrow=function(){this.name="focusarrow";O4D.g03(4);this.dimension=[O4D.J03("7",0),O4D.J03("5",0,O4D.g03(1))];O4D.C03(1);this.points=[[979.71 === 727.42?(!0,0x2041):+"7190" <= 462?(560.38,"0x16f1" ^ 0):"M",+"0",0,964.45 == 9535?787.06:(579.6,643.09) != ("9740" * 1,+"975.11")?"L":295,O4D.I03("2",0),+"2","L",0,+"4",3690 === (197.42,"1521" - 0)?422.2 > (6860,3860)?"L":668.13 !== 6063?(! !"",!{}):(3.41e+3,"R"):"L",O4D.J03(454238208,"0",O4D.C03(0)),+"0"],[(913.71,7340) === (4271,6688)?("8160" << 1130689504,8959) === 8680?3.75e+2:(!0,"V"):"M",6,0,8110 >= 558?"L":(990.18,1250) !== (7218,717.79)?"4.75e+3" - 0:(+"246.91","L"),4,2,("4940" | 4420,+"5890") === 6730?(3.67e+3,0xc2d):379.93 <= (660.77,5110)?"L":(0x243c,1.45e+3),6,+"4",(8970,9710) != (8526,9350)?(274,981) > 800?(291.79,392) !== 609.34?"L":(! !1,"V"):(9.58e+3,"c"):(+"6.64e+3","g"),6,0]];O4D.k6D();;};w2g.inheritsFrom(w2g.Drawing.focusarrow,w2g.Drawing.shape);w2g.Drawing.crossline=function(){O4D.T6D();this.name="crossline";};w2g.inheritsFrom(w2g.Drawing.crossline,w2g.Drawing.horizontal);w2g.extend(w2g.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(j2v,S2v){return !"1";},adjust:function(){O4D.T6D();var W2v;W2v=this.stx.panels[this.panelName];if(!W2v){return;}this.setPoint(+"0",this.d0,this.v0,W2v.chart);this.p1=w2g.clone(this.p0);},intersected:function(F2v,l2v,B2v){O4D.k6D();var k2v;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;k2v=this.lineIntersection(F2v,l2v,B2v,"line");this.p1=w2g.clone(this.p0);if(!k2v){this.p1[1]+=1;k2v=this.lineIntersection(F2v,l2v,B2v,"line");this.p1=w2g.clone(this.p0);if(!k2v){return null;}}this.highlighted=! !"1";if(this.pointIntersection(this.p0[0],this.p0["1" | 0],B2v)){this.highlighted="p0";}return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:F2v,value:l2v};},render:function(M3v){var i1L,R2v,m2v,O2v,p2v,b3v,Z2v,u2v,T2v,i3v,o2v,a2v,E3v;i1L="horizont";i1L+="al";O4D.T6D();R2v=this.stx.panels[this.panelName];if(!R2v){return;}m2v=this.stx.pixelFromTick(this.p0[0],R2v.chart);O2v=this.stx.pixelFromValueAdjusted(R2v,this.p0[+"0"],this.p0[1]);p2v=this.getLineColor();b3v={pattern:this.pattern,lineWidth:this.lineWidth};O4D.C03(2);this.stx.plotLine(m2v,O4D.J03(m2v,100),O2v,O2v,p2v,i1L,M3v,R2v,b3v);O4D.g03(34);this.stx.plotLine(m2v,m2v,O2v,O4D.I03(O2v,"100",1529296224),p2v,"vertical",M3v,R2v,b3v);if(this.axisLabel && !this.repositioner){this.stx.endClip();Z2v=this.p0[1];if(R2v.chart.transformFunc){Z2v=R2v.chart.transformFunc(this.stx,R2v.chart,Z2v);}if(R2v.yAxis.priceFormatter){Z2v=R2v.yAxis.priceFormatter(this.stx,R2v,Z2v);}else {Z2v=this.stx.formatYAxisPrice(Z2v,R2v);}this.stx.createYAxisLabel(R2v,Z2v,O2v,p2v);this.stx.startClip(R2v.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){u2v=this.stx.dateFromTick(this.p0[0],R2v.chart,! !{});if(!w2g.ChartEngine.isDailyInterval(this.stx.layout.interval)){i3v=u2v.getSeconds() * 1000 + u2v.getMilliseconds();if(J2g.Date && this.stx.displayZone){T2v=new J2g.Date(u2v.getTime(),this.stx.displayZone);u2v=new Date(T2v.getFullYear(),T2v.getMonth(),T2v.getDate(),T2v.getHours(),T2v.getMinutes());u2v=new Date(u2v.getTime() + i3v);}}else {u2v.setHours(0,+"0",0,0);}o2v=w2g.mmddhhmm(w2g.yyyymmddhhmm(u2v));if(R2v.chart.xAxis.formatter){o2v=R2v.chart.xAxis.formatter(u2v,this.name,null,null,o2v);}else if(this.stx.internationalizer){if(u2v.getHours() !== 0 || u2v.getMinutes() !== 0){a2v=this.stx.internationalizer.monthDay.format(u2v);a2v+=(("2483" * 1,5909) <= 719.83?"s":763 > 3375?8.68e+3:" ") + this.stx.internationalizer.hourMinute.format(u2v);}else {a2v=this.stx.internationalizer.yearMonthDay.format(u2v);}o2v=a2v;}this.stx.endClip();this.stx.createXAxisLabel({panel:R2v,txt:o2v,x:m2v,backgroundColor:p2v,color:null,pointed:!"",padding:2});this.stx.startClip(R2v.name);}}if(this.highlighted){E3v=this.highlighted == "p0"?! !"1":!1;this.littleCircle(M3v,m2v,O2v,E3v);}}},! ![]);w2g.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!"";};w2g.inheritsFrom(w2g.Drawing.speedarc,w2g.Drawing.segment);w2g.extend(w2g.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color",X1L,"lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;O4D.T6D();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(z3v,f3v,Y3v){var h3v,J1L,K3v,C3v,v3v,g3v,L3v;if(!this.p0 || !this.p1){return null;}h3v={0:this.p0,1:this.p1};for(var t3v in h3v){if(this.pointIntersection(h3v[t3v][0],h3v[t3v][1],Y3v)){J1L="dr";J1L+="ag";O4D.g03(2);this.highlighted=O4D.J03(1685 < (16,565)?(0x20ed,"x"):9920 <= 801.98?(0x1f9f,"h"):"p",t3v);return {action:J1L,point:(2988 <= (+"9820",2399)?0x32f:8408 === "87.52" - 0?(!{},!0):"p") + t3v};}}K3v=this.lineIntersection(z3v,f3v,Y3v,this.name);if(K3v){this.highlighted=!"";return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:z3v,value:f3v};}C3v=this.p1["0" & 2147483647] - (this.p0[0] - this.p1[0]);v3v=this.p0[0];g3v=this.p1[1];L3v=this.p0[1];if(z3v > Math.max(C3v,v3v) || z3v < Math.min(C3v,v3v)){return null;}if(f3v > Math.max(L3v,g3v) || f3v < Math.min(L3v,g3v)){return null;}this.highlighted=! ![];return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:z3v,value:f3v};},render:function(A3v){O4D.k6D();var o1L,w3v,U3v,s3v,n3v,J3v,X3v,y3v,x3v,c3v,S1L,H3v,d3v,r3v,u1L,P3v,D3v,n1L,Q3v,N3v;o1L="l";o1L+="e";o1L+="f";o1L+="t";w3v=this.stx.panels[this.panelName];if(!w3v){return;}if(!this.p1){return;}U3v=this.stx.pixelFromTick(this.p0[0],w3v.chart);s3v=this.stx.pixelFromTick(this.p1[0],w3v.chart);n3v=this.stx.pixelFromValueAdjusted(w3v,this.p0[0],this.p0[1]);J3v=this.stx.pixelFromValueAdjusted(w3v,this.p1["0" << 1460976608],this.p1[1]);O4D.g03(29);X3v=O4D.I03(J3v,n3v);O4D.g03(30);y3v=Math.abs(O4D.I03(s3v,J3v,U3v,n3v));x3v=this.getLineColor();A3v.strokeStyle=x3v;c3v=this.fillColor;if(c3v == "auto" || w2g.isTransparent(c3v)){c3v=this.stx.defaultColor;}A3v.fillStyle=c3v;if(A3v.setLineDash){A3v.setLineDash(w2g.borderPatternToArray(this.lineWidth,this.pattern));A3v.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",A3v);for(var V3v=1;V3v < 3;V3v++){S1L="no";S1L+="ne";H3v=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * V3v / 3;d3v=this.p1[1] + H3v * (X3v?-1:1) * (w3v.yAxis.flipped?-1:1);r3v=this.stx.pixelFromValueAdjusted(w3v,this.p0["0" & 2147483647],d3v);A3v.save();A3v.beginPath();O4D.g03(6);A3v.scale(O4D.J03(1,y3v),+"1");O4D.g03(12);A3v.arc(O4D.J03(s3v,y3v),J3v,Math.abs(r3v - J3v),+"0",Math.PI,!X3v);A3v.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != S1L){A3v.stroke();}A3v.globalAlpha=0.1;A3v.fill();A3v.restore();A3v.globalAlpha=1;if(this.printLevels){u1L="/";u1L+="3";A3v.fillStyle=x3v;A3v.textAlign="center";O4D.g03(2);P3v=O4D.I03(V3v,u1L);A3v.fillText(P3v,s3v,Math.round(r3v - 5));A3v.fillStyle=c3v;}}A3v.textAlign=o1L;D3v={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(U3v,s3v,n3v,J3v,x3v,"segment",A3v,w3v,D3v);if(A3v.setLineDash){A3v.setLineDash([]);}if(this.highlighted){n1L="p";n1L+="1";Q3v=this.highlighted == "p0"?!"":! !"";N3v=this.highlighted == n1L?! ![]:!"1";this.littleCircle(A3v,U3v,n3v,Q3v);this.littleCircle(A3v,s3v,J3v,N3v);}},reconstruct:function(e3v,G3v){var y3e,Y3e,G3e;y3e=801414609;Y3e=632439200;G3e=2;for(var e3e=1;O4D.E9e(e3e.toString(),e3e.toString().length,71847) !== y3e;e3e++){this.stx=e3v;this.color=G3v.col;this.fillColor=G3v.fc;this.panelName=G3v.pnl;O4D.g03(23);G3e+=O4D.J03("2",2147483647);}O4D.k6D();if(O4D.N9e(G3e.toString(),G3e.toString().length,32428) !== Y3e){this.stx=e3v;this.color=G3v.col;this.fillColor=G3v.fc;this.panelName=G3v.pnl;}this.pattern=G3v.ptrn;this.lineWidth=G3v.lw;this.d0=G3v.d0;this.d1=G3v.d1;this.tzo0=G3v.tzo0;this.tzo1=G3v.tzo1;this.v0=G3v.v0;this.v1=G3v.v1;this.adjust();},serialize:function(){O4D.T6D();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !{});w2g.Drawing.speedline=function(){O4D.k6D();this.name="speedline";this.printLevels=! !1;};w2g.inheritsFrom(w2g.Drawing.speedline,w2g.Drawing.speedarc);w2g.extend(w2g.Drawing.speedline.prototype,{intersected:function(F3v,l3v,B3v){var j3v,S3v,W3v,z1L,k3v,p1L;j3v=this.p0;S3v=this.p1;if(!j3v || !S3v){return null;}W3v={0:j3v,1:S3v};for(var I3v in W3v){if(this.pointIntersection(W3v[I3v][+"0"],W3v[I3v][1],B3v)){z1L="d";z1L+="r";z1L+="a";z1L+="g";O4D.C03(2);this.highlighted=O4D.I03((555.81,7723) !== (2170,3444)?"p":! ![],I3v);return {action:z1L,point:(2611 <= 5360?(958,686.38) === (+"9069",2030)?!{}:"p":(349.42,"l")) + I3v};}}k3v=this.rays;for(var q3v=0;q3v < k3v.length;q3v++){p1L="r";p1L+="a";p1L+="y";if(this.lineIntersection(F3v,l3v,B3v,p1L,k3v[q3v]["0" ^ 0],k3v[q3v]["1" >> 498618720],! !{})){this.highlighted=! !"1";return {action:"move",p0:w2g.clone(j3v),p1:w2g.clone(S3v),tick:F3v,value:l3v};}}return null;},render:function(R3v){var T3v,u3v,m3v,Z3v,p3v,g5v,M5v,i5v,L5v,Y5v,K5v,C5v,v5v,O3v,o3v,b5v,f5v,a3v,z5v,t5v,h5v,w1L,l4e,y4e,Y4e,L1L,b1L,A5v,w5v;T3v=this.stx.panels[this.panelName];if(!T3v){return;}if(!this.p1){return;}u3v=this.stx.pixelFromTick(this.p0["0" << 527162560],T3v.chart);m3v=this.stx.pixelFromTick(this.p1[+"0"],T3v.chart);Z3v=this.stx.pixelFromValueAdjusted(T3v,this.p0[0],this.p0[1]);p3v=this.stx.pixelFromValueAdjusted(T3v,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",R3v);g5v=this.getLineColor();M5v=this.color;if(M5v == "auto" || w2g.isTransparent(M5v)){M5v=this.stx.defaultColor;}R3v.strokeStyle=M5v;i5v=this.fillColor;if(i5v == "auto" || w2g.isTransparent(i5v)){i5v=this.stx.defaultColor;}R3v.fillStyle=i5v;L5v={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};C5v=["1","2/3","1/3","3/2","3"];O4D.g03(6);v5v=[1,O4D.J03(2,3),O4D.I03("1","3",O4D.C03(35)),O4D.I03(3,2,O4D.C03(6)),3];O3v=[];this.rays=[];for(var E5v=0;E5v < v5v.length;E5v++){o3v=v5v[E5v];if(o3v > 1 && !this.extension)continue;b5v=this.stx.pixelFromValueAdjusted(T3v,this.p0[0],this.p0[1] - (this.p0["1" - 0] - this.p1[1]) * o3v);if(o3v > "1" << 2139254592){f5v=w2g.xIntersection({x0:u3v,x1:m3v,y0:Z3v,y1:b5v},p3v);O3v.push(f5v);}else {f5v=w2g.xIntersection({x0:m3v,x1:m3v,y0:Z3v,y1:p3v},b5v);O3v.push(b5v);}a3v=o3v > "1" * 1?f5v:m3v;z5v=o3v > 1?p3v:b5v;if(!this.confineToGrid){a3v=T3v.left;if(m3v > u3v){a3v+=T3v.width;}O4D.C03(33);z5v=O4D.J03(b5v,Z3v,Z3v,m3v,u3v,a3v,u3v);}if(this.printLevels){if(o3v != +"1" || this.extension){R3v.fillStyle=M5v;t5v=0;h5v=0;if(Z3v > p3v){O4D.C03(0);h5v=-O4D.J03(642763328,"5");R3v.textBaseline="bottom";}else {h5v=5;R3v.textBaseline="top";}if(u3v > m3v){w1L="r";w1L+="ight";t5v=5;R3v.textAlign=w1L;}else {t5v=-5;R3v.textAlign="left";}if(o3v > 1){R3v.fillText(C5v[E5v],f5v + (this.confineToGrid?0:t5v),p3v);}else {R3v.fillText(C5v[E5v],m3v,b5v + (this.confineToGrid?+"0":h5v));}R3v.fillStyle=i5v;}}this.stx.plotLine(u3v,a3v,Z3v,z5v,this.highlighted?g5v:M5v,"segment",R3v,T3v,L5v);if(o3v == 1){Y5v=a3v;K5v=z5v;}this.rays.push([[u3v,Z3v],[a3v,z5v]]);R3v.globalAlpha=0.1;R3v.beginPath();R3v.moveTo(a3v,z5v);R3v.lineTo(u3v,Z3v);R3v.lineTo(Y5v,K5v);R3v.fill();R3v.globalAlpha=1;}R3v.textAlign="left";R3v.textBaseline="middle";if(this.confineToGrid){R3v.globalAlpha=0.3;R3v.beginPath();O4D.g03(4);R3v.strokeRect(u3v,Z3v,O4D.I03(m3v,u3v),O4D.I03(p3v,Z3v));R3v.moveTo(u3v,O3v[1]);R3v.lineTo(m3v,O3v[1]);R3v.moveTo(u3v,O3v[2]);R3v.lineTo(m3v,O3v[2]);if(this.extension){l4e=-322368192;y4e=1186495436;Y4e=2;for(var O4e=1;O4D.N9e(O4e.toString(),O4e.toString().length,87134) !== l4e;O4e++){R3v.moveTo(O3v[+"0"],Z3v);Y4e+=2;}if(O4D.N9e(Y4e.toString(),Y4e.toString().length,43878) !== y4e){R3v.moveTo(O3v[3],Z3v);}R3v.lineTo(O3v[3],p3v);R3v.moveTo(O3v[+"4"],Z3v);R3v.lineTo(O3v[+"4"],p3v);}R3v.stroke();R3v.globalAlpha=1;}if(this.highlighted){L1L="p";L1L+="1";b1L="p";b1L+="0";A5v=this.highlighted == b1L?! !{}:!{};w5v=this.highlighted == L1L?! !{}:![];this.littleCircle(R3v,u3v,Z3v,A5v);this.littleCircle(R3v,m3v,p3v,w5v);}}},! !1);w2g.Drawing.gannfan=function(){O4D.k6D();this.name="gannfan";this.printLevels=!0;};w2g.inheritsFrom(w2g.Drawing.gannfan,w2g.Drawing.speedline);w2g.extend(w2g.Drawing.gannfan.prototype,{render:function(J5v){var C1L,n5v,s5v,V5v,c5v,r5v,G5v,U5v,y5v,e5v,I5v,q5v,Q5v,x5v,j5v,N5v,X5v,H5v,P5v,D5v,Q1L,F1L,S5v,W5v;C1L="a";C1L+="u";C1L+="t";C1L+="o";n5v=this.stx.panels[this.panelName];if(!n5v){return;}if(!this.p1){return;}s5v=this.stx.pixelFromTick(this.p0[0],n5v.chart);V5v=this.stx.pixelFromTick(this.p1[+"0"],n5v.chart);c5v=this.stx.pixelFromValueAdjusted(n5v,this.p0[0],this.p0[1]);r5v=this.stx.pixelFromValueAdjusted(n5v,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",J5v);G5v=this.getLineColor();U5v=this.color;if(U5v == "auto" || w2g.isTransparent(U5v)){U5v=this.stx.defaultColor;}J5v.strokeStyle=U5v;y5v=this.fillColor;if(y5v == C1L || w2g.isTransparent(y5v)){y5v=this.stx.defaultColor;}J5v.fillStyle=y5v;e5v={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};O4D.g03(1);Q5v=[1,2,3,O4D.I03("4",0),8,O4D.I03(1,2,O4D.C03(6)),O4D.I03(1,3,O4D.g03(6)),O4D.J03(1,4,O4D.g03(6)),O4D.I03("8",1184913408,1,O4D.C03(36))];this.rays=[];for(var d5v="0" * 1;d5v < Q5v.length;d5v++){x5v=Q5v[d5v];O4D.g03(37);j5v=O4D.I03(s5v,V5v,x5v,s5v);O4D.C03(38);N5v=O4D.J03(r5v,c5v,c5v,x5v);X5v=n5v.left;if(V5v > s5v){X5v+=n5v.width;}O4D.g03(33);H5v=O4D.J03(N5v,c5v,c5v,V5v,s5v,X5v,s5v);if(this.printLevels){J5v.fillStyle=U5v;P5v=0;D5v=0;if(c5v > r5v){Q1L="to";Q1L+="p";D5v=5;J5v.textBaseline=Q1L;}else {O4D.g03(0);D5v=-O4D.I03(1787418272,"5");J5v.textBaseline="bottom";}if(s5v > V5v){P5v=5;J5v.textAlign="left";}else {F1L="r";F1L+="ig";F1L+="h";F1L+="t";P5v=-5;J5v.textAlign=F1L;}if(x5v > 1){O4D.g03(2);J5v.fillText(O4D.J03(x5v,"x1"),O4D.I03(j5v,P5v),r5v);}else {O4D.g03(26);J5v.fillText(O4D.I03(1,x5v,"1x"),V5v,O4D.J03(N5v,D5v,O4D.C03(2)));}J5v.fillStyle=y5v;}this.stx.plotLine(s5v,X5v,c5v,H5v,this.highlighted?G5v:U5v,"segment",J5v,n5v,e5v);this.rays.push([[s5v,c5v],[X5v,H5v]]);if(x5v == 1){I5v=X5v;q5v=H5v;}O4D.C03(12);J5v.globalAlpha=O4D.I03("0.1",1);J5v.beginPath();J5v.moveTo(X5v,H5v);J5v.lineTo(s5v,c5v);J5v.lineTo(I5v,q5v);J5v.fill();J5v.globalAlpha=+"1";}J5v.textAlign="left";J5v.textBaseline="middle";if(this.highlighted){S5v=this.highlighted == "p0"?! !"1":! !0;W5v=this.highlighted == "p1"?! !{}:!1;this.littleCircle(J5v,s5v,c5v,S5v);this.littleCircle(J5v,V5v,r5v,W5v);}}},! !"1");w2g.Drawing.timecycle=function(){O4D.T6D();this.name="timecycle";this.printLevels=!"";};w2g.inheritsFrom(w2g.Drawing.timecycle,w2g.Drawing.speedarc);w2g.extend(w2g.Drawing.timecycle.prototype,{intersected:function(u5v,Z5v,l5v){var k5v,B5v,m5v,R5v,f1L,O5v;k5v=this.p0;B5v=this.p1;m5v=this.stx.panels[this.panelName];if(!k5v || !B5v || !m5v){return null;}R5v={0:k5v,1:B5v};for(var F5v in R5v){if(this.pointIntersection(R5v[F5v][0],R5v[F5v][1],l5v)){f1L="d";f1L+="r";f1L+="ag";O4D.C03(2);this.highlighted=O4D.I03(8406 === (62,4518)?0x12a4:"p",F5v);return {action:f1L,point:"p" + F5v};}}O5v=this.lineIntersection(u5v,Z5v,l5v,"segment");if(O5v || l5v.x0 <= this.p0[+"0"] && l5v.x1 >= k5v[0]){this.highlighted=! !{};return {action:"move",p0:w2g.clone(k5v),p1:w2g.clone(B5v),tick:u5v,value:Z5v};}return null;},render:function(T5v){var v1L,d1L,p5v,a5v,z6v,C6v,v6v,t6v,g6v,w6v,L6v,o5v,Y6v,i6v,E6v,f6v,K6v,M6v,h6v,J6v,R1L,s6v,c6v,A6v;v1L="l";v1L+="e";v1L+="ft";d1L="a";d1L+="ut";d1L+="o";p5v=this.stx.panels[this.panelName];if(!p5v){return;}if(!this.p1){return;}a5v=this.stx.pixelFromTick(this.p0[0],p5v.chart);z6v=this.stx.pixelFromTick(this.p1[0],p5v.chart);C6v=this.stx.pixelFromValueAdjusted(p5v,this.p0[0],this.p0[+"1"]);v6v=this.stx.pixelFromValueAdjusted(p5v,this.p1[0],this.p1[1]);t6v=0;g6v=this.getLineColor();T5v.textBaseline="middle";this.stx.canvasFont("stx_yaxis",T5v);O4D.g03(0);w6v=O4D.J03(87778304,"20");L6v=this.p1[0] - this.p0[0];T5v.textAlign="center";o5v=a5v;Y6v=p5v.yAxis.top;i6v=p5v.yAxis.bottom;E6v=this.color;if(E6v == d1L || w2g.isTransparent(E6v)){E6v=this.stx.defaultColor;}f6v=this.fillColor;if(f6v == "auto" || w2g.isTransparent(f6v)){f6v=this.stx.defaultColor;}if(this.printLevels){O4D.g03(4);i6v-=O4D.J03(w6v,7);}K6v={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};M6v=[];T5v.save();T5v.fillStyle=f6v;T5v.globalAlpha=0.05;do {o5v=this.stx.pixelFromTick(this.p0[0] + t6v * L6v,p5v.chart);t6v++;if(a5v < z6v && o5v > p5v.left + p5v.width)break;else if(a5v > z6v && o5v < p5v.left)break;else if(o5v < p5v.left || o5v > p5v.left + p5v.width)continue;T5v.beginPath();T5v.moveTo(a5v,Y6v);T5v.lineTo(o5v,Y6v);T5v.lineTo(o5v,i6v);T5v.lineTo(a5v,i6v);T5v.fill();M6v.push({c:t6v,x:o5v});}while(L6v);T5v.globalAlpha=1;h6v=+"0";O4D.T6D();for(var b6v="0" | 0;b6v < M6v.length;b6v++){this.stx.plotLine(M6v[b6v].x,M6v[b6v].x,0,i6v,this.highlighted?g6v:E6v,"segment",T5v,p5v,K6v);if(this.printLevels){T5v.fillStyle=E6v;J6v=this.stx.chart.context.measureText(M6v[b6v].c).width + ("3" << 399760832);if(J6v < this.stx.layout.candleWidth + h6v){T5v.fillText(M6v[b6v].c,M6v[b6v].x,i6v + +"7");h6v=0;}else {h6v+=this.stx.layout.candleWidth;}}}T5v.restore();T5v.textAlign=v1L;this.stx.plotLine(a5v,z6v,C6v,v6v,g6v,"segment",T5v,p5v,K6v);if(this.highlighted){R1L="p";R1L+="1";s6v=this.highlighted == "p0"?! ![]:! !0;c6v=this.highlighted == R1L?! !{}:!{};this.littleCircle(T5v,a5v,C6v,s6v);this.littleCircle(T5v,z6v,v6v,c6v);}else {A6v=this.stx.valueFromPixel(p5v.height / 2,p5v);O4D.C03(22);this.setPoint(O4D.J03("0",0),this.p0[0],A6v,p5v.chart);this.setPoint(1,this.p1[0],A6v,p5v.chart);}}},! !{});w2g.Drawing.regression=function(){O4D.k6D();this.name="regression";};w2g.inheritsFrom(w2g.Drawing.regression,w2g.Drawing.segment);w2g.extend(w2g.Drawing.regression.prototype,{configs:["color",P1L,"pattern","active1",I1L,"lineWidth1","pattern1","active2","color2",q1L,"pattern2",H1L,g1L,"lineWidth3","pattern3"],copyConfig:function(V6v){var Z1L,n6v;Z1L="a";Z1L+="uto";w2g.Drawing.copyConfig(this,V6v);n6v=this.stx.currentVectorParameters;this.active1=! !n6v.active1;this.active2=! !n6v.active2;this.active3=! !n6v.active3;this.color1=n6v.color1 || Z1L;this.color2=n6v.color2 || "auto";this.color3=n6v.color3 || "auto";this.lineWidth1=n6v.lineWidth1;this.lineWidth2=n6v.lineWidth2;this.lineWidth3=n6v.lineWidth3;this.pattern1=n6v.pattern1;this.pattern2=n6v.pattern2;this.pattern3=n6v.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(D6v,X6v,y6v){var x6v,U6v,r6v,H6v;if(X6v < 0){return;}this.copyConfig();x6v=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,X6v,y6v,x6v.chart);this.penDown=! ![];U6v=this.stx;this.field=U6v.highlightedDataSetField;if(!this.field && x6v != U6v.chart.panel){for(var d6v in U6v.chart.seriesRenderers){r6v=U6v.chart.seriesRenderers[d6v];if(r6v.params.panel == x6v.name){this.field=r6v.seriesParams[0].field;break;}}for(var P6v in U6v.layout.studies){H6v=U6v.layout.studies[P6v];if(H6v.panel == x6v.name){this.field=Object.keys(H6v.outputMap)[0];break;}}}return ![];}if(this.accidentalClick(X6v,y6v)){return this.dragToDraw;}this.setPoint(1,X6v,y6v,x6v.chart);this.penDown=!1;return ! !1;;},getYValue:function(j6v){var B0L,l0L,y0L,G6v,e6v,I6v,S6v,N6v,Q6v,q6v,i4e,X4e,J4e;B0L=-1619058229;l0L=271185329;y0L=2;for(var G0L="1" | 1;O4D.N9e(G0L.toString(),G0L.toString().length,68241) !== B0L;G0L++){G6v=this.stx.chart.dataSet[j6v];e6v=this.stx.chart.dataSet[j6v];if(~G6v){return 1;}y0L+=2;}if(O4D.N9e(y0L.toString(),y0L.toString().length,53573) !== l0L){G6v=this.stx.chart.dataSet[j6v];e6v=this.stx.chart.dataSet[j6v];if(!G6v){return null;}}I6v=this.stx.panels[this.panelName];S6v=this.stx.getYAxisByField(I6v,this.field) || I6v.yAxis;if(this.stx.charts[I6v.name] && I6v.chart.transformFunc && S6v == I6v.yAxis){e6v=G6v.transform;}if(!e6v){return null;}O4D.k6D();N6v=null;Q6v=null;q6v=this.stx.defaultPlotField || "Close";if(this.field){Q6v=w2g.existsInObjectChain(e6v,this.field);if(!Q6v){return null;}N6v=Q6v=Q6v.obj[Q6v.member];if(G6v != e6v){N6v=w2g.existsInObjectChain(G6v,this.field);N6v=N6v.obj[N6v.member];}if(typeof Q6v == "object"){Q6v=Q6v[q6v];i4e=-33759795;X4e=-787121900;J4e=+"2";for(var u4e=+"1";O4D.N9e(u4e.toString(),u4e.toString().length,90664) !== i4e;u4e++){N6v=N6v[q6v];J4e+=2;}if(O4D.N9e(J4e.toString(),J4e.toString().length,21670) !== X4e){N6v=N6v[q6v];}}}else {Q6v=e6v[q6v];N6v=G6v[q6v];}return {transformed:Q6v,untransformed:N6v};},render:function(Z6v){var k6v,l6v,B6v,E1v,m6v,z1v,O6v,o6v,g1v,L1v,Y1v,K1v,a6v,f1v,W6v,R6v,A1v,w1v,M1v,b1v,J1v,i1v,t1v,h1v,T6v,p6v,C1v,v1v,c1v,s1v,n1v,u6v,V5e,B5e,l5e,V1v,U1v;k6v=this.stx.panels[this.panelName];if(!k6v){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}l6v=this.stx.pixelFromTick(this.p0[+"0"],k6v.chart);B6v=this.stx.pixelFromTick(this.p1[0],k6v.chart);if(l6v < k6v.left && B6v < k6v.left){return;}if(l6v > k6v.right && B6v > k6v.right){return;}E1v=this.stx.getYAxisByField(k6v,this.field);m6v=[];z1v=[];O6v=0;o6v=+"0";g1v=0;L1v=0;Y1v=Math.min(this.p1[0],this.p0[0]);K1v=Math.max(this.p1[+"0"],this.p0[0]) + 1;O4D.g03(4);a6v=O4D.I03(K1v,Y1v);for(var F6v=Y1v;F6v < K1v;F6v++){f1v=this.getYValue(F6v);if(f1v){m6v.push(f1v.transformed);z1v.push(f1v.untransformed);}}W6v=m6v.length;O4D.g03(39);R6v=O4D.I03("2",W6v,1,W6v);A1v=Math.pow(R6v,2);O4D.g03(40);w1v=O4D.I03(W6v,1,2,3,R6v);for(F6v=0;F6v < W6v;F6v++){g1v+=W6v * m6v[F6v] - O6v;O6v+=m6v[F6v];L1v+=W6v * z1v[F6v] - o6v;o6v+=z1v[F6v];}O4D.g03(41);M1v=O4D.J03(W6v,W6v,w1v,O6v,g1v,R6v,A1v);O4D.g03(42);b1v=O4D.J03(M1v,R6v,W6v,O6v);O4D.g03(41);J1v=O4D.I03(W6v,W6v,w1v,o6v,L1v,R6v,A1v);O4D.g03(42);i1v=O4D.I03(M1v,R6v,W6v,o6v);if(this.p0[0] < this.p1["0" << 201798848]){t1v=b1v;O4D.C03(43);h1v=O4D.J03(a6v,b1v,M1v);this.p0[+"1"]=i1v;O4D.C03(22);this.p1[O4D.J03("1",1)]=O4D.J03(a6v,i1v,J1v,O4D.g03(43));}else {O4D.g03(43);t1v=O4D.I03(a6v,b1v,M1v);h1v=b1v;O4D.g03(43);this.p0[1]=O4D.I03(a6v,i1v,J1v);this.p1[1]=i1v;}T6v=this.stx.pixelFromTransformedValue(t1v,k6v,E1v);p6v=this.stx.pixelFromTransformedValue(h1v,k6v,E1v);C1v=this.getLineColor();v1v={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(l6v,B6v,T6v,p6v,C1v,"segment",Z6v,k6v,v1v);O4D.C03(44);this.stx.plotLine(l6v,l6v,O4D.I03(T6v,"20",1480198240),O4D.I03(T6v,20,O4D.C03(2)),C1v,"segment",Z6v,k6v,v1v);O4D.g03(4);this.stx.plotLine(B6v,B6v,O4D.I03(p6v,20),O4D.J03(p6v,20,O4D.C03(2)),C1v,"segment",Z6v,k6v,v1v);if(this.active1 || this.active2 || this.active3){O4D.g03(6);c1v=O4D.I03(O6v,W6v);s1v=0;for(F6v=0;F6v < W6v;F6v++){s1v+=Math.pow(m6v[F6v] - c1v,+"2");}O4D.C03(6);n1v=Math.sqrt(O4D.I03(s1v,W6v));u6v={context:Z6v,panel:k6v,points:{0:{x:l6v,v:t1v},1:{x:B6v,v:h1v}},stddev:n1v,yAxis:E1v};this.lines={};if(this.active1){V5e=-377168648;B5e=840792664;l5e=2;for(var Y5e=1;O4D.E9e(Y5e.toString(),Y5e.toString().length,91450) !== V5e;Y5e++){this.renderStddev((8737,9673) <= (17035,4349)?"C":"n",(9346,6432) !== ("611305" * 1,+"6084")?(580922,3445558):1850 < +"5410"?3871 >= +"698191"?(!{},![]):"C":0x73e8,u6v);this.renderStddev("C",+"499640" <= (9348,6289)?534182:(534286,4018) > (3465,771455)?(!0,+"650815"):"n",u6v);l5e+=2;}if(O4D.E9e(l5e.toString(),l5e.toString().length,4388) !== B5e){this.renderStddev((2720,+"8087") < (511.2,2062)?"C":"1",(4440,9920) == (485.29,"2852" ^ 0)?(188.41,5.63e+3):8820 >= 3550?4380 < "283.65" - 0?(!"",! !1):"p":0x22f1,u6v);this.renderStddev("1",121.06 >= (7752,3660)?741.26:(535.67,1129) <= (+"4550",952.46)?(![],662.20):"n",u6v);}}if(this.active2){this.renderStddev("2",("484" - 0,1343) !== ("3900" * 1,7920)?"p":3349 < (4299,676.96)?0xfa:![],u6v);this.renderStddev("2",975.45 <= 397.86?1.24e+3:("8093" | 5517) < (4080,1.17)?(245,8.36e+3):"n",u6v);}if(this.active3){this.renderStddev(3080 === (99.52,2780)?4780 === (1940,"8011" | 6146)?0x200:(1602,"2801" - 0) !== 623?(4.74e+3,!0):(! ![],6.96e+3):"3",(734.99,7782) > (9152,5430)?(3188,5392) > 70.58?"p":(0x943,8.74e+3):(0xd2f,"N"),u6v);this.renderStddev((7710,172.52) >= 299.75?4220 == (5950,5560)?(! !0,6.47e+3):668.35 <= (618.21,9314)?"b":(4.73e+3,"z"):"3",299.26 === (4610,7090)?"f":"n",u6v);}}if(!this.highlighted){this.pixelX=[l6v,B6v];this.pixelY=[T6v,p6v];}else {V1v=this.highlighted == "p0"?! !"1":! !0;U1v=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(Z6v,l6v,T6v,V1v);this.littleCircle(Z6v,B6v,p6v,U1v);}},renderStddev:function(P1v,W1v,D1v){var j1L,U1L,I1v,k1v,F1v,l1v,Q1v,q1v,j1v,G1v,e1v,r1v,X1v,N1v,x1v,y1v,H1v,d1v,B1v,R1v,S1v,u1v;j1L="m";j1L+="idd";j1L+="l";j1L+="e";U1L="l";U1L+="in";U1L+="eWid";U1L+="th";O4D.C03(45);I1v=O4D.I03(W1v,P1v,"stddev");O4D.g03(2);k1v=O4D.J03("color",P1v);O4D.C03(2);F1v=O4D.J03("pattern",P1v);O4D.C03(2);l1v=O4D.I03(U1L,P1v);Q1v=D1v.points;q1v=Q1v[0].v;j1v=Q1v[1].v;G1v=D1v.stddev;e1v=W1v === "n"?P1v * -1:P1v * 1;r1v=this.stx;X1v=D1v.panel;N1v=D1v.yAxis;x1v={name:I1v,color:this.getLineColor(this[k1v]),type:"segment",y0:r1v.pixelFromTransformedValue(q1v + G1v * e1v,X1v,N1v),y1:r1v.pixelFromTransformedValue(j1v + G1v * e1v,X1v,N1v),params:{pattern:this[F1v],lineWidth:this[l1v]}};if(this.lines){this.lines[I1v]=x1v;}y1v=D1v.context;H1v=Q1v["0" * 1].x;d1v=Q1v[1].x;r1v.plotLine(H1v,d1v,x1v.y0,x1v.y1,x1v.color,x1v.type,y1v,X1v,x1v.params);r1v.plotLine(H1v,H1v,x1v.y0 - 10,x1v.y0 + 10,x1v.color,x1v.type,y1v,X1v,x1v.params);r1v.plotLine(d1v,d1v,x1v.y1 - ("10" ^ 0),x1v.y1 + 10,x1v.color,x1v.type,y1v,X1v,x1v.params);O4D.C03(2);B1v=O4D.J03(P1v,"\u03c3");R1v=Math.max(H1v,d1v) + +"5";S1v=H1v < d1v?x1v.y1:x1v.y0;y1v.fillStyle=x1v.color;y1v.save();y1v.textBaseline=j1L;y1v.fillText(B1v,R1v,S1v);y1v.restore();if(D1v.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(H1v >= X1v.chart.left && H1v <= X1v.chart.right || d1v >= X1v.chart.left && d1v <= X1v.chart.right){O4D.g03(13);u1v=O4D.I03(G1v,H1v < d1v?j1v:q1v,e1v);r1v.endClip();r1v.createYAxisLabel(X1v,D1v.formatPrice(u1v,N1v),S1v,x1v.color,null,y1v,N1v);r1v.startClip(X1v.name);}}},intersected:function(O1v,T1v,b0E){var p1v,o1v,a1v,i0E,E0E,M0E,m1v;if(!this.pixelX || !this.pixelY){return null;}p1v=this.repositionIntersection(O1v,T1v);if(p1v){return p1v;}o1v={0:this.pixelX,1:this.pixelY};for(var Z1v=0;Z1v < 2;Z1v++){if(this.pointIntersection(o1v[0][Z1v],o1v[1][Z1v],b0E,! !{})){O4D.g03(2);this.highlighted=O4D.J03("p",Z1v);return {action:"drag",point:((2652,597.32) <= (1841,1618)?"p":8570 <= (650,"517.51" - 0)?1.47e+3:!"") + Z1v};}}a1v=this;i0E=this.pixelX[0];E0E=this.pixelX[1];M0E=function(f0E){O4D.T6D();var t0E,h0E;t0E=[i0E,f0E.y0];h0E=[E0E,f0E.y1];return a1v.lineIntersection(O1v,T1v,b0E,a1v.name,t0E,h0E,! ![]);};m1v=M0E({y0:this.pixelY["0" * 1],y1:this.pixelY[1]});if(!m1v && this.lines){for(var z0E in this.lines){if(M0E(this.lines[z0E])){m1v=! ![];break;}}}O4D.T6D();if(m1v){this.highlighted=!0;return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:O1v,value:T1v};}return null;},repositionIntersection:function(C0E,v0E){if(!this.p0 || !this.p1){return ! !0;}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !"1"){return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:C0E,value:v0E};}return {action:"drag",point:this.highlighted};}return !1;},lineIntersection:function(c0E,n0E,w0E,J0E,L0E,Y0E,s0E){var A0E,g0E,K0E;if(!s0E){O4D.C03(2);console.log(O4D.I03(J0E," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !1;}if(!L0E){L0E=this.p0;}if(!Y0E){Y0E=this.p1;}if(!(L0E && Y0E)){return ! !"";}A0E=this.stx;g0E=w2g.convertBoxToPixels(A0E,this.panelName,w0E);if(g0E.x0 === undefined){return !{};}K0E={x0:L0E[0],x1:Y0E[0],y0:L0E["1" * 1],y1:Y0E[1]};return w2g.boxIntersects(g0E.x0,g0E.y0,g0E.x1,g0E.y1,K0E.x0,K0E.y0,K0E.x1,K0E.y1);},boxIntersection:function(U0E,x0E,V0E){if(V0E.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || V0E.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ! !"";}if(!this.stx.repositioningDrawing && (V0E.cy1 < this.pixelY[0] || V0E.cy0 > this.pixelY[1])){return !{};}return ! !{};},reconstruct:function(y0E,X0E){this.stx=y0E;this.color=X0E.col;this.color1=X0E.col1;this.color2=X0E.col2;this.color3=X0E.col3;this.active1=X0E.dev1;this.active2=X0E.dev2;this.active3=X0E.dev3;this.panelName=X0E.pnl;this.pattern=X0E.ptrn;this.pattern1=X0E.ptrn1;this.pattern2=X0E.ptrn2;this.pattern3=X0E.ptrn3;this.lineWidth=X0E.lw;this.lineWidth1=X0E.lw1;this.lineWidth2=X0E.lw2;this.lineWidth3=X0E.lw3;this.d0=X0E.d0;this.d1=X0E.d1;this.tzo0=X0E.tzo0;this.tzo1=X0E.tzo1;this.field=X0E.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);w2g.Drawing.trendline=function(){var N1L;N1L="tr";N1L+="e";N1L+="ndlin";N1L+="e";this.name=N1L;};w2g.inheritsFrom(w2g.Drawing.trendline,w2g.Drawing.segment);w2g.Drawing.trendline.prototype.configs=["color","fillColor",E1L,"pattern","font"];w2g.Drawing.trendline.prototype.measure=function(){O4D.k6D();;};w2g.Drawing.trendline.prototype.reconstruct=function(r0E,H0E){w2g.Drawing.segment.prototype.reconstruct.call(this,r0E,H0E);O4D.k6D();this.callout=new w2g.Drawing.callout();this.callout.reconstruct(r0E,H0E.callout);};w2g.Drawing.trendline.prototype.serialize=function(){var d0E;d0E=w2g.Drawing.segment.prototype.serialize.call(this);d0E.callout=this.callout.serialize();return d0E;};w2g.Drawing.trendline.prototype.render=function(I0E){var P0E,J2e,S2e,u2e,l0E,N0E,G0E,D0E,Q0E,q0E,e0E,j0E,B0E,S0E,R0E,u0E,W0E,k0E,F0E,Z0E,m0E,O0L,e0L,m0L,D1L,O0E,T0E;P0E=this.stx.panels[this.panelName];if(!P0E){return;}w2g.Drawing.segment.prototype.render.call(this,I0E);if(!this.callout){J2e=2048075653;S2e=1893686442;u2e=2;for(var n2e=1;O4D.E9e(n2e.toString(),n2e.toString().length,34501) !== J2e;n2e++){this.callout=new w2g.Drawing.callout();l0E=w2g.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,l0E);u2e+=2;}if(O4D.E9e(u2e.toString(),u2e.toString().length,58432) !== S2e){this.callout=new w2g.Drawing.callout();l0E=w2g.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,l0E);}}this.callout.p0=w2g.clone(this.p0);N0E=this.stx.pixelFromTick(this.p0[+"0"],P0E.chart);G0E=this.stx.pixelFromTick(this.p1[0],P0E.chart);D0E=this.stx.pixelFromValueAdjusted(P0E,this.p0[0],this.p0[1]);Q0E=this.stx.pixelFromValueAdjusted(P0E,this.p1[0],this.p1[1]);if(!isFinite(D0E) || !isFinite(Q0E)){return;}O4D.g03(7);q0E=O4D.J03(2,G0E,N0E);O4D.g03(7);e0E=O4D.I03(2,Q0E,D0E);this.fontSize=w2g.stripPX(this.font && this.font.size || 13);j0E=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ((635,2167) != (192.76,+"4711")?782.88 != (659.06,769)?("6750" | 6) >= (550.98,"175" | 163)?"c":(242.57,"0xd3d" ^ 0):0x1b17:"u")?0:50);B0E=Math.sqrt(Math.pow(G0E - N0E,+"2") + Math.pow(Q0E - D0E,2));S0E=j0E / (B0E || j0E) * (this.p1[1] < this.p0[1]?1:-1);O4D.g03(46);R0E=O4D.J03(S0E,Q0E,q0E,e0E);O4D.C03(47);u0E=O4D.J03(e0E,q0E,S0E,G0E);this.callout.p0[+"0"]=this.stx.tickFromPixel(R0E,P0E.chart);O4D.C03(4);this.callout.p0[O4D.I03("1",0)]=this.stx.priceFromPixel(u0E,P0E);this.callout.v0=this.callout.p0[1];this.callout.p1=w2g.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! ![];W0E=this.p1[+"1"] - this.p0[1];this.callout.text="" + Number(W0E).toFixed(2) + (this.p0[+"1"] === 0?"":" (" + Number(+"100" * W0E / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";k0E=Math.floor((this.p0["0" & 2147483647] + this.p1[0]) / 2);if(Math.abs(this.p0[+"0"] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){Z0E=this.stx.pixelFromTick(k0E,P0E.chart);O4D.g03(48);m0E=O4D.I03(Q0E,N0E,D0E,G0E,D0E,Z0E,N0E);O0L=-1162332176;O4D.g03(15);e0L=O4D.J03("1970785262",384929344);m0L=2;for(var s0L=1;O4D.E9e(s0L.toString(),s0L.toString().length,21018) !== O0L;s0L++){F0E=this.stx.priceFromPixel(m0E,P0E) || e0E;O4D.g03(0);m0L+=O4D.I03(1615864576,"2");}if(O4D.E9e(m0L.toString(),m0L.toString().length,+"71312") !== e0L){F0E=this.stx.priceFromPixel(m0E,P0E) && e0E;}}else {F0E=this.stx.priceFromPixel(e0E,P0E);}this.callout.stem={t:k0E,v:F0E};this.callout.renderText();this.callout.render(I0E);if(this.highlighted){D1L="p";D1L+="0";O0E=this.highlighted == D1L?! !1:!{};T0E=this.highlighted == "p1"?! !"1":!"1";this.littleCircle(I0E,N0E,D0E,O0E);this.littleCircle(I0E,G0E,Q0E,T0E);}};w2g.Drawing.trendline.prototype.lineIntersection=function(p0E,o0E,a0E,M4E){return w2g.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,p0E,o0E,a0E,"segment");};w2g.Drawing.trendline.prototype.intersected=function(i4E,E4E,f4E){var z4E,b4E;if(!this.p0 || !this.p1){return null;}z4E=this.callout.intersected(i4E,E4E,f4E);b4E=w2g.Drawing.segment.prototype.intersected.call(this,i4E,E4E,f4E);this.callout.highlighted=! !(z4E || b4E);if(b4E){return b4E;}else if(z4E){return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:i4E,value:E4E};}return null;};w2g.Drawing.average=function(){var S5e,u5e,o5e;S5e=1691777572;O4D.k6D();u5e=-1885161784;o5e=+"2";for(var z5e=1;O4D.N9e(z5e.toString(),z5e.toString().length,68032) !== S5e;z5e++){this.name="";o5e+=+"2";}if(O4D.E9e(o5e.toString(),o5e.toString().length,72941) !== u5e){this.name="average";}};w2g.inheritsFrom(w2g.Drawing.average,w2g.Drawing.regression);w2g.extend(w2g.Drawing.average.prototype,{configs:w2g.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var t1L,t4E,C4E,g4E,L4E,v4E,h4E;O4D.k6D();if(this.p0 && this.p1){t1L=".m";t1L+="M";t1L+="eas";t1L+="ure";this.stx.setMeasure(0,!{},this.p0[0],this.p1[0],!"",this.name);t4E=[];C4E="";if(this.active1){t4E.push((4050,5600) != 8293?5922 > 68.96?"1":(0x442,2.69e+3):(0x126f,991.78));}if(this.active2){t4E.push("2");}if(this.active3){t4E.push("3");}if(t4E.length){C4E="&ensp;" + t4E.join(", ") + " &sigma;";}g4E=(this.stx.drawingContainer || document).querySelector(t1L);L4E=this.stx.controls.mSticky;v4E=L4E && L4E.querySelector(".mStickyInterior");if(g4E){g4E.innerHTML+=C4E;}if(v4E){h4E=[];h4E.push(w2g.capitalize(this.name));h4E.push(this.field || this.stx.defaultPlotField || "Close");h4E.push(v4E.innerHTML + C4E);v4E.innerHTML=h4E.join("<br>");}}},render:function(c4E){var r1L,M1L,Y4E,A4E,w4E,x4E,J4E,d4E,P4E,q4E,D4E,r4E,s4E,V4E,X4E,U4E,K4E,y4E,H4E,Q4E,G4E,n4E,K1L,e4E,I4E;r1L="se";r1L+="gment";M1L="seg";function N4E(j4E,S4E){if(S4E && S4E.priceFormatter){j4E=S4E.priceFormatter(J4E,Y4E,j4E);}else {j4E=J4E.formatYAxisPrice(j4E,Y4E,null,S4E);}return j4E;}M1L+="m";M1L+="en";M1L+="t";Y4E=this.stx.panels[this.panelName];if(!Y4E){return;}if(!this.p1){return;}if(this.p0[0] < +"0" || this.p1[0] < 0){return;}A4E=this.stx.pixelFromTick(this.p0[0],Y4E.chart);w4E=this.stx.pixelFromTick(this.p1[+"0"],Y4E.chart);if(A4E < Y4E.left && w4E < Y4E.left){return;}if(A4E > Y4E.right && w4E > Y4E.right){return;}x4E=this.stx.getYAxisByField(Y4E,this.field);J4E=this.stx;d4E=Math.min(this.p1[+"0"],this.p0[0]);P4E=Math.max(this.p1[+"0"],this.p0[0]) + 1;O4D.g03(4);q4E=O4D.J03(P4E,d4E);D4E=0;O4D.T6D();r4E=[];for(s4E=d4E;s4E < P4E;s4E++){V4E=this.getYValue(s4E);if(V4E !== null){D4E+=V4E.transformed;r4E.push(V4E);}}X4E=r4E.length;if(!X4E){return;}O4D.g03(6);U4E=O4D.I03(D4E,X4E);K4E=J4E.pixelFromTransformedValue(U4E,Y4E,x4E);y4E=this.getLineColor();H4E={pattern:this.pattern,lineWidth:this.lineWidth};J4E.plotLine(A4E,w4E,K4E,K4E,y4E,"segment",c4E,Y4E,H4E);O4D.C03(4);J4E.plotLine(A4E,A4E,O4D.J03(K4E,20),O4D.J03(K4E,20,O4D.g03(2)),y4E,M1L,c4E,Y4E,H4E);O4D.g03(4);J4E.plotLine(w4E,w4E,O4D.I03(K4E,20),O4D.J03(K4E,20,O4D.C03(2)),y4E,r1L,c4E,Y4E,H4E);if(this.axisLabel && !this.highlighted && !this.penDown){if(A4E >= Y4E.chart.left && A4E <= Y4E.chart.right || w4E >= Y4E.chart.left && w4E <= Y4E.chart.right){J4E.endClip();J4E.createYAxisLabel(Y4E,N4E(U4E,x4E),K4E,y4E,null,c4E,x4E);J4E.startClip(Y4E.name);}}if(this.active1 || this.active2 || this.active3){Q4E=0;for(s4E=0;s4E < X4E;s4E++){V4E=r4E[s4E];Q4E+=Math.pow(V4E.transformed - U4E,2);}O4D.C03(6);G4E=Math.sqrt(O4D.I03(Q4E,X4E));n4E={context:c4E,formatPrice:N4E,panel:Y4E,points:{0:{x:A4E,v:U4E},1:{x:w4E,v:U4E}},stddev:G4E,yAxis:x4E};this.lines={};if(this.active1){this.renderStddev((+"9530",9486) <= (1220,580.76)?(279,!0):5786 === (8020,8340)?(880.00,!0):"1","p",n4E);this.renderStddev("1","n",n4E);}if(this.active2){this.renderStddev(506 == (860.93,"8482" | 34)?(0x10b6,! !0):"2",(976.92,300.31) != (8748,7233)?"p":(6211,3670) <= 394.01?"O":0x644,n4E);this.renderStddev("2",9910 < (930.35,262.32)?("19.35" * 1,8000) != +"820"?(8839,2661) == (31.7,1160)?736.52:82.21:"V":"n",n4E);}if(this.active3){this.renderStddev((701.85,"396.46" * 1) > 718.59?("r",+"646.38"):2750 > (463.69,1290)?"3":(1205,1774) == +"427"?3.00e+0:7.05e+3,(389.24,5770) > (766,"1690" - 0)?"p":+"5198" < (7030,"2135" | 66)?7.83e+3:! ![],n4E);this.renderStddev("3","n",n4E);}}if(!this.highlighted){this.pixelX=[A4E,w4E];this.pixelY=[K4E,K4E];}else {K1L="p";K1L+="1";e4E=this.highlighted == "p0"?!0:![];I4E=this.highlighted == K1L?!"":!{};this.littleCircle(c4E,A4E,K4E,e4E);this.littleCircle(c4E,w4E,K4E,I4E);}},reconstruct:function(k4E,W4E){O4D.k6D();this.axisLabel=W4E.al;w2g.Drawing.regression.prototype.reconstruct.call(this,k4E,W4E);},serialize:function(){var F4E;F4E=w2g.Drawing.regression.prototype.serialize.call(this);F4E.al=this.axisLabel;return F4E;}},! !1);w2g.Drawing.quadrant=function(){O4D.T6D();this.name="quadrant";};w2g.inheritsFrom(w2g.Drawing.quadrant,w2g.Drawing.regression);w2g.extend(w2g.Drawing.quadrant.prototype,{configs:["color",a1L,"lineWidth",x1L],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(u4E){var l7L,B7L,V7L,h7L,W1L,c1L,B4E,l4E,R4E,Z4E,o4E,m4E,O4E,b7E,a4E,E7E,z7E,i7E,h7E,C7E,M7E,T4E,f7E,p4E,T7L,y7L,v7E,g7E;O4D.T6D();l7L="segme";l7L+="nt";B7L="segme";B7L+="n";B7L+="t";V7L="segmen";V7L+="t";h7L="t";h7L+="iron";h7L+="e";W1L="s";W1L+="egment";c1L="s";c1L+="egment";B4E=this.stx;l4E=B4E.panels[this.panelName];if(!l4E){return;}if(!this.p1){return;}R4E=B4E.pixelFromTick(this.p0[0],l4E.chart);Z4E=B4E.pixelFromTick(this.p1[+"0"],l4E.chart);if(R4E < l4E.left && Z4E < l4E.left){return;}if(R4E > l4E.right && Z4E > l4E.right){return;}o4E=this.stx.getYAxisByField(l4E,this.field);m4E=null;O4E=null;for(var t7E=Math.min(this.p1[0],this.p0[0]);t7E <= Math.max(this.p1[0],this.p0[0]);t7E++){b7E=this.getYValue(t7E);if(b7E !== null){if(m4E === null || b7E.transformed > m4E){m4E=b7E.transformed;}if(O4E === null || b7E.transformed < O4E){O4E=b7E.transformed;}}}a4E=B4E.pixelFromTransformedValue(m4E,l4E,o4E);O4D.C03(49);E7E=B4E.pixelFromTransformedValue(O4D.I03(m4E,4,O4E,3),l4E,o4E);O4D.g03(49);z7E=B4E.pixelFromTransformedValue(O4D.I03(m4E,3,O4E,2),l4E,o4E);O4D.g03(7);i7E=B4E.pixelFromTransformedValue(O4D.I03(2,O4E,m4E),l4E,o4E);O4D.C03(50);h7E=B4E.pixelFromTransformedValue(O4D.I03(m4E,"2",O4E,1613010240,"3"),l4E,o4E);O4D.g03(51);C7E=B4E.pixelFromTransformedValue(O4D.J03(m4E,3,4,O4E),l4E,o4E);M7E=B4E.pixelFromTransformedValue(O4E,l4E,o4E);this.p0[1]=0;this.p1[1]=!{};T4E=this.getLineColor();f7E=this.fillColor;if(f7E == "auto" || w2g.isTransparent(f7E)){f7E=B4E.defaultColor;}u4E.fillStyle=f7E;p4E={pattern:this.pattern,lineWidth:this.lineWidth};B4E.plotLine(R4E,Z4E,a4E,a4E,T4E,c1L,u4E,l4E,p4E);B4E.plotLine(R4E,Z4E,M7E,M7E,T4E,W1L,u4E,l4E,p4E);if(this.name == "quadrant"){T7L="segmen";T7L+="t";B4E.plotLine(R4E,Z4E,E7E,E7E,T4E,"segment",u4E,l4E,p4E);B4E.plotLine(R4E,Z4E,C7E,C7E,T4E,T7L,u4E,l4E,p4E);}else if(this.name == h7L){B4E.plotLine(R4E,Z4E,z7E,z7E,T4E,"segment",u4E,l4E,p4E);B4E.plotLine(R4E,Z4E,h7E,h7E,T4E,"segment",u4E,l4E,p4E);}B4E.plotLine(R4E,R4E,a4E,M7E,T4E,V7L,u4E,l4E,p4E);B4E.plotLine(Z4E,Z4E,a4E,M7E,T4E,B7L,u4E,l4E,p4E);B4E.plotLine(R4E,Z4E,i7E,i7E,T4E,l7L,u4E,l4E,w2g.extend(p4E,{opacity:this.name == "tirone"?0.2:"1" >> 654443648}));u4E.globalAlpha=0.1;u4E.beginPath();O4D.C03(4);u4E.fillRect(R4E,a4E,O4D.I03(Z4E,R4E),O4D.J03(M7E,a4E));if(this.name == "quadrant"){O4D.C03(4);u4E.fillRect(R4E,E7E,O4D.I03(Z4E,R4E),O4D.I03(C7E,E7E));}else if(this.name == "tirone"){O4D.C03(4);u4E.fillRect(R4E,z7E,O4D.I03(Z4E,R4E),O4D.I03(h7E,z7E));}u4E.globalAlpha=1;if(!this.highlighted){this.pixelX=[R4E,Z4E];this.pixelY=[a4E,M7E];if(l4E.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(i7E);}else {y7L="p";y7L+="0";v7E=this.highlighted == y7L?! ![]:!"1";g7E=this.highlighted == "p1"?!0:!{};this.littleCircle(u4E,R4E,i7E,v7E);this.littleCircle(u4E,Z4E,i7E,g7E);}},intersected:function(K7E,A7E,w7E){var Y7E;if(!this.pixelX || !this.pixelY){return null;}Y7E=this.repositionIntersection(K7E,A7E);if(Y7E){return Y7E;}for(var L7E=+"0";L7E < ("2" | 0);L7E++){if(this.pointIntersection(this.pixelX[L7E],this.pixelY[2],w7E,! ![])){O4D.C03(2);this.highlighted=O4D.I03(536.67 != (2597,995.86)?(380.7,742.73) < (9300,229.21)?"k":"p":"0x2f6" ^ 0,L7E);return {action:"drag",point:((841.74,84) < 8200?"p":("9.84e+3" & 2147483647,913.56)) + L7E};}}if(this.boxIntersection(null,null,w7E)){this.highlighted=! !{};return {action:"move",p0:w2g.clone(this.p0),p1:w2g.clone(this.p1),tick:K7E,value:A7E};}return null;},reconstruct:function(s7E,J7E){var c3e,W3e,T0L;this.stx=s7E;this.color=J7E.col;this.fillColor=J7E.fc;c3e=+"540915649";W3e=1604378644;T0L=2;for(var V0L=1;O4D.E9e(V0L.toString(),V0L.toString().length,44427) !== c3e;V0L++){this.panelName=J7E.pnl;this.pattern=J7E.ptrn;this.lineWidth=J7E.lw;this.d0=J7E.d0;this.d1=J7E.d1;T0L+=2;}if(O4D.E9e(T0L.toString(),T0L.toString().length,40056) !== W3e){this.panelName=J7E.pnl;this.pattern=J7E.ptrn;this.lineWidth=J7E.lw;this.d0=J7E.d0;this.d1=J7E.d1;}this.panelName=J7E.pnl;this.pattern=J7E.ptrn;this.lineWidth=J7E.lw;this.d0=J7E.d0;this.d1=J7E.d1;this.tzo0=J7E.tzo0;this.tzo1=J7E.tzo1;this.field=J7E.fld;this.adjust();},serialize:function(){O4D.k6D();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});w2g.Drawing.tirone=function(){this.name="tirone";};w2g.inheritsFrom(w2g.Drawing.tirone,w2g.Drawing.quadrant);w2g.Drawing.elliottwave=function(){var Y7L;Y7L="elliottw";Y7L+="av";Y7L+="e";this.name=Y7L;this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=! !0;this.annotationPoints=[];this.edit=null;};w2g.inheritsFrom(w2g.Drawing.elliottwave,w2g.Drawing.annotation);w2g.Drawing.elliottwave.defaultTemplate={impulse:[960 != 6010?(386.05,933.92) != (4040,250.77)?(6530,5220) > (+"2198",269.03)?"I":(391.10,"1.65e+3" | 1618):"F":"u",G7L,"III","IV","V"],corrective:[3530 == (9724,"1474" << 1569536768)?(0x1ccc,0x1be6):(3696,6280) !== "6527" * 1?"A":8550 < (124,+"342.74")?! !{}:("0x46a" ^ 0,728.33),"B","C"],decoration:"enclosed",showLines:!0};w2g.Drawing.elliottwave.prototype.initializeSettings=function(c7E){O4D.k6D();c7E.currentVectorParameters.waveParameters=w2g.clone(w2g.Drawing.elliottwave.defaultTemplate);};w2g.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern",O7L,"waveParameters"];w2g.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",e7L];w2g.Drawing.elliottwave.prototype.construct=function(n7E,U7E){var V7E;this.stx=n7E;this.panelName=U7E.name;O4D.T6D();V7E=n7E.currentVectorParameters;Object.assign(this,V7E.waveParameters);};w2g.Drawing.elliottwave.prototype.serialize=function(){var m7L,X7E;m7L="s";m7L+="t";X7E={};for(var x7E=+"0";x7E < this.points.length;x7E++){O4D.g03(2);X7E[O4D.J03(1720 < 7132?6881 === (7330,965)?(! !"1",0x2122):8170 === 6246?("r",! !""):"d":184.72,x7E)]=this[O4D.I03((+"541.56",2290) <= 7080?"d":(! !{},9.22e+3),x7E)];O4D.g03(2);X7E[O4D.J03("tzo",x7E)]=this[O4D.I03("tzo",x7E)];O4D.C03(2);X7E[O4D.I03(("7770" | 3674,5291) >= (931.64,642.02)?(5170,4699) <= (2250,8750)?"v":(+"9.55e+3",!{}):(!1,!"1"),x7E)]=this[O4D.J03(7782 <= (259.88,471.77)?0x1f85:"v",x7E)];}O4D.T6D();X7E.annotations=this.annotationPoints.join((3420,"195.96" * 1) > 2030?(148,786.63) >= 8371?"C":924 <= +"7640"?(0x229f,"J"):(+"887.12",795.53):",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:w2g.removeNullValues(w2g.replaceFields(this.font,{style:m7L,size:"sz",weight:"wt",family:"fl"}))},X7E);};w2g.Drawing.elliottwave.prototype.reconstruct=function(r7E,y7E){var A7L,s7L,k7L;A7L="encl";A7L+="o";A7L+="s";A7L+="ed";s7L="si";s7L+="z";s7L+="e";k7L="st";k7L+="yl";k7L+="e";this.stx=r7E;this.color=y7E.col;this.panelName=y7E.pnl;this.pattern=y7E.ptrn;this.lineWidth=y7E.lw;this.font=w2g.replaceFields(y7E.fnt,{st:k7L,sz:s7L,wt:"weight",fl:"family"});this.decoration=y7E.decor;this.showLines=y7E.show;this.dx=y7E.dx;this.dy=y7E.dy;this.trend=y7E.trend;this.annotationPoints=y7E.annotations.split(",");if(y7E.decor === A7L){this.calculateRadius(r7E.chart.tempCanvas.context);}this.maxSegments=y7E.mxSeg;this.reconstructPoints(y7E);this.adjust();};w2g.Drawing.elliottwave.prototype.reconstructPoints=function(d7E){var P7E,D7E,Q7E;P7E=this.stx.panels[this.panelName];if(!P7E){return;}for(var H7E=+"0";H7E < this.annotationPoints.length;H7E++){O4D.g03(2);this[O4D.J03("d",H7E)]=d7E[O4D.J03(7480 >= 8408?347.23 === 6850?(1.18e+3,! !{}):(72.14,321.78):"d",H7E)];O4D.C03(2);this[O4D.J03(5924 < 8681?7082 >= (8060,839)?"v":(+"846.1",277.02) !== (6580,4470)?664.44:("1.43e+3" << 1641020288,"2.96e+3" ^ 0):"O",H7E)]=d7E[O4D.J03((+"365.63",3154) >= (96.52,779.88)?(+"3243",746) < (327,7380)?"v":541.12:(838.92,"l"),H7E)];O4D.g03(2);this[O4D.I03("tzo",H7E)]=d7E[O4D.I03("tzo",H7E)];D7E=w2g.strToDateTime(d7E[((+"1744",6179) === (7872,+"588")?(+"6550",5420) === (4270,760.71)?747.54:("s",0x1325):"d") + H7E]);Q7E=this.stx.tickFromDate(D7E,P7E.chart);this.points.push([Q7E,d7E["v" + H7E]]);}};w2g.Drawing.elliottwave.prototype.calculateRadius=function(I7E){var N7E,e7E;this.getFontString();I7E.font=this.fontString;N7E=0;for(var G7E=0;G7E < this.annotationPoints.length;G7E++){e7E=I7E.measureText(this.annotationPoints[G7E]).width;if(N7E < e7E){N7E=e7E;}}this.enclosedRadius=N7E;};w2g.Drawing.elliottwave.prototype.check=function(W7E,F7E,q7E){var j7E,S7E;if(q7E === 1 && this.points.length === 2){return ! !1;}O4D.g03(52);j7E=this.points[O4D.J03(q7E,"1")];if(j7E && W7E <= j7E[0]){return ! !0;}O4D.g03(2);S7E=this.points[O4D.J03(q7E,1)];function k7E(B7E){for(var l7E=2;l7E < B7E.length;l7E++){if(Math.sign(B7E[l7E][1] - B7E[l7E - 1][1]) == Math.sign(B7E[l7E - 1][1] - B7E[l7E - ("2" ^ 0)][1])){return !"1";}}return ! !{};}if(S7E && W7E >= S7E[0]){return !1;}if(!k7E(this.points)){return !{};}return ! !"1";};w2g.Drawing.elliottwave.prototype.move=function(R7E,u7E,Z7E){O4D.k6D();this.copyConfig();this.points[this.lastPoint + 1]=[u7E,Z7E];this.render(R7E);};w2g.Drawing.elliottwave.prototype.adjust=function(){var O7E,T7E;O4D.k6D();O7E=this.stx.panels[this.panelName];if(!O7E){return;}for(var m7E=0;this.maxSegments + 1 > m7E;m7E++){O4D.g03(2);T7E=this[O4D.I03("d",m7E)];this.setPoint(m7E,T7E,this["v" + m7E],O7E.chart);this.points[m7E][0]=this.stx.tickFromDate(w2g.strToDateTime(T7E),O7E.chart);O4D.C03(2);this.points[m7E][1]=this[O4D.J03((9430,932.7) == 2640?("0x19aa" ^ 0,"s"):(3285,+"1597") < (9760,264)?3525 != (+"3195",576)?(!"1",0x431):! !0:"v",m7E)];}};w2g.Drawing.elliottwave.prototype.click=function(M8E,p7E,o7E){var a7E,i7L;O4D.T6D();a7E=this.stx.panels[this.panelName];if(!a7E){return;}this.copyConfig();if(!this.penDown){i7L="en";i7L+="closed";O4D.C03(23);this.setPoint(O4D.J03("0",2147483647),p7E,o7E,a7E.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=+"0";this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((288.1,8790) < (735.27,3200)?("6.43e+3" & 2147483647,499.02):"0");if(this.decoration === i7L){this.calculateRadius(M8E);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return !{};}if(this.accidentalClick(p7E,o7E)){this.penDown=! !"1";return !{};}if(this.check(p7E,o7E,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,p7E,o7E,a7E.chart);if(this.lastPoint === ("1" | 1)){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=![];return ! !1;}}return !{};};w2g.Drawing.elliottwave.prototype.render=function(b8E){var X7L,E8E,s8E,X8E,y8E,r8E,c8E,n8E,f8E,t8E,V8E,h8E,z8E,J7L,u7L,S7L,v8E,L8E,C8E,Y8E,K8E,H8E,d8E,o7L,A8E,w8E,g8E,U8E,x8E,P8E,J8E;X7L="midd";X7L+="le";E8E=this.stx.panels[this.panelName];if(!E8E){return;}s8E=this.stx;X8E=this.annotationPoints;y8E=this.pattern?w2g.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();b8E.font=this.fontString;b8E.textAlign="center";b8E.textBaseline=X7L;b8E.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(b8E);}this.lastFontString=this.fontString;r8E=this.getLineColor();b8E.fillStyle=b8E.strokeStyle=r8E;b8E.save();b8E.setLineDash(y8E);c8E=this.dx;n8E=this.dy;f8E=this.points;t8E=this.pts;V8E=!this.showLines && this.highlighted;h8E=f8E.length;if(this.penDown && this.segment){J7L="b";J7L+="ot";J7L+="t";J7L+="om";z8E=this.trend * (h8E % +"2" - 0.5) < 0;if(E8E.yAxis.flipped){z8E=!z8E;}this.drawDropZone(b8E,f8E[h8E - 2][1],this.stx.priceFromPixel(E8E.yAxis[z8E?"top":J7L]),f8E[h8E - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){u7L="bott";u7L+="om";S7L="t";S7L+="o";S7L+="p";v8E=parseInt(this.highlighted.substring(1,this.highlighted.length),+"10");z8E=this.trend * (v8E % 2 - 0.5) > +"0";O4D.C03(4);L8E=f8E[O4D.J03(v8E,1)];O4D.C03(53);C8E=f8E[O4D.I03(v8E,"1",2147483647)];Y8E=v8E > 0?L8E["1" - 0]:C8E[1];if(C8E){Y8E=Math[z8E?"max":"min"](Y8E,C8E[1]);}if(E8E.yAxis.flipped){z8E=!z8E;}this.drawDropZone(b8E,Y8E,this.stx.priceFromPixel(E8E.yAxis[z8E?S7L:u7L]),L8E?L8E[0]:null,C8E?C8E["0" | 0]:null);}for(var i8E=0;i8E < h8E;i8E++){K8E=f8E[i8E];H8E=s8E.pixelFromTick(K8E[0],E8E.chart);d8E=s8E.pixelFromValueAdjusted(E8E,K8E[0],K8E[1]);t8E[i8E]=[H8E,d8E];}i8E=0;if(this.showLines || V8E){b8E.beginPath();if(V8E){b8E.globalAlpha=0.3;}for(;i8E < t8E.length;i8E++){b8E.lineTo(t8E[i8E][0],t8E[i8E][+"1"]);}b8E.stroke();O4D.g03(0);i8E=O4D.J03(137539584,"0");}b8E.restore();for(;i8E < h8E;i8E++){o7L="par";o7L+="enthe";o7L+="ses";A8E=i8E % ("2" * 1)?c8E:-c8E;w8E=i8E % 2?n8E:-n8E;A8E*=this.trend;w8E*=this.trend;if(E8E.yAxis.flipped){O4D.C03(23);A8E*=-O4D.I03("1",2147483647);w8E*=-1;}g8E=t8E[i8E];U8E=g8E[2]=g8E[0] + A8E;x8E=g8E[3]=g8E[1] + w8E;P8E=this.enclosedRadius || 8;J8E=X8E[i8E];if(this.decoration === o7L){O4D.g03(45);J8E=O4D.J03("955.75" * 1 == 2781?848.84 == 108?(0x91,!{}):99.01 < 291.98?! !{}:("n","n"):")",J8E,3990 == (3092,265.38)?852.75 !== (1020,302)?(![],2.00e+3):(510.92,0x12d6):"(");}b8E.fillText(J8E,U8E,x8E);if(this.decoration === "enclosed"){b8E.beginPath();b8E.arc(U8E,x8E,P8E,0,2 * Math.PI,!1);b8E.stroke();}if(this.highlighted){b8E.save();this.littleCircle(b8E,this.pts[i8E][0],this.pts[i8E]["1" >> 1158070944],this.highlighted === ("123.98" - 0 !== 4800?(+"7560",5768) > (955.3,1938)?"p":! !{}:("S",!"")) + i8E);b8E.restore();}}};w2g.Drawing.elliottwave.prototype.reposition=function(k8E,D8E,G8E,e8E){var q8E,j8E,S8E,N8E,I8E,W8E,q3e,H3e,g3e;if(!D8E){return;}q8E=this.stx.panels[this.panelName];j8E=D8E.tick - G8E;S8E=D8E.value - e8E;if(D8E.action === "move"){for(var Q8E="0" & 2147483647;D8E.points.length > Q8E;Q8E++){N8E=D8E.points[Q8E];this.setPoint(Q8E,N8E[0] - j8E,N8E[1] - S8E,q8E.chart);this.points[Q8E]=[N8E[0] - j8E,N8E["1" & 2147483647] - S8E];}}if(D8E.action === "drag"){I8E=D8E.point;W8E=this.points;W8E[I8E]=[G8E,e8E];if(this.check(G8E,e8E,I8E)){this.setPoint(I8E,G8E,e8E,q8E.chart);;}q3e=+"255805859";O4D.g03(15);H3e=O4D.I03("508378431",1653105408);g3e=2;for(var U3e=+"1";O4D.E9e(U3e.toString(),U3e.toString().length,"53970" & 2147483647) !== q3e;U3e++){;g3e+=2;}if(O4D.N9e(g3e.toString(),g3e.toString().length,56128) !== H3e){;}}O4D.k6D();this.render(k8E);};w2g.Drawing.elliottwave.prototype.intersected=function(B8E,R8E,u8E){var Z8E,n7L,l8E,z7L;if(!this.p0 || !this.p1){return null;}for(var F8E=0;this.points.length > F8E;F8E++){n7L="se";n7L+="gme";n7L+="n";n7L+="t";l8E=this.points[F8E];if(this.pointIntersection(l8E[0],l8E["1" >> 678730432],u8E)){O4D.g03(2);this.highlighted=O4D.J03(549.58 !== 6175?"p":(949.41,"3510" | 3202) != 971.88?(! !{},"4.76e+3" - 0):(! ![],4.92e+2),F8E);return {action:"drag",point:F8E,tick:B8E,value:R8E};}if(this.points[F8E + 1] && this.lineIntersection(B8E,R8E,u8E,n7L,l8E,this.points[F8E + 1])){z7L="mo";z7L+="ve";this.highlighted=! !"1";Z8E={action:z7L,points:w2g.clone(this.points),tick:B8E,value:R8E};}}return Z8E;};w2g.Drawing.elliottwave.prototype.measure=function(){var m8E,p8E,T8E,p7L,O8E;if(this.points.length >= +"2"){m8E=this.points;this.stx.setMeasure(m8E[0][1],m8E[m8E.length - 1][1],m8E["0" & 2147483647][0],m8E[m8E.length - 1][0],! !{});p8E=this.stx.controls.mSticky;T8E=p8E && p8E.querySelector(".mStickyInterior");if(T8E){p7L="<";p7L+="b";p7L+="r";p7L+=">";O8E=[];O8E.push(w2g.capitalize("Elliott Wave"));if(this.getYValue){O8E.push(this.field || this.stx.defaultPlotField || "Close");}O8E.push(T8E.innerHTML);T8E.innerHTML=O8E.join(p7L);}}};w2g.Drawing.printProjection=function(f9E,c9E,o8E){O4D.T6D();var M9E,b9E,K9E,t9E,A9E,h9E,w9E,C9E,z9E,L9E,E9E,J9E,Y9E,w7L,g9E,a8E,s9E;M9E=c9E.arr;if(M9E.length > 1){b9E=M9E[0][0];K9E=Math.round(f9E.chart.maxTicks * 0.75);for(var i9E=1;i9E < M9E.length;i9E++){O4D.C03(16);t9E=M9E[O4D.J03("1",i9E,0)][0];A9E=M9E[i9E][0];h9E=w2g.strToDateTime(t9E);w9E=w2g.strToDateTime(A9E).getTime();C9E=f9E.standardMarketIterator(h9E);z9E=0;while(h9E.getTime() < w9E){h9E=C9E.next();z9E+=1;}L9E=w2g.strToDateTime(t9E).getTime();if(L9E > w2g.strToDateTime(o8E[o8E.length - 1].Date).getTime()){E9E=o8E.length - 1;z9E+=1;}else {for(E9E=o8E.length - 1;E9E >= 0;E9E--){if(L9E <= w2g.strToDateTime(o8E[E9E].Date).getTime())break;}}J9E={x0:0,x1:z9E,y0:o8E[E9E].Close,y1:M9E[i9E][1]};b9E=w2g.strToDateTime(t9E);C9E=f9E.standardMarketIterator(b9E);Y9E=!{};for(var v9E=0;v9E <= z9E;v9E++){w7L="m";w7L+="inu";w7L+="te";if(!Y9E){Y9E=! ![];}else {b9E=C9E.next();}if(b9E.getTime() <= o8E[o8E.length - 1].DT.getTime())continue;g9E=w2g.yIntersection(J9E,v9E);if(!g9E){g9E=0;}a8E=Math.round(g9E * ("10000" | 1040)) / 10000;if(a8E === 0){a8E=M9E[i9E][1];}s9E={Date:w2g.yyyymmddhhmmssmmm(b9E),DT:b9E,Open:a8E,Close:a8E,High:a8E,Low:a8E,Volume:0,Adj_Close:a8E,Split_Close:a8E,projection:! !"1"};if(f9E.layout.interval == w7L)if(K9E-- < 0)break;o8E[o8E.length]=s9E;}}}};}};K1T=V9E=>{var n9E;n9E=typeof _CIQ !== "undefined"?_CIQ:V9E.CIQ;if(!n9E.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {n9E.formatEquation=function(d9E){var Q1D=z7QQ;var X9E,r9E,U9E,y9E,x9E;X9E="";r9E=[];U9E="";y9E=!1;Q1D.k6D();for(var H9E=1;H9E < d9E.length;H9E++){x9E=d9E[H9E].toUpperCase();if(x9E == ((346.19,930) !== (5312,827.59)?"[":2.52e+3) && !y9E){y9E=! !{};}else if(x9E == (6833 === (7870,+"703.09")?7800 !== 113.66?(8.05e+3,! !{}):(3.54e+2,"m"):"]") && y9E){y9E=!1;if(U9E !== ""){r9E.push(U9E);Q1D.g03(45);X9E+=Q1D.J03((9710,2250) <= (6841,52)?+"8452" < 3210?(0x5e0,0x13d2):+"0xc39":"]",U9E,(85.06,341.8) < ("2390" - 0,+"6150")?"[":5640 === 3130?! !1:("R",0xd51));}U9E="";}else if(y9E){U9E+=x9E;}else if(x9E == ((235.65,3440) > (994.36,+"5494")?"j":"+") || x9E == (193.98 == (334,522.98)?(650.62,"s"):635.81 >= +"5870"?"647.79" - 0:226.17 < (4350,217.35)?"577.97" - 0:"-") || x9E == (("1430" | 1040) < 503.25?! ![]:"*") || x9E == ((8860,"2340" * 1) < (271.97,"634.94" * 1)?("6500" & 2147483647,9390) < 444?("H",2.24e+3):+"788.91" <= (695.81,5980)?(0x12e7,83.09):(0x19b0,976.50):"/") || x9E == ((6240,967.07) == (641,3606)?"x":":") || x9E == (3640 > 3387?"%":427 === 7152?(0x21bd,"s"):3026 <= 1310?! !0:"F") || x9E == (("406" | 148) >= 387.98?"(":("4349" << 404516512,767.17) === (707.9,2137)?6.35e+3:463.46 >= 4320?"915.80" * 1:("3.70e+3" * 1,690.98)) || x9E == ((3956,+"7120") < (7550,9515)?(2819,8780) !== 834.67?")":! !{}:"0xc38" << 1797390464)){if(U9E !== "" && isNaN(U9E)){r9E.push(U9E);Q1D.g03(45);X9E+=Q1D.J03((6799,"1245" & 2147483647) === 633.4?("8.61e+3" >> 1076923616,3.01e+3):("217.66" * 1,120) !== +"6610"?"]":("p","O"),U9E,+"448.37" >= (1220,94.03)?(939.22,933.55) !== (9438,"7220" * 1)?"[":(4.35e+3,833.79):(1.88e+3,600.48));}else {X9E+=U9E;}if(x9E == (596.99 !== (3510,1021)?465.71 !== 185?":":3670 != 2907?! !{}:+"0x21dc":465.35)){x9E="/";}X9E+=x9E;U9E="";}else if(x9E != " "){U9E+=x9E;}}if(U9E !== "" && isNaN(U9E)){r9E.push(U9E);Q1D.C03(45);X9E+=Q1D.J03((5300,6029) !== 2788?"]":(! !"1",!"1"),U9E,(+"271.05",972.72) == +"7010"?8762 > 4720?("424.55" - 0,246.18) > 5525?(2.09e+3,0x2544):6.14e+3:("G","550.40" * 1):"[");}else {X9E+=U9E;}return {equation:X9E,symbols:r9E};};n9E.fetchEquationChart=function(P9E,q9E){var N9E,G9E,e9E,I9E,Q9E;N9E=n9E.formatEquation(P9E.symbol);G9E=N9E.symbols;e9E=[];I9E=P9E.stx;z7QQ.k6D();P9E.stx=null;for(var D9E=0;D9E < G9E.length;D9E++){Q9E=n9E.shallowClone(P9E);Q9E.stx=I9E;Q9E.symbol=G9E[D9E];Q9E.symbolObject={symbol:G9E[D9E]};e9E.push(Q9E);}P9E.stx=I9E;I9E.quoteDriver.multiFetch(e9E,function(B9E){var F9E,j9E,S9E,W9E,R9E;F9E={};P9E.loadMoreReplace=!"";j9E={charge:0};z7QQ.k6D();for(var k9E=0;k9E < B9E.length;k9E++){S9E=B9E[k9E];if(S9E.dataCallback.error){q9E({error:S9E.dataCallback.error});return;}F9E[S9E.params.symbol]=S9E.dataCallback.quotes;P9E.loadMoreReplace=P9E.loadMoreReplace && S9E.params.loadMoreReplace;P9E.moreToLoad=P9E.moreToLoad || S9E.dataCallback.moreAvailable;W9E=S9E.dataCallback.attribution;if(W9E){if(W9E.charge){j9E.charge+=W9E.charge;}j9E.source=W9E.source;if(j9E.exchange === undefined){j9E.exchange=W9E.exchange;}else if(j9E.exchange != W9E.exchange){j9E.exchange="";};}}if(e9E.length || !(P9E.loadMore || P9E.update)){try{R9E=n9E.computeEquationChart(N9E.equation,F9E);q9E({quotes:R9E,moreAvailable:P9E.moreToLoad,attribution:j9E});}catch(u9E){var l9E;l9E={error:"Invalid equation: " + N9E.equation};if(u9E.name && u9E.name == "NoException"){l9E.suppressAlert=! ![];}q9E(l9E);}}});};}};A1T=m9E=>{var w0L,b0L,L0L,Z9E;w0L=-1032598810;b0L=167983922;L0L=2;for(var Q0L=1;z7QQ.E9e(Q0L.toString(),Q0L.toString().length,96476) !== w0L;Q0L++){Z9E=typeof _CIQ !== "undefined"?_CIQ:m9E.CIQ;L0L+=2;}if(z7QQ.E9e(L0L.toString(),L0L.toString().length,54767) !== b0L){Z9E=-_CIQ === ""?_CIQ:m9E.CIQ;}if(!Z9E.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {Z9E.ChartEngine.prototype.removeDOMMarker=function(O9E){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");Z9E.Marker.Performance.prototype.removeDOMMarker.call(O9E.params.node,O9E);};Z9E.ChartEngine.prototype.drawMarkers=function(){z7QQ.T6D();var U4e,j4e,N4e;console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");U4e=884047249;j4e=- +"93573591";N4e=2;for(var D4e="1" << 576919424;z7QQ.E9e(D4e.toString(),D4e.toString().length,64583) !== U4e;D4e++){Z9E.Marker.Performance.drawMarkers(this);N4e+=2;}if(z7QQ.N9e(N4e.toString(),N4e.toString().length,36703) !== j4e){Z9E.Marker.Performance.drawMarkers(this);}};Z9E.ChartEngine.prototype.calculateMarkerStyles=function(T9E,p9E){var b7L;z7QQ.k6D();b7L="CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker";b7L+=".Performance.calculateStyles instead.";console.warn(b7L);Z9E.Marker.Performance.calculateMarkerStyles(this,T9E,p9E);};Z9E.ChartEngine.prototype.drawCircleMarker=function(o9E,a9E,M2E){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");Z9E.Marker.Performance.drawCircleMarker(o9E,a9E,M2E);};Z9E.ChartEngine.prototype.drawSquareMarker=function(b2E,i2E,E2E){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");Z9E.Marker.Performance.drawSquareMarker(b2E,i2E,E2E);};Z9E.ChartEngine.prototype.drawCalloutMarker=function(z2E,f2E,t2E){z7QQ.T6D();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");Z9E.Marker.Performance.drawCalloutMarker(z2E,f2E,t2E);};Z9E.ChartEngine.prototype.drawMarkerStem=function(h2E,C2E,v2E){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");z7QQ.T6D();Z9E.Marker.Performance.drawMarkerStem(h2E,C2E,v2E);};Z9E.ChartEngine.prototype.positionDOMMarkers=function(){z7QQ.T6D();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");Z9E.Marker.Performance.drawMarkers(this);};Z9E.Marker.Performance=function(Y2E){var L7L,L2E,g2E,A2E,J2E,K2E,w2E,s2E,c2E;L7L="<";L7L+="div class=\"stx";L7L+="-stem\"></div>";this.params={displayCategory:!"",displayStem:!0,invert:! !0,story:"",headline:""};Z9E.extend(this.params,Y2E);L2E=this.template=document.createElement("TEMPLATE");z7QQ.C03(54);L2E.innerHTML=z7QQ.I03("</div>",'<div class="stx-visual">',"</div>",L7L,"</div>",'<div class="stx-marker highlight">','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-marker-content">');g2E=this.template.content.cloneNode(! !{});A2E=g2E.querySelector(".stx-marker",L2E);A2E.classList.add(Y2E.type);A2E.classList.add(Y2E.category);J2E=g2E.querySelector(".stx-visual",L2E);K2E=g2E.querySelector(".stx-marker-expand");w2E=g2E.querySelector("h4",L2E);s2E=g2E.querySelector((+"918","974.73" - 0) == 1062?786.03:"p",L2E);w2E.innerText=this.params.headline;s2E.innerText=this.params.story;this.hasText=! !Y2E.headline || ! !Y2E.story;this.deferAttach=! ![];this.node=g2E.firstChild;this.node.params=this.params;this.visual=J2E;this.expand=K2E;if(Y2E.type === "callout"){c2E=K2E.removeChild(w2E);g2E.querySelector(".stx-marker-content",L2E).insertBefore(c2E,K2E);}};Z9E.inheritsFrom(Z9E.Marker.Performance,Z9E.Marker.NodeCreator,! !0);Z9E.Marker.Performance.consolidateExpanded=function(r2E){var n2E,V2E,X2E,C7L,x2E,y2E;n2E=r2E.markerHelper.highlighted;if(!n2E.length){return;}z7QQ.k6D();V2E=n2E[n2E.length - 1];X2E=V2E.params.node;if(!V2E.consolidated){V2E.consolidated=[];}for(var U2E=n2E.length - +"2";U2E >= 0;U2E--){C7L="<conso";C7L+="lidated";C7L+=">";x2E=H2E(n2E[U2E]);z7QQ.g03(45);y2E=z7QQ.J03("</consolidated>",x2E,C7L);if(x2E.length){X2E.expand.innerHTML+=y2E;}}V2E.stxNodeCreator.quickCache(V2E);function H2E(Q2E){z7QQ.T6D();var P2E,d2E,D2E;P2E=Q2E.params.node;d2E=P2E.expand;if(!d2E){return "";}D2E=d2E.style.display !== "none"?d2E.innerHTML:"";return D2E;}};Z9E.Marker.Performance.reconstituteExpanded=function(I2E){var N2E,Q7L,q2E,j2E,e2E;N2E=I2E.markerHelper.highlighted;z7QQ.T6D();if(!N2E.length || !I2E.activeMarker){return;}N2E=[I2E.activeMarker];for(var G2E=N2E.length - 1;G2E >= 0;G2E--){Q7L="CON";Q7L+="SOLID";Q7L+="ATED";q2E=N2E[G2E];j2E=q2E.params.node;e2E=j2E.expand;while(e2E.lastElementChild.nodeName === Q7L){e2E.removeChild(e2E.lastElementChild);}}};Z9E.Marker.Performance.drawMarkers=function(B2E){var l2E,S2E,k2E,F2E,R2E,u2E;l2E=B2E.getMarkerArray("all");S2E=B2E.chart;for(var W2E=0;W2E < l2E.length;W2E++){k2E=l2E[W2E];F2E=k2E.stxNodeCreator;R2E=S2E.dataSegment[+"0"].tick;u2E=S2E.dataSegment[S2E.dataSegment.length - 1].tick;if(R2E <= k2E.tick <= u2E){if(F2E && F2E.drawMarker){F2E.drawMarker(k2E);}}}};Z9E.Marker.Performance.calculateMarkerStyles=function(m2E,O2E,o2E){var Z2E,T2E,p2E;Z2E=document.querySelector(".stx-marker-templates");if(!Z2E){Z2E=document.createElement("DIV");Z2E.style.visibility="hidden";Z2E.style.left="-1000px";document.body.append(Z2E);}Z2E.appendChild(O2E.node);T2E=getComputedStyle(O2E.stxNodeCreator.visual);if(!m2E.styles.stx_marker_stem){p2E=getComputedStyle(document.querySelector(".stx-stem",O2E.node));m2E.styles.stx_marker_stem=m2E.cloneStyle(p2E);}m2E.styles[o2E]=m2E.cloneStyle(T2E);Z2E.removeChild(O2E.node);};Z9E.Marker.Performance.drawCircleMarker=function(E3E,v3E,M3E){var h3E,C3E,a2E,b3E,i3E,z3E,f3E,t3E,F7L;h3E=E3E.params.stx;C3E=h3E.chart;a2E=C3E.context;b3E=M3E.x;i3E=M3E.y;z3E=M3E.radius;f3E=M3E.label;t3E=M3E.color?M3E.color:v3E.backgroundColor;a2E.beginPath();a2E.setLineDash([]);a2E.lineWidth=1;a2E.fillStyle=t3E;a2E.strokeStyle=t3E;a2E.font="normal bold 12px Roboto, Helvetica, sans-serif";a2E.arc(b3E,i3E,z3E,0,2 * Math.PI,![]);a2E.fill();a2E.stroke();a2E.closePath();if(f3E){F7L="w";F7L+="hite";a2E.fillStyle=Z9E.colorsEqual(F7L,a2E.fillStyle)?"black":"white";a2E.fillText(f3E.charAt(0).toUpperCase(),b3E - 4,i3E + ("1" | 1));}if(E3E.highlight || E3E.active){a2E.beginPath();z7QQ.g03(2);a2E.arc(b3E,i3E,z7QQ.I03(z3E,4),0,2 * Math.PI,! !0);a2E.stroke();a2E.closePath();}};Z9E.Marker.Performance.drawSquareMarker=function(J3E,U3E,L3E){var F3D=z7QQ;var n3E,V3E,g3E,A3E,w3E,Y3E,s3E,c3E,K3E;n3E=J3E.params.stx;V3E=n3E.chart;g3E=V3E.context;A3E=L3E.x;w3E=L3E.y;Y3E=L3E.half;F3D.k6D();s3E=L3E.label;c3E=L3E.color?L3E.color:U3E.backgroundColor;F3D.g03(12);K3E=F3D.I03(Y3E,2);g3E.beginPath();g3E.setLineDash([]);g3E.lineWidth=1;g3E.fillStyle=c3E;g3E.strokeStyle=c3E;g3E.font="normal bold 12px Roboto, Helvetica, sans-serif";F3D.g03(4);g3E.rect(F3D.J03(A3E,Y3E),F3D.I03(w3E,Y3E),K3E,K3E);g3E.fill();if(J3E.highlight || J3E.active){F3D.C03(55);g3E.rect(F3D.I03(A3E,4,Y3E),F3D.I03(w3E,4,Y3E,F3D.g03(55)),F3D.I03(K3E,8,F3D.g03(2)),F3D.I03(K3E,8,F3D.g03(2)));}g3E.stroke();g3E.closePath();if(s3E){g3E.fillStyle=Z9E.colorsEqual("white",g3E.fillStyle)?"black":"white";g3E.fillText(s3E.charAt(+"0").toUpperCase(),A3E - 4,w3E + 1);}};Z9E.Marker.Performance.drawCalloutMarker=function(r3E,S3E,X3E){var d7L,f7L,I3E,q3E,x3E,y3E,W3E,d3E,P3E,D3E,Q3E,N3E,j3E,H3E,G3E,e3E;d7L="bla";z7QQ.k6D();d7L+="ck";f7L="rgba(2";f7L+="55,";f7L+="255,255,";f7L+="0.8)";I3E=r3E.params.stx;q3E=I3E.chart;x3E=q3E.context;y3E=r3E.params;W3E=X3E.x;d3E=X3E.y;P3E=X3E.half;D3E=X3E.midWidth;Q3E=X3E.headline;N3E=X3E.color?X3E.color:S3E.backgroundColor;j3E=P3E * 2 || +"25";H3E=Math.round(x3E.measureText(Q3E).width);G3E=D3E?D3E * 2:H3E + 8;x3E.beginPath();x3E.setLineDash([]);x3E.lineWidth=1;x3E.fillStyle=N3E;x3E.strokeStyle=N3E;x3E.font="normal bold 12px Roboto, Helvetica, sans-serif";x3E.rect(y3E.box.x0,y3E.box.y0,G3E,j3E);x3E.fill();x3E.stroke();x3E.closePath();x3E.beginPath();x3E.fillStyle=r3E.highlight || r3E.active?f7L:"rgba(255,255,255,0.65)";z7QQ.g03(56);e3E=z7QQ.I03(2,H3E,G3E,"20",1);x3E.rect(y3E.box.x0 + e3E,d3E - P3E,H3E + 40,"22" ^ 0);x3E.fill();x3E.stroke();x3E.closePath();x3E.fillStyle=d7L;x3E.fillText(Q3E,y3E.box.x0 + e3E + 10,d3E);};Z9E.Marker.Performance.drawMarkerStem=function(F3E,u3E,l3E){var Z3E,m3E,k3E,B3E,p3E,R3E,O3E,T3E;Z3E=F3E.params.stx;m3E=Z3E.chart;k3E=m3E.context;B3E=l3E.x;p3E=l3E.y;k3E.beginPath();k3E.strokeStyle=u3E.borderLeftColor;k3E.setLineDash([1,1]);R3E=Z9E.stripPX(u3E.height);O3E=l3E.invert?F3E.params.box.y0:F3E.params.box.y1;T3E=l3E.invert?F3E.params.box.y0 - R3E:F3E.params.box.y1 + R3E;k3E.moveTo(B3E,O3E);k3E.lineTo(B3E,T3E);k3E.stroke();k3E.closePath();};Z9E.Marker.Performance.prototype.drawMarker=function(o3E){var d3D=z7QQ;var v7L,v5E,M5E,J5E,s5E,K5E,b5E,f5E,t5E,c5E,A5E,g5E,w5E,L5E,i5E,Y5E,a3E,h5E,C5E,n5E,V5E,E5E,z5E,R7L;v7L="squar";v7L+="e";v5E=o3E.params;M5E=o3E.params.stx;if(!M5E){return;}J5E=M5E.chart;s5E=J5E.dataSegment;if(!s5E.length){return;}K5E=M5E.panels[o3E.params.panelName];b5E=o3E.stxNodeCreator.params;f5E=b5E.type;t5E=b5E.category;c5E=b5E.headline;A5E=b5E.displayCategory;g5E=b5E.color;w5E=b5E.invert;d3D.g03(57);L5E=d3D.J03(t5E,"_","stx_marker_",f5E);if(!M5E.styles[L5E]){Z9E.Marker.Performance.calculateMarkerStyles(M5E,o3E,L5E);}d3D.k6D();i5E=o3E.style=M5E.styles[L5E];Y5E=M5E.styles.stx_marker_stem;a3E=parseInt(i5E.height,"10" | 2) / +"2";h5E=parseInt(i5E.width,+"10") / 2;C5E=b5E.displayStem?parseInt(Y5E.height,10) + parseInt(Y5E.marginBottom,10):0;n5E=C5E + parseInt(i5E.height,10);V5E=C5E?C5E + a3E:0;E5E=M5E.pixelFromDate(v5E.x);z5E=v5E.node.calculateYPosition({marker:o3E,panel:K5E,height:n5E,half:a3E,offset:V5E,inverted:w5E});if(!o3E.tick && o3E.tick !== 0){return;}v5E.box={x0:E5E - (h5E || a3E),y0:z5E - a3E,x1:E5E + (h5E || a3E),y1:z5E + a3E,midY:a3E,midX:h5E || a3E,stemHeight:C5E};if(!A5E){t5E=A5E;}M5E.startClip(K5E.name);if(f5E === "circle"){Z9E.Marker.Performance.drawCircleMarker(o3E,i5E,{x:E5E,y:z5E,radius:a3E,label:t5E,color:g5E});}else if(f5E === v7L){Z9E.Marker.Performance.drawSquareMarker(o3E,i5E,{x:E5E,y:z5E,half:a3E,label:t5E,color:g5E});}else if(f5E === "callout"){Z9E.Marker.Performance.drawCalloutMarker(o3E,i5E,{x:E5E,y:z5E,half:a3E,midWidth:h5E,headline:c5E,color:g5E});}else {R7L=" is unsupported with canvas ma";R7L+="rkers!\nSuppor";R7L+="ted Styles are Square, Circle, and Callout.";d3D.C03(45);console.warn(d3D.I03(R7L,f5E,"Marker type: "));}if(b5E.displayStem){Z9E.Marker.Performance.drawMarkerStem(o3E,Y5E,{x:E5E,y:z5E,invert:w5E});}M5E.endClip();if(o3E.attached){this.positionPopUpNode(o3E);}};Z9E.Marker.Performance.prototype.positionPopUpNode=function(x5E){var P7L,P5E,y5E,U5E,D5E,H5E,X5E,Q5E,q5E,j5E,S5E,W5E,N5E,r5E,I5E,G5E,d5E,e5E,k5E;P7L="h";P7L+="idde";P7L+="n";if(!x5E.attached || !x5E.params.box){return;}P5E=x5E.params;y5E=P5E.stx;U5E=P5E.box;D5E=x5E.params.node.expand;H5E=y5E.chart.dataSet;X5E=y5E.chart.dataSegment;if(x5E.tick){q5E=[H5E[X5E[0] && X5E[0].tick - 1],H5E[X5E["0" | 0] && X5E[0].tick - +"2"]];j5E=y5E.getFirstLastDataRecord(q5E.concat(X5E),"Date");S5E=[H5E[X5E[X5E.length - 1].tick + 1],H5E[X5E[X5E.length - 1].tick + 2]];W5E=y5E.getFirstLastDataRecord(X5E.concat(S5E),"Date",! ![]);Q5E=j5E.DT <= H5E[x5E.tick].DT && H5E[x5E.tick].DT <= W5E.DT;}else {Q5E=![];}if(!x5E.highlight && !x5E.active){Q5E=!{};}D5E.style.visibility=Q5E?"":P7L;if(!Q5E){return;}N5E=y5E.panels[P5E.panelName];r5E=D5E.rects;I5E=r5E.height / 2;d5E=x5E.node.params.infoOffset || "0" - 0;if(x5E.node.params.infoOnLeft){G5E=U5E.x0 - r5E.width - d5E < N5E.left?U5E.x1 + d5E:U5E.x0 - r5E.width - d5E;}else {G5E=U5E.x0 + r5E.width > N5E.right?U5E.x0 - r5E.width - d5E:U5E.x1 + d5E;}G5E-=y5E.chart.left;e5E=U5E.y0 - I5E >= N5E.top?U5E.y0 + U5E.midY - I5E:U5E.y0;if(!P5E.avoidFlush && U5E.y1 + U5E.stemHeight === N5E.yAxis.bottom && r5E.height > U5E.y1 - U5E.y0 + U5E.stemHeight){e5E=U5E.y1 - r5E.height + U5E.stemHeight;}e5E-=y5E.chart.panel.top;k5E="translateX(" + Math.floor(G5E) + "px) translateY(" + Math.floor(e5E) + "px) translateZ(0)";D5E.style.transform=k5E;z7QQ.k6D();D5E.transform={translateX:G5E,translateY:e5E};};Z9E.Marker.Performance.prototype.quickCache=function(B5E){var R5E,F5E,l5E,u5E;R5E=B5E.params.node;F5E=R5E.expand;l5E=B5E.style;u5E=Z9E.stripPX(l5E.marginLeft) + Z9E.stripPX(l5E.marginRight) + Z9E.stripPX(l5E.borderRight) + Z9E.stripPX(l5E.borderLeft);F5E.rects=F5E.getBoundingClientRect();z7QQ.T6D();F5E.scrollBarWidth=F5E.rects.width - F5E.clientWidth - u5E;};Z9E.Marker.Performance.prototype.calculateYPosition=function(a5E){var q7L,I7L,o5E,m5E,i6E,M6E,p5E,E6E,O5E,z6E,f6E,T5E,b6E,t6E,Z5E,h6E,C6E;q7L="b";q7L+="ott";q7L+="om";I7L="b";I7L+="e";I7L+="low_cand";I7L+="le";o5E=a5E.marker;m5E=a5E.panel;z7QQ.k6D();i6E=a5E.height;M6E=a5E.half;p5E=a5E.offset;E6E=a5E.inverted;O5E=o5E.params.stx;z6E=O5E.chart;f6E=O5E.chart.highLowBars;T5E=z6E.dataSet[o5E.tick];if(!T5E){return;}b6E=f6E?T5E.High:T5E.Close;t6E=o5E.params.yPositioner;switch(t6E){case "value":if(o5E.params.y || o5E.params.y === 0){Z5E=O5E.pixelFromPrice(o5E.params.y,m5E) - i6E * 0.5 + M6E;}else {Z5E=O5E.pixelFromPrice(b6E,m5E) - p5E;}break;case "above_candle":Z5E=O5E.pixelFromPrice(b6E,m5E) - p5E;break;case I7L:Z5E=O5E.pixelFromPrice(T5E.Low || b6E,m5E);if(E6E && p5E){Z5E+=p5E;}else {Z5E+=M6E;}break;case "on_candle":(h6E=T5E.High || T5E.Close,C6E=T5E.Low || T5E.Low === 0 || T5E.Close);Z5E=O5E.pixelFromPrice((h6E + C6E) / 2,m5E) - i6E * 0.5 + M6E;break;case "top":Z5E=O5E.pixelFromPrice(m5E.yAxis.high,m5E);if(E6E && p5E){Z5E+=p5E;}else {Z5E+=M6E;}break;case q7L:Z5E=O5E.pixelFromPrice(m5E.yAxis.low,m5E) - (p5E || M6E);break;default:break;}return Z5E;};Z9E.Marker.Performance.prototype.prepareForHolder=function(g6E){var v6E,L6E;v6E=this.expand;L6E=g6E.params.stx;v6E.classList.add(this.params.type);L6E.markerHelper.domMarkers.push(g6E);return v6E;};Z9E.Marker.Performance.prototype.addToHolder=function(A6E){var H7L,K6E,Y6E;H7L="mous";H7L+="e";function w6E(J6E){Y6E.activeMarker=A6E;Y6E.activeMarker.click({cx:J6E.clientX,cy:J6E.clientY,panel:Y6E.currentPanel});J6E.stopPropagation();}H7L+="do";H7L+="wn";K6E=this.expand;Y6E=A6E.params.stx;Z9E.Marker.Performance.reconstituteExpanded(Y6E);Z9E.Marker.Performance.consolidateExpanded(Y6E);this.quickCache(A6E);if(K6E.clickClosure){return;}K6E.addEventListener(H7L,w6E);K6E.addEventListener("touchstart",w6E);K6E.clickClosure=w6E;};Z9E.Marker.Performance.prototype.remove=function(c6E){var s6E,V6E,U6E,n6E;s6E=c6E.params.stx;if(!s6E){return;}if(!s6E.markerHelper.domMarkers){return;}V6E=s6E.markerHelper.domMarkers.indexOf(c6E);if(V6E != -1){s6E.markerHelper.domMarkers.splice(V6E,1);}if(c6E.attached){U6E=s6E.panels[c6E.params.panelName];n6E=c6E.params.node.expand;if(n6E.parentNode === U6E.subholder){U6E.subholder.removeChild(n6E);}n6E.removeEventListener("click",n6E.clickClosure);}};Z9E.Marker.Performance.prototype.click=function(H6E){var W3D=z7QQ;var g7L,y6E,d6E,X6E,K5e,a5e,x5e;g7L="nu";g7L+="mbe";g7L+="r";if(!this.hasText){return;}if(typeof arguments[0] === g7L){H6E={cx:arguments[+"0"],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:r6E, cy:P6E, marker:x6E, panel:D6E}=H6E;y6E=x6E.params.stx;if(x6E.attached){X6E=this.expand;if(X6E.rects.width - X6E.scrollBarWidth + X6E.transform.translateX < y6E.backOutX(r6E) && y6E.backOutX(r6E) < X6E.rects.width + X6E.transform.translateX){return;}this.remove(x6E);}else {y6E.addToHolder(x6E);d6E=! !1;}K5e=-58511174;a5e=735680492;W3D.g03(15);x5e=W3D.J03("2",1181286912);for(var W5e=+"1";W3D.E9e(W5e.toString(),W5e.toString().length,"9631" ^ 0) !== K5e;W5e++){x6E.attached=-x6E.attached;x6E.active=+x6E.active;x5e+=2;}if(W3D.N9e(x5e.toString(),x5e.toString().length,1547) !== a5e){x6E.attached=+x6E.attached;x6E.active=-x6E.active;}x6E.attached=!x6E.attached;x6E.active=!x6E.active;if(d6E){x6E.stxNodeCreator.positionPopUpNode(x6E);}};}};w1T=N6E=>{var Z7L,Q6E,k2e,s2e,A2e;Z7L="u";Z7L+="ndefined";Q6E=typeof _CIQ !== Z7L?_CIQ:N6E.CIQ;Q6E.Renderer.OHLC.requestNew=function(l6E,G6E){var e6E,q6E,j6E,S6E,W6E,k6E,j7L,U7L,F6E;e6E=null;q6E=G6E.hlc;j6E=G6E.colored;S6E=G6E.hollow;W6E=G6E.volume;k6E=G6E.histogram;for(var I6E="0" ^ 0;I6E < l6E.length;I6E++){j7L="col";j7L+="o";j7L+="red";U7L="v";U7L+="o";U7L+="lume";F6E=l6E[I6E];switch(F6E){case "bar":case "candle":e6E=F6E;break;case U7L:W6E=! ![];break;case "hollow":S6E=! ![];break;case j7L:j6E=! !{};break;case "histogram":k6E=! ![];e6E="candle";break;case "hlc":q6E=! ![];e6E="bar";break;default:return null;}}if(e6E === null){return null;}return new Q6E.Renderer.OHLC({params:Q6E.extend(G6E,{type:e6E,hlc:q6E,colored:j6E,hollow:S6E,volume:W6E,histogram:k6E})});};Q6E.Renderer.OHLC.getChartParts=function(p6E,T6E){var i6L,A6L,s6L,k6L,m6L,e6L,O6L,G6L,Y6L,y6L,l6L,B6L,V6L,h6L,T6L,W7L,c7L,x7L,a7L,K7L,r7L,M7L,t7L,D7L,E7L,N7L,u6E,Z6E,m6E,B6E,R6E,O6E;i6L="stx_hol";i6L+="low_candle_even";A6L="c";A6L+="a";A6L+="ndl";A6L+="e";s6L="stx_";s6L+="holl";s6L+="ow";s6L+="_candle_up";k6L="border_";k6L+="color_ev";k6L+="e";k6L+="n";m6L="fill_col";m6L+="or_even";e6L="h";e6L+="o";e6L+="llow";O6L="stx_hollo";O6L+="w_cand";O6L+="le_up";G6L="bord";G6L+="er_co";G6L+="lor_even";Y6L="ca";Y6L+="n";Y6L+="dl";Y6L+="e";y6L="cand";y6L+="le";l6L="border_co";l6L+="lor_down";B6L="sh";B6L+="adow";V6L="ca";V6L+="nd";V6L+="le";h6L="stx";h6L+="_candle_shadow_u";h6L+="p";T6L="sha";T6L+="d";T6L+="o";T6L+="w";W7L="can";W7L+="dl";W7L+="e";c7L="sh";c7L+="a";c7L+="d";c7L+="ow";x7L="c";x7L+="an";x7L+="d";x7L+="le";a7L="border_co";a7L+="lor_";a7L+="even";K7L="b";K7L+="a";K7L+="r";r7L="b";r7L+="a";z7QQ.k6D();r7L+="r";M7L="border_co";M7L+="l";M7L+="or";t7L="stx_histogr";t7L+="am";t7L+="_even";D7L="histo";D7L+="gram";E7L="st";E7L+="x_hi";E7L+="s";E7L+="togram_up";N7L="histo";N7L+="gram";u6E=1;z7QQ.C03(12);Z6E=z7QQ.I03("2",1);m6E=4;B6E=8;R6E=16;O6E=32;return [{type:N7L,drawType:"histogram",style:E7L,condition:B6E,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:! ![]},{type:D7L,drawType:"histogram",style:"stx_histogram_down",condition:R6E,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !"1",useBorderStyleProp:! !{}},{type:"histogram",drawType:"histogram",style:t7L,condition:O6E,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:!0,useBorderStyleProp:! !{}},{type:"bar",drawType:"bar",style:p6E || "stx_bar_chart",border:M7L,useColorInMap:! !{}},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:T6E?B6E:u6E,border:"border_color_up",useColorInMap:!0},{type:r7L,drawType:"bar",style:"stx_bar_down",condition:T6E?R6E:Z6E,border:"border_color_down",useColorInMap:! !{}},{type:K7L,drawType:"bar",style:"stx_bar_even",condition:T6E?O6E:m6E,border:a7L,skipIfPass:! !1,useColorInMap:! !{}},{type:x7L,drawType:c7L,style:"stx_candle_shadow",border:"border_color_up"},{type:W7L,drawType:T6L,style:h6L,condition:B6E,border:"border_color_up"},{type:V6L,drawType:B6L,style:"stx_candle_shadow_down",condition:R6E,border:l6L},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:O6E,border:"border_color_even",skipIfPass:! !1},{type:"candle",drawType:y6L,style:"stx_candle_up",condition:B6E,fill:"fill_color_up",border:"border_color_up",useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"candle",drawType:Y6L,style:"stx_candle_down",condition:R6E,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !1,useBorderStyleProp:! !"1"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:u6E,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:Z6E,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:m6E,border:G6L,skipIfPass:! !{}},{type:"hollow",drawType:"candle",style:O6L,condition:u6E | R6E,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:Z6E | R6E,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !1},{type:e6L,drawType:"candle",style:"stx_hollow_candle_even",condition:m6E | R6E,fill:m6L,border:k6L,skipIfPass:! ![],useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:s6L,condition:u6E | B6E,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:A6L,style:"stx_hollow_candle_down",condition:Z6E | B6E,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:i6L,condition:m6E | B6E,fill:"fill_color_even",border:"border_color_even"}];;};Q6E.Renderer.Bars=function(a6E){var o6E;this.construct(a6E);o6E=this.params;o6E.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];o6E.hlc=o6E.volume=o6E.hollow=o6E.histogram=!1;};Q6E.inheritsFrom(Q6E.Renderer.Bars,Q6E.Renderer.OHLC,!{});Q6E.Renderer.HLC=function(b1E){var X6L,M1E;X6L="b";X6L+="a";X6L+="r";this.construct(b1E);M1E=this.params;M1E.type=X6L;M1E.hlc=!0;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";M1E.volume=M1E.hollow=M1E.histogram=!{};};Q6E.inheritsFrom(Q6E.Renderer.HLC,Q6E.Renderer.Bars,!{});Q6E.Renderer.Shading=function(i1E){this.construct(i1E);this.beenSetup=! !"";this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !{};}};Q6E.inheritsFrom(Q6E.Renderer.Shading,Q6E.Renderer.Lines,![]);Q6E.Renderer.Shading.requestNew=function(f1E,h1E){var E1E,t1E;E1E=null;for(var z1E=0;z1E < f1E.length;z1E++){t1E=f1E[z1E];if(t1E == "rangechannel"){E1E="rangechannel";}}if(E1E === null){return null;}return new Q6E.Renderer.Shading({params:Q6E.extend(h1E,{type:E1E})});};Q6E.Renderer.Shading.prototype.setShading=function(C1E){z7QQ.T6D();if(C1E.constructor != Array){C1E=[C1E];}this.shading=C1E;};z7QQ.k6D();Q6E.Renderer.Shading.prototype.draw=function(){var A4D=z7QQ;var L1E,Y1E,u6L,S6L,J6L,x1E,A1E,X1E,s1E,y1E,x4e,c4e,W4e,K1E,g1E,c1E,n1E,r1E,n6L,o6L,v1E,J1E,V1E,U1E,w1E;L1E=this.stx;Y1E=L1E.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {u6L="st";u6L+="x_line_down";S6L="stx_li";S6L+="ne_up";J6L="a";J6L+="uto";this.beenSetup=! !1;this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;x1E=this.seriesParams[0].color || J6L;A1E=this.seriesParams[0].symbol;X1E="";if(A1E){A4D.C03(2);X1E=A4D.I03(A1E,(6950,812.52) === 972.5?!1:".");}this.removeAllSeries(! ![]);s1E=this.params.name;L1E.addSeries(null,{symbol:A1E,loadData:! !A1E,field:"High",renderer:"Shading",name:s1E,style:S6L,display:this.params.display,shareYAxis:!""});L1E.addSeries(null,{symbol:A1E,loadData:! !A1E,field:"Low",renderer:"Shading",name:s1E,style:u6L,display:this.params.display,shareYAxis:! ![]});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[+"1"].id,color:x1E});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");y1E=this;this.errTimeout=setTimeout(function(){y1E.errTimeout=null;},10000);}}x4e=-971034543;c4e=808244200;W4e=2;for(var h5e=1;A4D.E9e(h5e.toString(),h5e.toString().length,98757) !== x4e;h5e++){K1E={};W4e+=2;}function H1E(D1E){var d1E,Q1E,P1E;d1E=K1E[D1E];if(d1E){Q1E=d1E.parameters.field;P1E=d1E.parameters.subField;A4D.g03(2);return A4D.J03(Q1E,P1E?"." + P1E:"");}A4D.k6D();return D1E;}if(A4D.N9e(W4e.toString(),W4e.toString().length,52710) !== c4e){K1E={};}for(g1E=0;g1E < this.seriesParams.length;g1E++){c1E={};if(Y1E.series[this.seriesParams[g1E].id]){c1E=Q6E.clone(Y1E.series[this.seriesParams[g1E].id].parameters);}K1E[this.seriesParams[g1E].id]={parameters:Q6E.extend(Q6E.extend(c1E,this.params),this.seriesParams[g1E]),yValueCache:this.caches[this.seriesParams[g1E].id]};}L1E.drawSeries(Y1E,K1E,this.params.yAxis,this);if(Y1E.legend && this.params.type == "rangechannel"){if(!Y1E.legend.colorMap){Y1E.legend.colorMap={};}n1E=this.params.display;r1E=[L1E.getCanvasColor("stx_line_up"),L1E.getCanvasColor("stx_line_down")];Y1E.legend.colorMap[n1E]={color:r1E,display:n1E,isBase:this == L1E.mainSeriesRenderer};;}for(g1E in K1E){this.caches[g1E]=K1E[g1E].yValueCache;}for(g1E=0;g1E < this.shading.length;g1E++){n6L="Cl";n6L+="o";n6L+="s";n6L+="e";o6L="C";o6L+="l";o6L+="o";o6L+="se";v1E=this.shading[g1E];J1E=v1E.color;if(v1E.color == "auto"){J1E=L1E.defaultColor;}if(!v1E.primary){v1E.primary=o6L;}if(!v1E.secondary && this.seriesParams[0]){v1E.secondary=this.seriesParams[0].field;}if(!v1E.secondary)continue;else if(!K1E[v1E.primary] && v1E.primary != "Close")continue;else if(!K1E[v1E.secondary])continue;else if(v1E.primary == n6L && this.params.yAxis && this.params.yAxis != Y1E.yAxis)continue;V1E=H1E(v1E.primary).split(8718 >= (4992,8486)?".":(839.11,6.82e+3));U1E=H1E(v1E.secondary).split((8.31,2146) !== (244.44,16.03)?(8320,2104) > (8874,9618)?(! !{},1.29e+3):(2847,1890) >= (9558,3220)?"o":".":7.54e+3);w1E={topBand:V1E[0],topSubBand:V1E[1],topColor:v1E.greater || J1E || L1E.containerColor,topAxis:this.params.yAxis,bottomBand:U1E[0],bottomSubBand:U1E["1" | 0],bottomColor:v1E.lesser || J1E || L1E.containerColor,bottomAxis:v1E.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || Y1E.tension,opacity:0.1};if(!w1E.topColor && !w1E.bottomColor)continue;if(!this.params.highlight && L1E.highlightedDraggable){w1E.opacity*=+"0.3";}Q6E.fillIntersecting(L1E,this.params.panel,w1E);}};Q6E.Renderer.Histogram=function(N1E){var z6L;this.construct(N1E);this.params.type="histogram";z7QQ.T6D();this.barsHaveWidth=this.standaloneBars=! !{};if(this.params.yAxis){z6L="n";z6L+="u";z6L+="mber";this.params.bindToYAxis=! !1;if(typeof this.params.yAxis.baseline == z6L){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};k2e=-2037290900;s2e=-1186367335;A2e=2;for(var X2e=1;z7QQ.E9e(X2e.toString(),X2e.toString().length,9073) !== k2e;X2e++){Q6E.inheritsFrom(Q6E.Renderer.Histogram,Q6E.Renderer,! ![]);A2e+=2;}if(z7QQ.E9e(A2e.toString(),A2e.toString().length,"94359" & 2147483647) !== s2e){Q6E.inheritsFrom(Q6E.Renderer.Histogram,Q6E.Renderer,! !"");}Q6E.Renderer.Histogram.prototype.adjustYAxis=function(){var G1E;z7QQ.T6D();G1E=this.params.yAxis;if(!G1E || G1E.baseline){return;}G1E.min=0;G1E.highValue/=this.params.heightPercentage || 1;};Q6E.Renderer.Histogram.prototype.draw=function(){z7QQ.k6D();var e1E,I1E,p6L,q1E,j1E;e1E=Q6E.clone(this.params);e1E.type=e1E.subtype;this.useSum=e1E.subtype == "stacked";if(!e1E.yAxis || e1E.yAxis == this.stx.chart.yAxis){e1E.bindToYAxis=! ![];}this.stx.drawHistogram(e1E,this.seriesParams);I1E=e1E.yAxis && e1E.yAxis.baseline;if(I1E && I1E.color){p6L="de";p6L+="stinati";p6L+="on-";p6L+="over";q1E=this.stx.panels[this.params.panel];j1E=this.stx.pixelFromPrice(I1E.value,q1E,this.params.yAxis) - 0.5;this.stx.plotLine({x0:q1E.left,x1:q1E.right,y0:j1E,y1:j1E,color:I1E.color,type:"line",context:q1E.chart.context,confineToPanel:q1E,pattern:I1E.pattern || "solid",lineWidth:I1E.lineWidth || 1,opacity:I1E.opacity || "0.8" - 0,globalCompositeOperation:p6L});}};Q6E.Renderer.Histogram.prototype.getBasis=function(l1E,B1E,R1E){var k1E,w6L,F1E,S1E;z7QQ.k6D();k1E=0;if(l1E && this.useSum){for(var W1E=0;W1E < this.seriesParams.length;W1E++){w6L="Cl";w6L+="o";w6L+="s";w6L+="e";F1E=this.seriesParams[W1E].field;if(F1E === B1E)break;S1E=l1E[F1E];if(S1E && typeof S1E === "object"){S1E=S1E[R1E || this.seriesParams[W1E].subField || this.stx.chart.defaultPlotField || w6L];}if(S1E){k1E+=S1E;}}}return k1E;};Q6E.Renderer.Heatmap=function(u1E){this.construct(u1E);this.params.type="heatmap";this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! !{};};Q6E.inheritsFrom(Q6E.Renderer.Heatmap,Q6E.Renderer,!1);Q6E.Renderer.Heatmap.requestNew=function(O1E,p1E){var Z1E,b6L,T1E;Z1E=null;for(var m1E="0" >> 1258827360;m1E < O1E.length;m1E++){b6L="hea";b6L+="tm";b6L+="a";b6L+="p";T1E=O1E[m1E];if(T1E == "heatmap"){Z1E=b6L;}}if(Z1E === null){return null;}return new Q6E.Renderer.Heatmap({params:Q6E.extend(p1E,{type:Z1E})});};Q6E.Renderer.Heatmap.prototype.draw=function(){z7QQ.T6D();this.stx.drawHeatmap(Q6E.clone(this.params),this.seriesParams);};Q6E.Renderer.Scatter=function(o1E){this.construct(o1E);this.standaloneBars=this.barsHaveWidth=! !1;this.bounded=! !{};};Q6E.inheritsFrom(Q6E.Renderer.Scatter,Q6E.Renderer.Lines,! !"");Q6E.Renderer.Scatter.requestNew=function(b6H,E6H){var a1E,i6H;z7QQ.k6D();a1E=null;for(var M6H=0;M6H < b6H.length;M6H++){i6H=b6H[M6H];if(i6H == "scatterplot"){a1E="scatter";}}if(a1E === null){return null;}return new Q6E.Renderer.Scatter({params:Q6E.extend(E6H,{type:a1E})});};Q6E.Renderer.Scatter.prototype.drawIndividualSeries=function(C6H,f6H){z7QQ.T6D();var t6H,z6H;t6H=this.stx.panels[f6H.panel] || C6H.panel;z6H={colors:[]};if(this.stx.scatter){z6H=this.stx.scatter(t6H,f6H);}else {console.warn("Error, Scatter renderer requires customChart.js");}return z6H;};};J1T=L6H=>{var L6L,v6H,C6L;L6L="un";L6L+="d";L6L+="ef";L6L+="ined";v6H=typeof _CIQ !== L6L?_CIQ:L6H.CIQ;if(!v6H.Studies){C6L="accumulationDistribution fe";C6L+="ature requires first activat";C6L+="ing studies fe";C6L+="ature.";console.error(C6L);}else {v6H.Studies.calculateAccumulationDistribution=function(U6H,w6H){var n6H,f6L,F6L,Q6L,Y6H,A6H,J6H,s6H;z7QQ.k6D();n6H=w6H.chart.scrubbed;for(var K6H=w6H.startFrom;K6H < n6H.length;K6H++){f6L="Res";f6L+="u";f6L+="l";f6L+="t ";F6L="R";F6L+="esul";F6L+="t ";Q6L="Us";Q6L+="e ";Q6L+="Volume";if(!K6H)continue;Y6H=n6H[K6H];if(Y6H.futureTick)break;z7QQ.C03(4);A6H=n6H[z7QQ.I03(K6H,1)];J6H=0;if(Y6H.Close > A6H.Close){J6H=Y6H.Close - Math.min(Y6H.Low,A6H.Close);}else if(Y6H.Close < A6H.Close){J6H=Y6H.Close - Math.max(Y6H.High,A6H.Close);}if(w6H.inputs[Q6L]){J6H*=Y6H.Volume;}s6H=A6H[F6L + w6H.name];if(!s6H){s6H=0;}s6H+=J6H;if(!isNaN(Y6H.Close)){Y6H[f6L + w6H.name]=s6H;}}};v6H.Studies.studyLibrary=v6H.extend(v6H.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:v6H.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}}});}};s1T=X6H=>{var x6H,d6L,r6L;x6H=typeof _CIQ !== "undefined"?_CIQ:X6H.CIQ;if(!x6H.Studies){d6L="adx feature r";d6L+="equires first activating studies feature.";console.error(d6L);}else {r6L="#";r6L+="FF0000";x6H.Studies.calculateADX=function(m6H,y6H){var m3D=z7QQ;var v6L,P6H,Q6H,N6H,j6H,S6H,W6H,F6H,r6H,G6H,I6H,R6L,q6L,I6L,P6L,l6H,B6H,u6H,H6L,g6L,Z6L,D6L,E6L,N6L,j6L,U6L,Z6H;v6L="Sm";v6L+="oothing Period";x6H.Studies.calculateStudyATR(m6H,y6H);P6H=y6H.chart.scrubbed;Q6H=y6H.days;N6H=parseInt(y6H.inputs[v6L],10);if(!N6H && N6H !== ("0" ^ 0)){N6H=Q6H;}if(P6H.length < y6H.days + 1){y6H.error=! !{};return;}j6H=0;S6H=0;W6H=+"0";F6H=0;for(var H6H=Math.max(1,y6H.startFrom);H6H < P6H.length;H6H++){r6H=P6H[H6H];G6H=Math.max(0,r6H.High - P6H[H6H - 1].High);I6H=Math.max(0,P6H[H6H - 1].Low - r6H.Low);if(G6H > I6H){I6H=0;}else if(I6H > G6H){G6H=0;}else {G6H=I6H=0;}if(H6H <= Q6H){R6L="True";R6L+=" ";R6L+="R";R6L+="ange ";S6H+=G6H;W6H+=I6H;j6H+=r6H[R6L + y6H.name];}else {q6L="True R";q6L+="ang";q6L+="e ";I6L="_";I6L+="sm-";I6L+="D";I6L+="M ";P6L="_sm";P6L+="+DM ";S6H=P6H[H6H - 1][P6L + y6H.name] * (Q6H - 1) / Q6H + G6H;W6H=P6H[H6H - 1][I6L + y6H.name] * (Q6H - "1" * 1) / Q6H + I6H;j6H=P6H[H6H - +"1"]["_smTR " + y6H.name] * (Q6H - 1) / Q6H + r6H[q6L + y6H.name];}r6H["_sm+DM " + y6H.name]=S6H;r6H["_sm-DM " + y6H.name]=W6H;r6H["_smTR " + y6H.name]=j6H;if(H6H < Q6H)continue;m3D.C03(58);l6H=m3D.J03(j6H,100,S6H);m3D.g03(58);B6H=m3D.J03(j6H,100,W6H);u6H=100 * Math.abs(l6H - B6H) / (l6H + B6H);r6H["+DI " + y6H.name]=l6H;r6H["-DI " + y6H.name]=B6H;if(y6H.inputs.Series !== !{} && N6H){if(H6H < Q6H + N6H - 1){if(H6H == y6H.startFrom){for(var q6H=Q6H;q6H < y6H.startFrom;q6H++){H6L="-DI";H6L+=" ";F6H+=100 * Math.abs(P6H[q6H]["+DI " + y6H.name] - P6H[q6H][H6L + y6H.name]) / (P6H[q6H]["+DI " + y6H.name] + P6H[q6H]["-DI " + y6H.name]);}}F6H+=u6H;}else if(H6H == Q6H + N6H - 1){g6L="A";g6L+="D";g6L+="X";g6L+=" ";m3D.g03(6);r6H[g6L + y6H.name]=m3D.I03(F6H,N6H);}else {Z6L="A";Z6L+="D";Z6L+="X";Z6L+=" ";r6H["ADX " + y6H.name]=(P6H[H6H - 1][Z6L + y6H.name] * (N6H - 1) + u6H) / N6H;}}if(y6H.inputs.Histogram){D6L="-";D6L+="DI";D6L+=" ";E6L="+D";E6L+="I";E6L+=" ";N6L="-D";N6L+="I ";j6L="+";j6L+="DI ";U6L="_";U6L+="h";U6L+="ist";Z6H=y6H.name + U6L;if(!r6H["+DI " + y6H.name] && r6H[j6L + y6H.name] !== 0)continue;if(!r6H["-DI " + y6H.name] && r6H[N6L + y6H.name] !== 0)continue;r6H[Z6H]=r6H[E6L + y6H.name] - r6H[D6L + y6H.name];if(y6H.inputs.Series === !"1"){r6H["+DI " + y6H.name]=null;r6H["-DI " + y6H.name]=null;}y6H.outputMap[Z6H]="";}}};x6H.Studies.displayADX=function(T6H,O6H,i0A){var J3D=z7QQ;var R5e,P5e,I5e,E0A,M6L,t6L,p6H,o6H,z0A,f0A,M0A,b0A;R5e=1675531995;P5e=- +"555615020";I5e=2;for(var H5e=1;J3D.N9e(H5e.toString(),H5e.toString().length,55388) !== R5e;H5e++){E0A=O6H.underlay?0.3:O6H.inputs.Series?"0.4" * 1:1;I5e+=2;}if(J3D.N9e(I5e.toString(),I5e.toString().length,44306) !== P5e){E0A=O6H.underlay?"118" | 2:O6H.inputs.Series?255:7;}J3D.k6D();if(O6H.inputs.Series && O6H.inputs.Shading){M6L="-";M6L+="DI";M6L+=" ";t6L="+";t6L+="DI";t6L+=" ";p6H=t6L + O6H.name;o6H=M6L + O6H.name;z0A=x6H.Studies.determineColor(O6H.outputs[O6H.outputMap[p6H]]);f0A=x6H.Studies.determineColor(O6H.outputs[O6H.outputMap[o6H]]);M0A=O6H.getYAxis(T6H);b0A={topBand:p6H,bottomBand:o6H,topColor:z0A,bottomColor:f0A,skipTransform:T6H.panels[O6H.panel].name != O6H.chart.name,topAxis:M0A,bottomAxis:M0A,opacity:+"0.3"};if(!O6H.highlight && T6H.highlightedDraggable){J3D.g03(4);b0A.opacity*=J3D.J03("0.3",0);}x6H.fillIntersecting(T6H,O6H.panel,b0A);}if(O6H.inputs.Histogram){x6H.Studies.createHistogram(T6H,O6H,i0A,![],E0A);}if(O6H.inputs.Series !== !1){x6H.Studies.displaySeriesAsLine(T6H,O6H,i0A);}else if(!O6H.inputs.Series && !O6H.inputs.Histogram){T6H.displayErrorAsWatermark(O6H.panel,T6H.translateIf(O6H.name) + ": " + T6H.translateIf("Nothing to display"));}};x6H.Studies.studyLibrary=x6H.extend(x6H.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:x6H.Studies.calculateADX,seriesFN:x6H.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !{},Shading:!1,Histogram:![]},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":r6L}}});}};c1T=h0A=>{var K6L,t0A,k9L,m9L,e9L;K6L="undefine";K6L+="d";z7QQ.T6D();t0A=typeof _CIQ !== K6L?_CIQ:h0A.CIQ;if(!t0A.Studies){console.error("alligator feature requires first activating studies feature.");}else {k9L="#";k9L+="FF0000";m9L="#00";m9L+="0";m9L+="0FF";e9L="Alligato";e9L+="r";t0A.Studies.calculateAlligator=function(w0A,g0A){var I3D=z7QQ;var a6L,L0A,C0A,W6L,c6L,x6L,T9L,K0A,A0A,Y0A,h9L;a6L="Gat";a6L+="o";a6L+="r";L0A={J:Number(g0A.inputs["Jaw Period"]),T:Number(g0A.inputs["Teeth Period"]),L:Number(g0A.inputs["Lips Period"])};C0A=g0A.chart.scrubbed;if(C0A.length < Math.max(L0A.J,L0A.T,L0A.L) + 1){g0A.error=! !"1";return;}if(g0A.type === a6L || g0A.inputs["Show Lines"]){W6L="T";W6L+="eeth";c6L="w";c6L+="el";c6L+="les wi";c6L+="lder";x6L="h";x6L+="l";x6L+="/";x6L+="2";t0A.Studies.MA("welles wilder",L0A.J,x6L,g0A.inputs["Jaw Offset"],"Jaw",w0A,g0A);t0A.Studies.MA(c6L,L0A.T,"hl/2",g0A.inputs["Teeth Offset"],W6L,w0A,g0A);t0A.Studies.MA("welles wilder",L0A.L,"hl/2",g0A.inputs["Lips Offset"],"Lips",w0A,g0A);}for(var v0A=g0A.startFrom;v0A < C0A.length;v0A++){if(!C0A[v0A])continue;if(g0A.type == "Gator"){T9L="_hi";T9L+="st2";K0A=C0A[v0A]["Jaw " + g0A.name];A0A=C0A[v0A]["Lips " + g0A.name];Y0A=C0A[v0A]["Teeth " + g0A.name];if(Y0A || Y0A === 0){if(K0A || K0A === 0){I3D.g03(4);C0A[v0A][g0A.name + "_hist1"]=Math.abs(I3D.I03(K0A,Y0A));}if(A0A || A0A === +"0"){I3D.g03(4);C0A[v0A][g0A.name + "_hist2"]=-Math.abs(I3D.J03(Y0A,A0A));}}g0A.outputMap={};g0A.outputMap[g0A.name + "_hist1"]="";g0A.outputMap[g0A.name + T9L]="";}if(g0A.inputs["Show Fractals"]){if(!C0A[v0A - 2] || !C0A[v0A - 1] || !C0A[v0A] || !C0A[v0A + 1] || !C0A[v0A + 2])continue;if(C0A[v0A - ("2" << 1710244096)].High && C0A[v0A - 1].High && C0A[v0A].High && C0A[v0A + 1].High && C0A[v0A + 2].High){if(C0A[v0A].High > C0A[v0A - 1].High && C0A[v0A].High > C0A[v0A - 2].High && C0A[v0A].High > C0A[v0A + 1].High && C0A[v0A].High > C0A[v0A + 2].High){C0A[v0A]["Fractal High " + g0A.name]=1;}}if(C0A[v0A - 2].Low && C0A[v0A - ("1" ^ 0)].Low && C0A[v0A].Low && C0A[v0A + 1].Low && C0A[v0A + 2].Low){if(C0A[v0A].Low < C0A[v0A - +"1"].Low && C0A[v0A].Low < C0A[v0A - ("2" << 719566144)].Low && C0A[v0A].Low < C0A[v0A + 1].Low && C0A[v0A].Low < C0A[v0A + ("2" >> 783576800)].Low){h9L="Fr";h9L+="actal Low ";C0A[v0A][h9L + g0A.name]=1;}}}}};t0A.Studies.displayAlligator=function(J0A,n0A,V0A){var y9L,s0A;y9L="Sh";y9L+="ow ";y9L+="Lines";s0A=n0A.getContext(J0A);if(n0A.inputs[y9L]){t0A.Studies.displaySeriesAsLine(J0A,n0A,V0A);}if(n0A.inputs["Show Fractals"]){J0A.startClip();s0A.globalAlpha=n0A.underlay?0.3:+"1";if(!n0A.highlight && J0A.highlightedDraggable){s0A.globalAlpha*=0.3;}for(var c0A=2;c0A < V0A.length - 2;c0A++){if(V0A[c0A]){if(V0A[c0A]["Fractal High " + n0A.name]){U0A("high",c0A);}if(V0A[c0A]["Fractal Low " + n0A.name]){U0A("low",c0A);}}}J0A.endClip();}function U0A(y0A,r0A){z7QQ.T6D();var V9L,X0A,x0A,l9L,B9L;V9L="l";V9L+="o";V9L+="w";x0A=J0A.chart.panel.yAxis.flipped;if(y0A == "high"){s0A.fillStyle=J0A.defaultColor;s0A.textBaseline=x0A?"top":"bottom";X0A=J0A.pixelFromPrice(V0A[r0A].High);s0A.fillText(x0A?"\u25BC":9470 >= 8394?"\u25B2":(8821,1400) > 8120?904.24:("5640" | 5632) != 5919?"d":("l",4.72e+3),J0A.pixelFromBar(c0A,J0A.chart) - s0A.measureText(4003 !== (164.58,+"2510")?"\u25B2":(516.63,432.5) <= (348,9487)?(+"5971",6852) != (3300,500.05)?492.98:(!1,581.76):("c",456.62)).width / 2 + 1,x0A?X0A + 5:X0A - 5);;}else if(y0A == V9L){l9L="t";l9L+="o";l9L+="p";B9L="bo";B9L+="tto";B9L+="m";s0A.fillStyle=J0A.defaultColor;s0A.textBaseline=x0A?B9L:l9L;X0A=J0A.pixelFromPrice(V0A[r0A].Low);s0A.fillText(x0A?("520.92" * 1,9540) != (216.48,+"899")?"\u25B2":830.2 == (655.39,9680)?"S":833.94 !== 1917?+"7.85e+3":(!{},"h"):(232,879.79) != 490.86?(+"754.05",+"665.86") != 4506?756.41 > 4318?+"8.17e+3":"\u25BC":! !{}:890.98,J0A.pixelFromBar(c0A,J0A.chart) - s0A.measureText("\u25BC").width / 2 + 1,x0A?X0A - 5:X0A + 5);;}}};t0A.Studies.displayGator=function(d0A,H0A,q0A){var G9L,Y9L,I0A,D0A,j0A,S0A,G0A,W0A,k0A,N0A,e0A,O9L;G9L="#C";G9L+="C";G9L+="CCCC";Y9L="I";Y9L+="ncreas";Y9L+="ing Bar";I0A=d0A.panels[H0A.panel];D0A=H0A.getContext(d0A);j0A=H0A.getYAxis(d0A);S0A=d0A.pixelFromPrice(0,I0A,j0A);G0A=d0A.layout.candleWidth - 2;if(G0A < 2){G0A=+"1";}W0A=t0A.Studies.determineColor(H0A.outputs[Y9L]);k0A=t0A.Studies.determineColor(H0A.outputs["Decreasing Bar"]);d0A.canvasColor("stx_histogram");if(!H0A.underlay){D0A.globalAlpha=1;}D0A.fillStyle=G9L;d0A.startClip(H0A.panel);if(!H0A.highlight && d0A.highlightedDraggable){D0A.globalAlpha*=0.3;}for(var Q0A=0;Q0A < q0A.length;Q0A++){N0A=q0A[Q0A];z7QQ.C03(4);e0A=q0A[z7QQ.I03(Q0A,1)];if(!N0A)continue;for(var P0A=1;P0A <= 2;P0A++){O9L="_h";O9L+="ist";if(!e0A){e0A=d0A.getPreviousBar(d0A.chart,H0A.name + "_hist" + P0A,Q0A);}if(!e0A){D0A.fillStyle="#CCCCCC";}else if(Math.abs(e0A[H0A.name + O9L + P0A]) < Math.abs(N0A[H0A.name + "_hist" + P0A])){D0A.fillStyle=W0A;}else if(Math.abs(e0A[H0A.name + "_hist" + P0A]) > Math.abs(N0A[H0A.name + "_hist" + P0A])){D0A.fillStyle=k0A;}if(N0A.candleWidth){G0A=Math.floor(Math.max(1,N0A.candleWidth - 2));}D0A.fillRect(Math.floor(d0A.pixelFromBar(Q0A,I0A.chart) - G0A / 2),Math.floor(S0A),Math.floor(G0A),Math.floor(d0A.pixelFromPrice(N0A[H0A.name + "_hist" + P0A],I0A,j0A) - S0A));}}d0A.endClip();};t0A.Studies.studyLibrary=t0A.extend(t0A.Studies.studyLibrary,{Alligator:{name:e9L,overlay:! ![],seriesFN:t0A.Studies.displayAlligator,calculateFN:t0A.Studies.calculateAlligator,inputs:{"Show Lines":! !{},"Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":+"5","Lips Period":"5" | 4,"Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:m9L,Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:t0A.Studies.displayGator,calculateFN:t0A.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":k9L},centerline:0}});}};n1T=l0A=>{var F0A,Y2e,G2e,O2e,i9L;F0A=typeof _CIQ !== "undefined"?_CIQ:l0A.CIQ;if(!F0A.Studies){Y2e=-2094775182;G2e=1823760673;O2e=2;for(var m2e=1;z7QQ.E9e(m2e.toString(),m2e.toString().length,68927) !== Y2e;m2e++){console.error("");O2e+=2;}if(z7QQ.E9e(O2e.toString(),O2e.toString().length,1520) !== G2e){console.error("aroon feature requires first activating studies feature.");}}else {i9L="#FF";i9L+="00";i9L+="00";F0A.Studies.calculateAroon=function(z7A,B0A){var O0A,T0A,p0A,u0A,Z0A,a0A,m0A,A9L,s9L,R0A,M7A,b7A,i7A,E7A;O0A=B0A.chart.scrubbed;if(O0A.length < B0A.days + 1){B0A.error=! !{};return;}T0A=0;p0A=0;u0A=null;Z0A=null;if(B0A.startFrom > 0){a0A=O0A[B0A.startFrom - 1]["_state " + B0A.name];if(a0A){T0A=a0A[0];p0A=a0A[+"1"];u0A=a0A[2];Z0A=a0A[3];}}for(var o0A=B0A.startFrom;o0A < O0A.length;o0A++){A9L="_s";A9L+="ta";A9L+="te ";s9L="A";s9L+="roon D";s9L+="o";s9L+="wn ";R0A=O0A[o0A];if(R0A.futureTick)break;if(u0A === null){u0A=R0A.High;}if(Z0A === null){Z0A=R0A.Low;}u0A=Math.max(u0A,R0A.High);if(u0A == R0A.High){T0A=0;}else {T0A++;if(T0A > B0A.days){u0A=R0A.High;T0A=0;for(m0A=1;m0A <= B0A.days;m0A++){u0A=Math.max(u0A,O0A[o0A - m0A].High);if(u0A == O0A[o0A - m0A].High){T0A=m0A;}}}}Z0A=Math.min(Z0A,R0A.Low);if(Z0A == R0A.Low){p0A=0;}else {p0A++;if(p0A > B0A.days){Z0A=R0A.Low;p0A=0;for(m0A=1;m0A <= B0A.days;m0A++){Z0A=Math.min(Z0A,O0A[o0A - m0A].Low);if(Z0A == O0A[o0A - m0A].Low){p0A=m0A;}}}}M7A=!isNaN(R0A.High);b7A=!isNaN(R0A.Low);i7A=("100" & 2147483647) * (1 - T0A / B0A.days);if(M7A){R0A["Aroon Up " + B0A.name]=i7A;}E7A=+"100" * (1 - p0A / B0A.days);if(b7A){R0A[s9L + B0A.name]=E7A;}if(M7A && b7A){R0A["Aroon Oscillator " + B0A.name]=R0A["Aroon Up " + B0A.name] - R0A["Aroon Down " + B0A.name];}R0A[A9L + B0A.name]=[T0A,p0A,u0A,Z0A];}};F0A.Studies.studyLibrary=F0A.extend(F0A.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:F0A.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":i9L}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:F0A.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};V1T=t7A=>{z7QQ.T6D();var f7A,X9L,w9L,p9L,z9L;f7A=typeof _CIQ !== "undefined"?_CIQ:t7A.CIQ;if(!f7A.Studies){X9L="atr feature requires first activating studies fe";X9L+="ature.";console.error(X9L);}else {w9L="squarewav";w9L+="e";p9L="au";p9L+="t";p9L+="o";z9L="fi";z9L+="eld";f7A.Studies.calculateATRBands=function(v7A,h7A){var C7A;f7A.Studies.calculateStudyATR(v7A,h7A);C7A=h7A.inputs.Field;if(!C7A || C7A == "field"){C7A="Close";}f7A.Studies.calculateGenericEnvelope(v7A,h7A,h7A.inputs.Shift,C7A,"ATR " + h7A.name);};f7A.Studies.calculateSTARCBands=function(L7A,g7A){var S9L,J9L;S9L="AT";S9L+="R ";z7QQ.T6D();J9L="Cl";J9L+="o";J9L+="s";J9L+="e";f7A.Studies.calculateStudyATR(L7A,g7A);f7A.Studies.MA("simple",g7A.inputs["MA Period"],J9L,0,"_MA",L7A,g7A);f7A.Studies.calculateGenericEnvelope(L7A,g7A,g7A.inputs.Multiplier,"_MA " + g7A.name,S9L + g7A.name);};f7A.Studies.calculateATRStops=function(x7A,Y7A){var t3D=z7QQ;var n9L,o9L,J7A,n7A,K7A,U7A,A7A,w7A,c7A,V7A,u9L;n9L="All ";n9L+="Sto";n9L+="p";n9L+="s ";o9L="All St";o9L+="ops";J7A=Y7A.chart.scrubbed;if(!J7A){return;}f7A.Studies.calculateStudyATR(x7A,Y7A);n7A=Y7A.inputs.HighLow;for(var s7A=Math.max(Y7A.startFrom - 1,1);s7A < J7A.length - 1;s7A++){K7A=J7A[s7A];t3D.C03(4);U7A=J7A[t3D.I03(s7A,1)];A7A=K7A["Buy Stops " + Y7A.name];if(!A7A){A7A=K7A["Sell Stops " + Y7A.name];}if(!A7A){A7A=+"0";}if(!K7A || !U7A)continue;w7A=K7A.Close;c7A=w7A;V7A=K7A["ATR " + Y7A.name] * Y7A.inputs.Multiplier;if(K7A.Close > A7A && U7A.Close > A7A){if(n7A){w7A=K7A.High;}t3D.g03(4);c7A=Math.max(A7A,t3D.J03(w7A,V7A));}else if(K7A.Close <= A7A && U7A.Close <= A7A){if(n7A){w7A=K7A.Low;}t3D.C03(2);c7A=Math.min(A7A,t3D.I03(w7A,V7A));}else if(K7A.Close > A7A){if(n7A){w7A=K7A.High;}t3D.g03(4);c7A=t3D.J03(w7A,V7A);}else if(K7A.Close <= A7A){if(n7A){w7A=K7A.Low;}t3D.C03(2);c7A=t3D.I03(w7A,V7A);}if(w7A <= c7A){t3D.C03(13);J7A[t3D.I03("1",s7A,1)]["Buy Stops " + Y7A.name]=c7A;t3D.C03(2);delete J7A[t3D.I03(s7A,1)]["Sell Stops " + Y7A.name];}else if(w7A > c7A){u9L="B";u9L+="uy S";u9L+="tops";u9L+=" ";t3D.C03(59);J7A[t3D.J03("1",s7A)]["Sell Stops " + Y7A.name]=c7A;t3D.C03(2);delete J7A[t3D.J03(s7A,1)][u9L + Y7A.name];}t3D.C03(2);J7A[t3D.I03(s7A,1)]["All Stops " + Y7A.name]=c7A;}Y7A.referenceOutput=o9L;Y7A.outputMap={};Y7A.outputMap[n9L + Y7A.name]="";};f7A.Studies.studyLibrary=f7A.extend(f7A.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:f7A.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!"",seriesFN:f7A.Studies.displayChannel,calculateFN:f7A.Studies.calculateATRBands,inputs:{Period:5,Field:z9L,Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:! ![],seriesFN:f7A.Studies.displayChannel,calculateFN:f7A.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":p9L,"STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! !{},seriesFN:f7A.Studies.displayPSAR2,calculateFN:f7A.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",w9L],HighLow:! !0},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:"0.1" * 1}}}});}};U1T=y7A=>{var X7A,F9L,Q9L;z7QQ.k6D();X7A=typeof _CIQ !== "undefined"?_CIQ:y7A.CIQ;if(!X7A.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {F9L="#F";F9L+="F";F9L+="00";F9L+="00";Q9L="#00DD0";Q9L+="0";X7A.Studies.calculateAwesomeOscillator=function(P7A,r7A){var L9L,b9L,H7A;L9L="si";L9L+="mple";b9L="_";b9L+="M";b9L+="A5";H7A=r7A.chart.scrubbed;if(H7A.length < 33){r7A.error=! !"1";return;}X7A.Studies.MA("simple",5,"hl/2",0,b9L,P7A,r7A);X7A.Studies.MA(L9L,34,"hl/2",0,"_MA34",P7A,r7A);for(var d7A=Math.max(r7A.startFrom,33);d7A < H7A.length;d7A++){if(!H7A[d7A])continue;H7A[d7A][r7A.name + "_hist"]=H7A[d7A]["_MA5 " + r7A.name] - H7A[d7A]["_MA34 " + r7A.name];}r7A.outputMap={};r7A.outputMap[r7A.name + "_hist"]="";};X7A.Studies.displayAwesomeOscillator=function(Q7A,D7A,S7A){var B3D=z7QQ;var C9L,j7A,N7A,W7A,k7A,I7A,F7A,l7A,e7A,q7A;C9L="Decre";C9L+="asing Bar";j7A=Q7A.panels[D7A.panel];N7A=D7A.getContext(Q7A);W7A=D7A.getYAxis(Q7A);k7A=Q7A.pixelFromPrice(0,j7A,W7A);I7A=Q7A.layout.candleWidth - 2;if(I7A < 2){B3D.C03(0);I7A=B3D.I03(1376404992,"1");}F7A=X7A.Studies.determineColor(D7A.outputs["Increasing Bar"]);l7A=X7A.Studies.determineColor(D7A.outputs[C9L]);Q7A.canvasColor("stx_histogram");if(!D7A.underlay){N7A.globalAlpha=+"1";}N7A.fillStyle="#CCCCCC";Q7A.startClip(D7A.panel);if(!D7A.highlight && Q7A.highlightedDraggable){N7A.globalAlpha*=0.3;}for(var G7A=0;G7A < S7A.length;G7A++){e7A=S7A[G7A];B3D.g03(4);q7A=S7A[B3D.I03(G7A,1)];if(!q7A){q7A=Q7A.getPreviousBar(Q7A.chart,D7A.name + "_hist",G7A);}if(!e7A)continue;if(!q7A);else if(q7A[D7A.name + "_hist"] < e7A[D7A.name + "_hist"]){N7A.fillStyle=F7A;}else if(q7A[D7A.name + "_hist"] > e7A[D7A.name + "_hist"]){N7A.fillStyle=l7A;}if(e7A.candleWidth){I7A=Math.floor(Math.max(1,e7A.candleWidth - 2));}N7A.fillRect(Math.floor(Q7A.pixelFromBar(G7A,j7A.chart) - I7A / 2),Math.floor(k7A),Math.floor(I7A),Math.floor(Q7A.pixelFromPrice(e7A[D7A.name + "_hist"],j7A,W7A) - k7A));}Q7A.endClip();};X7A.Studies.studyLibrary=X7A.extend(X7A.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:X7A.Studies.displayAwesomeOscillator,calculateFN:X7A.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":Q9L,"Decreasing Bar":F9L}}});}};x1T=R7A=>{z7QQ.k6D();var B7A,d9L;B7A=typeof _CIQ !== "undefined"?_CIQ:R7A.CIQ;if(!B7A.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {d9L="Balanc";d9L+="e";d9L+=" of Power";B7A.Studies.calculateBalanceOfPower=function(T7A,u7A){var f9L,m7A,Z7A;f9L="Mov";f9L+="ing ";f9L+="Average Ty";f9L+="pe";z7QQ.k6D();m7A=u7A.chart.scrubbed;if(m7A.length < u7A.days + 1){u7A.error=! ![];return;}for(var O7A=u7A.startFrom;O7A < m7A.length;O7A++){Z7A=m7A[O7A];Z7A["_Ratio " + u7A.name]=Z7A.Close - Z7A.Open;if(Z7A.High - Z7A.Low !== 0){Z7A["_Ratio " + u7A.name]/=Z7A.High - Z7A.Low;}}B7A.Studies.MA(u7A.inputs[f9L],u7A.days,"_Ratio " + u7A.name,+"0","Result",T7A,u7A);};B7A.Studies.studyLibrary=B7A.extend(B7A.Studies.studyLibrary,{"Bal Pwr":{name:d9L,range:"-1 to 1",centerline:0,calculateFN:B7A.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};X1T=o7A=>{var p7A,Z9L,g9L,H9L;p7A=typeof _CIQ !== "undefined"?_CIQ:o7A.CIQ;if(!p7A.Studies){console.error("bollinger feature requires first activating studies feature.");}else {Z9L="aut";Z9L+="o";g9L="m";g9L+="a";H9L="Bollinger";H9L+=" ";H9L+="Bands";p7A.Studies.calculateBollinger=function(b8A,a7A){var q9L,I9L,P9L,R9L,v9L,M8A;q9L="_";q9L+="STD De";q9L+="v ";I9L="S";I9L+="ta";I9L+="ndard De";I9L+="viations";P9L="_";P9L+="M";P9L+="A";R9L="Moving Avera";R9L+="ge Typ";R9L+="e";v9L="fie";v9L+="ld";M8A=a7A.inputs.Field;if(!M8A || M8A == v9L){M8A="Close";}p7A.Studies.MA(a7A.inputs[R9L],a7A.days,M8A,0,P9L,b8A,a7A);a7A.std=new p7A.Studies.StudyDescriptor(a7A.name,"STD Dev",a7A.panel);a7A.std.chart=a7A.chart;a7A.std.startFrom=a7A.startFrom;a7A.std.days=a7A.days;a7A.std.inputs={Field:M8A,"Standard Deviations":"1" ^ 0,Type:a7A.inputs["Moving Average Type"]};a7A.std.outputs={"_STD Dev":null};z7QQ.k6D();p7A.Studies.calculateStandardDeviation(b8A,a7A.std);p7A.Studies.calculateGenericEnvelope(b8A,a7A,a7A.inputs[I9L],"_MA " + a7A.name,q9L + a7A.name);if(a7A.type == "Boll %b"){a7A.zoneOutput="%b";}};p7A.Studies.studyLibrary=p7A.extend(p7A.Studies.studyLibrary,{"Bollinger Bands":{name:H9L,overlay:! !{},calculateFN:p7A.Studies.calculateBollinger,seriesFN:p7A.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":g9L,"Channel Fill":! ![]},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Boll %b":{name:"Bollinger %b",calculateFN:p7A.Studies.calculateBollinger,inputs:{Period:"20" & 2147483647,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:p7A.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:Z9L},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}}});}};y1T=E8A=>{var C2e,Q2e,F2e,i8A,E9L;C2e=-1429858831;z7QQ.k6D();Q2e=1363549314;F2e=2;for(var d2e="1" << 1217514688;z7QQ.E9e(d2e.toString(),d2e.toString().length,18569) !== C2e;d2e++){i8A=typeof _CIQ !== "undefined"?_CIQ:E8A.CIQ;F2e+=2;}if(z7QQ.N9e(F2e.toString(),F2e.toString().length,+"20833") !== Q2e){i8A=-_CIQ == ""?_CIQ:E8A.CIQ;}if(!i8A.Studies){console.error("cci feature requires first activating studies feature.");}else {E9L="a";E9L+="u";E9L+="t";E9L+="o";i8A.Studies.calculateCCI=function(g8A,z8A){var t8A,N9L,j9L,U9L,f8A,C8A;t8A=z8A.chart.scrubbed;if(t8A.length < z8A.days + 1){z8A.error=!"";return;}i8A.Studies.MA("simple",z8A.days,"hlc/3",0,"MA",g8A,z8A);z7QQ.T6D();for(var h8A=Math.max(z8A.startFrom,z8A.days - 1);h8A < t8A.length;h8A++){N9L="hlc";N9L+="/3";j9L="R";j9L+="esu";j9L+="lt ";U9L="R";U9L+="esu";U9L+="lt ";f8A=t8A[h8A];if(!f8A)continue;C8A=0;for(var v8A=+"0";v8A < z8A.days;v8A++){C8A+=Math.abs(t8A[h8A - v8A]["hlc/3"] - f8A["MA " + z8A.name]);}C8A/=z8A.days;if(Math.abs(C8A) < 0.00000001){f8A[U9L + z8A.name]=+"0";}else {f8A[j9L + z8A.name]=(f8A[N9L] - f8A["MA " + z8A.name]) / ("0.015" * 1 * C8A);}}};i8A.Studies.studyLibrary=i8A.extend(i8A.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:i8A.Studies.calculateCCI,inputs:{Period:"20" | 0},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:E9L,studyOverSoldValue:- +"100",studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};r1T=Y8A=>{var L8A;L8A=typeof _CIQ !== "undefined"?_CIQ:Y8A.CIQ;if(!L8A.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {L8A.Studies.calculateCenterOfGravity=function(U8A,K8A){var r3D=z7QQ;var t9L,D9L,A8A,w8A,n8A,c8A,V8A;t9L="Clo";t9L+="s";r3D.T6D();t9L+="e";D9L="f";D9L+="ield";A8A=K8A.chart.scrubbed;if(A8A.length < K8A.days){K8A.error=! !"1";return;}w8A=K8A.inputs.Field;if(!w8A || w8A == D9L){w8A=t9L;}for(var J8A=Math.max(K8A.startFrom,K8A.days - +"1");J8A < A8A.length;J8A++){n8A=+"0";c8A=0;for(var s8A=0;s8A < K8A.days;s8A++){r3D.C03(4);V8A=A8A[r3D.J03(J8A,s8A)][w8A];r3D.g03(60);n8A-=r3D.J03(s8A,1,V8A);c8A+=V8A;}if(c8A){r3D.g03(6);A8A[J8A]["Result " + K8A.name]=r3D.I03(n8A,c8A);}}};L8A.Studies.studyLibrary=L8A.extend(L8A.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:L8A.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};H1T=X8A=>{var M9L,x8A,h2L;z7QQ.k6D();M9L="un";M9L+="defined";x8A=typeof _CIQ !== M9L?_CIQ:X8A.CIQ;if(!x8A.Studies){console.error("chaikin feature requires first activating studies feature.");}else {h2L="Chaiki";h2L+="n Vola";h2L+="tility";x8A.Studies.calculateChaikinMoneyFlow=function(Q8A,H8A){var y8A,P8A,d8A,D8A,a9L,K9L,r9L,c9L,x9L;y8A=H8A.chart.scrubbed;if(y8A.length < H8A.days){H8A.error=! !{};return;}P8A=0;d8A=0;D8A=y8A[H8A.startFrom - 1];if(D8A){a9L="_sum";a9L+="V";a9L+=" ";K9L="_su";K9L+="mMF";K9L+=" ";r9L="_sum";r9L+="M";r9L+="F ";if(D8A[r9L + H8A.name]){P8A=D8A[K9L + H8A.name];}if(D8A[a9L + H8A.name]){d8A=D8A["_sumV " + H8A.name];}}for(var r8A=H8A.startFrom;r8A < y8A.length;r8A++){c9L="_s";c9L+="u";c9L+="m";c9L+="V ";x9L="_sumM";x9L+="F ";if(y8A[r8A].High == y8A[r8A].Low){y8A[r8A]["_MFV " + H8A.name]=0;}else {y8A[r8A]["_MFV " + H8A.name]=y8A[r8A].Volume * (2 * y8A[r8A].Close - y8A[r8A].High - y8A[r8A].Low) / (y8A[r8A].High - y8A[r8A].Low);}P8A+=y8A[r8A]["_MFV " + H8A.name];d8A+=y8A[r8A].Volume;if(r8A > H8A.days - 1){P8A-=y8A[r8A - H8A.days]["_MFV " + H8A.name];d8A-=y8A[r8A - H8A.days].Volume;if(d8A){z7QQ.g03(6);y8A[r8A]["Result " + H8A.name]=z7QQ.I03(P8A,d8A);}}y8A[r8A][x9L + H8A.name]=P8A;y8A[r8A][c9L + H8A.name]=d8A;}};x8A.Studies.calculateChaikinVolatility=function(q8A,N8A){z7QQ.T6D();var e8A,G8A,I8A,T2L,W9L;e8A=N8A.chart.scrubbed;if(e8A.length < N8A.days){N8A.error=!"";return;}for(G8A=N8A.startFrom;G8A < e8A.length;G8A++){if(e8A[G8A].futureTick)break;e8A[G8A]["_High-Low " + N8A.name]=e8A[G8A].High - e8A[G8A].Low;}x8A.Studies.MA(N8A.inputs["Moving Average Type"],N8A.days,"_High-Low " + N8A.name,0,"_MA",q8A,N8A);I8A=N8A.inputs["Rate Of Change"];if(!I8A){I8A=N8A.days;}for(G8A=Math.max(N8A.startFrom,I8A);G8A < e8A.length;G8A++){T2L="_";T2L+="MA ";W9L="Resul";W9L+="t ";if(!e8A[G8A - I8A]["_MA " + N8A.name])continue;if(e8A[G8A].futureTick)break;e8A[G8A][W9L + N8A.name]=+"100" * (e8A[G8A][T2L + N8A.name] / e8A[G8A - I8A]["_MA " + N8A.name] - 1);}};x8A.Studies.studyLibrary=x8A.extend(x8A.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:x8A.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:h2L,calculateFN:x8A.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};d1T=S8A=>{var j8A,e2L,O2L,V2L;j8A=typeof _CIQ !== "undefined"?_CIQ:S8A.CIQ;if(!j8A.Studies){console.error("chande feature requires first activating studies feature.");}else {e2L="a";e2L+="ut";e2L+="o";O2L="fi";O2L+="eld";V2L="Var";V2L+="iable";j8A.Studies.prettify.variable="vma";j8A.Studies.movingAverage.conversions.vma="variable";j8A.Studies.movingAverage.translations.variable="Variable";j8A.Studies.movingAverage.typeMap.vma=V2L;j8A.Studies.movingAverage.typeMap.variable="Variable";j8A.Studies.calculateChandeForecast=function(R8A,W8A){var Y2L,y2L,l2L,B2L,k8A,F8A,B8A;Y2L="M";Y2L+="A";y2L="tim";y2L+="e seri";y2L+="e";y2L+="s";l2L="C";l2L+="l";l2L+="os";l2L+="e";B2L="f";B2L+="ield";k8A=W8A.chart.scrubbed;if(k8A.length < W8A.days + 1){W8A.error=! !{};return;}F8A=W8A.inputs.Field;if(!F8A || F8A == B2L){F8A=l2L;}j8A.Studies.MA(y2L,W8A.days,F8A,0,Y2L,R8A,W8A);for(var l8A=Math.max("1" - 0,W8A.startFrom);l8A < k8A.length;l8A++){B8A=k8A[l8A][F8A];if(B8A && typeof B8A == "object"){B8A=B8A[W8A.subField];}k8A[l8A]["Result " + W8A.name]=100 * (1 - k8A[l8A]["MA " + W8A.name] / B8A);}};j8A.Studies.calculateChandeMomentum=function(f9A,u8A){var p3D=z7QQ;var o8A,O8A,T8A,a8A,M9A,b9A,p8A,m8A,i9A,E9A;o8A=u8A.name;for(var z9A in u8A.outputs){p3D.C03(45);o8A=p3D.I03(o8A,4990 === (88,2880)?+"9560" === +"349"?(0x1418,3.02e+3):(0x1a05,3.41e+3):" ",z9A);}O8A=u8A.chart.scrubbed;if(O8A.length < u8A.days + +"1"){u8A.error=! !{};return;}T8A=u8A.inputs.Field;if(!T8A || T8A == "field"){T8A="Close";}a8A=0;M9A=0;b9A=[];for(var Z8A=u8A.startFrom - u8A.days + 1;Z8A < O8A.length;Z8A++){if(Z8A < "1" - 0)continue;p8A=O8A[Z8A][T8A];p3D.C03(4);m8A=O8A[p3D.J03(Z8A,1)][T8A];if(p8A && typeof p8A == "object"){p8A=p8A.Close;}if(m8A && typeof m8A == "object"){m8A=m8A.Close;}if(m8A === undefined)continue;p3D.g03(4);i9A=p3D.J03(p8A,m8A);b9A.push(i9A);a8A+=i9A;M9A+=Math.abs(i9A);if(b9A.length == u8A.days){p3D.g03(58);O8A[Z8A][o8A]=p3D.I03(M9A,100,a8A);E9A=b9A.shift();a8A-=E9A;M9A-=Math.abs(E9A);}}};j8A.Studies.calculateMovingAverageVariable=function(X9A,t9A){var X3D=z7QQ;var G2L,H9A,g9A,V9A,Y9A,L9A,K9A,v9A,h9A,C9A,A9A,c9A,U9A,n9A,w9A,r9A,J9A,x9A,s9A;G2L="c";G2L+="m";G2L+="o";H9A=t9A.inputs.Type;g9A=t9A.chart.scrubbed;V9A=2 / (t9A.days + 1);Y9A=null;L9A=t9A.name;for(var y9A in t9A.outputs){X3D.g03(45);L9A=X3D.I03(L9A," ",y9A);}K9A=t9A.inputs.Field;if(!K9A || K9A == "field"){K9A="Close";}t9A.cmo=new j8A.Studies.StudyDescriptor(t9A.name,G2L,t9A.panel);t9A.cmo.chart=t9A.chart;t9A.cmo.days=9;t9A.cmo.inputs={Field:K9A};t9A.cmo.startFrom=t9A.startFrom;t9A.cmo.outputs={_CMO:null};j8A.Studies.calculateChandeMomentum(X9A,t9A.cmo);v9A=parseInt(t9A.inputs.Offset,10);if(isNaN(v9A)){v9A=0;}c9A=t9A.startFrom;U9A=v9A;for(h9A=t9A.startFrom - +"1";h9A >= +"0";h9A--){C9A=g9A[h9A][L9A];if(!C9A && C9A !== 0)continue;if(Y9A === null){Y9A=C9A;}if(U9A <= 0)break;U9A--;c9A=h9A;}if(Y9A === null){Y9A=c9A=0;}n9A=[];for(h9A=c9A;h9A < g9A.length;h9A++){w9A=g9A[h9A];C9A=w9A[K9A];if(C9A && typeof C9A == "object"){C9A=C9A[t9A.subField];}r9A=h9A + v9A >= 0 && h9A + v9A < g9A.length;J9A=r9A?g9A[h9A + v9A]:null;if(!C9A && C9A !== 0){if(J9A){J9A[L9A]=null;}else if(h9A + v9A >= g9A.length){A9A={};A9A[L9A]=null;n9A.push(A9A);}continue;}if(!w9A["_CMO " + t9A.name] && w9A["_CMO " + t9A.name] !== 0)continue;x9A=Math.abs(w9A["_CMO " + t9A.name]) / 100;X3D.g03(61);s9A=X3D.I03(x9A,V9A,Y9A,x9A,1,C9A,V9A);Y9A=s9A;if(h9A < t9A.days){s9A=null;}if(J9A){J9A[L9A]=s9A;}else if(h9A + v9A >= g9A.length){A9A={};A9A[L9A]=s9A;n9A.push(A9A);}}t9A.appendFutureTicks(X9A,n9A);};j8A.Studies.studyLibrary=j8A.extend(j8A.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:j8A.Studies.calculateChandeForecast,inputs:{Period:14,Field:O2L}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:j8A.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:e2L,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};P1T=P9A=>{var d9A,k2L;d9A=typeof _CIQ !== "undefined"?_CIQ:P9A.CIQ;z7QQ.T6D();if(!d9A.Studies){console.error("choppiness feature requires first activating studies feature.");}else {k2L="aut";k2L+="o";d9A.Studies.calculateChoppiness=function(I9A,D9A){var N9A,Q9A,e9A,m2L;function q9A(F9A,k9A){var S9A,W9A;S9A=Number.MAX_VALUE * -1;z7QQ.k6D();W9A=Number.MAX_VALUE;for(var j9A=k9A - F9A + 1;j9A <= k9A;j9A++){if(j9A < 0)continue;S9A=Math.max(S9A,N9A[j9A].High);W9A=Math.min(W9A,N9A[j9A].Low);}return [W9A,S9A];}d9A.Studies.calculateStudyATR(I9A,D9A);N9A=D9A.chart.scrubbed;if(N9A.length < D9A.days + 1){D9A.error=! !{};return;}for(var G9A=Math.max(D9A.startFrom,D9A.days);G9A < N9A.length;G9A++){Q9A=N9A[G9A];if(!Q9A)continue;if(Q9A.futureTick)break;e9A=q9A(D9A.days,G9A);if(Q9A["Sum True Range " + D9A.name]){m2L="R";m2L+="esu";m2L+="lt";m2L+=" ";Q9A[m2L + D9A.name]=100 * Math.log(Q9A["Sum True Range " + D9A.name] / Math.max(0.000001,e9A[1] - e9A[+"0"])) / Math.log(D9A.days);}else if(!isNaN(Q9A)){Q9A["Result " + D9A.name]=0;}}};d9A.Studies.studyLibrary=d9A.extend(d9A.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:d9A.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:k2L}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};D1T=B9A=>{var l9A,F2L,Q2L,C2L;z7QQ.T6D();l9A=typeof _CIQ !== "undefined"?_CIQ:B9A.CIQ;if(!l9A.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!l9A.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {F2L="#";F2L+="F";F2L+="F0";F2L+="000";Q2L="S";Q2L+="P";Q2L+="Y";C2L="-";C2L+="1 to ";C2L+="1";l9A.Studies.calculateCorrelationCoefficient=function(f2A,R9A){var Z9A,O9A,T9A,s2L,p9A,o9A,M2A,b2A,i2A,E2A,z2A,A2L,m9A,J2L,X2L,i2L,h2A,C2A,v2A,g2A;Z9A=R9A.chart.scrubbed;O9A=R9A.days;if(Z9A.length < O9A + +"1"){R9A.error=! !"1";return;}R9A.compare=R9A.inputs["Compare To"];if(!R9A.compare){R9A.compare=[];R9A.outputs={};R9A.outputMap={};for(var t2A in f2A.chart.series){T9A=f2A.chart.series[t2A];if(T9A.parameters.color){s2L="Re";s2L+="sult ";R9A.compare.push(T9A.display);R9A.outputs[s2L + T9A.display]=T9A.parameters.color;R9A.outputMap["Result " + T9A.display + ((+"367.71",88.23) < 9297?" ":(7181,701) !== ("7540" * 1,1290)?6.32e+3:(7.44e+3,338.96)) + R9A.name]="Result " + T9A.display;}}}else {R9A.compare=[R9A.compare];}if(!R9A.compare.length){R9A.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var a9A=0;a9A < R9A.compare.length;a9A++){p9A=0;o9A=0;M2A=0;b2A=+"0";i2A=0;E2A=R9A.compare[a9A];z2A=0;for(var u9A=R9A.startFrom - O9A;u9A < Z9A.length;u9A++){A2L="obj";A2L+="e";A2L+="c";A2L+="t";if(!Z9A[u9A])continue;m9A=Z9A[u9A][E2A];if(m9A && typeof m9A == A2L){m9A=m9A.Close;}if(!m9A && m9A !== +"0"){if(u9A > 0 && Z9A[u9A - +"1"] && Z9A[u9A - 1]["_temps " + R9A.name] && Z9A[u9A - 1]["_temps " + R9A.name].c){m9A=Z9A[u9A - +"1"]["_temps " + R9A.name].c;}else {m9A=+"0";}}if(m9A && typeof m9A == "object"){m9A=m9A.Close;}Z9A[u9A]["_temps " + R9A.name]={};p9A+=Z9A[u9A]["_temps " + R9A.name].b=Z9A[u9A].Close;o9A+=Z9A[u9A]["_temps " + R9A.name].c=m9A;M2A+=Z9A[u9A]["_temps " + R9A.name].b2=Math.pow(Z9A[u9A].Close,2);b2A+=Z9A[u9A]["_temps " + R9A.name].c2=Math.pow(m9A,2);i2A+=Z9A[u9A]["_temps " + R9A.name].bc=Z9A[u9A].Close * m9A;if(z2A >= O9A){J2L="R";J2L+="esult";J2L+=" ";X2L="_";X2L+="t";X2L+="e";X2L+="mps ";i2L="_temps";i2L+=" ";p9A-=Z9A[u9A - O9A]["_temps " + R9A.name].b;o9A-=Z9A[u9A - O9A]["_temps " + R9A.name].c;M2A-=Z9A[u9A - O9A][i2L + R9A.name].b2;b2A-=Z9A[u9A - O9A][X2L + R9A.name].c2;i2A-=Z9A[u9A - O9A]["_temps " + R9A.name].bc;h2A=M2A / O9A - Math.pow(p9A / O9A,2);C2A=b2A / O9A - Math.pow(o9A / O9A,2);v2A=i2A / O9A - p9A * o9A / Math.pow(O9A,2);g2A=v2A / Math.sqrt(h2A * C2A);Z9A[u9A][J2L + E2A + " " + R9A.name]=g2A;}z2A++;}}};l9A.Studies.calculatePerformance=function(J2A,L2A){var S2L,Y2A,w2A,u2L,A2A;S2L="Clo";S2L+="s";S2L+="e";Y2A=L2A.chart.scrubbed;w2A=L2A.inputs["Comparison Symbol"].toUpperCase();if(!w2A){w2A=L2A.study.inputs["Comparison Symbol"];}if(!L2A.days){L2A.days=L2A.study.inputs.Period;}if(Y2A.length < L2A.days + 1){L2A.error=!"";return;}l9A.Studies.MA("ma",L2A.days,S2L,0,"_MA Base",J2A,L2A);l9A.Studies.MA("ma",L2A.days,w2A,+"0","_MA Comp",J2A,L2A);for(var K2A=L2A.startFrom;K2A < Y2A.length;K2A++){u2L="_M";u2L+="A C";u2L+="o";u2L+="mp ";A2A=Y2A[K2A][w2A];if(A2A && (A2A.Close || A2A.Close === 0)){A2A=A2A.Close;}Y2A[K2A]["Result " + L2A.name]=Y2A[K2A].Close / A2A * (Y2A[K2A][u2L + L2A.name] / Y2A[K2A]["_MA Base " + L2A.name]);}};l9A.Studies.calculateBeta=function(X2A,s2A){var o3D=z7QQ;var b2L,w2L,p2L,n2A,x2A,o2L,V2A,U2A,z2L,n2L,L2L;b2L="_";b2L+="V";b2L+="ARn ";w2L="m";w2L+="a";p2L="_C";p2L+="OV";p2L+="AR";n2A=s2A.chart.scrubbed;x2A=s2A.inputs["Comparison Symbol"].toUpperCase();if(!x2A){x2A=s2A.study.inputs["Comparison Symbol"];}if(!s2A.days){s2A.days=s2A.study.inputs.Period;}if(n2A.length < s2A.days + 1){s2A.error=! !"1";return;}for(var c2A=Math.max(s2A.startFrom,1);c2A < n2A.length;c2A++){o2L="_";o2L+="B";o2L+="aseC";o2L+="hange ";n2A[c2A][o2L + s2A.name]=n2A[c2A].Close / n2A[c2A - 1].Close - 1;V2A=n2A[c2A][x2A];if(V2A && (V2A.Close || V2A.Close === 0)){V2A=V2A.Close;}o3D.C03(52);U2A=n2A[o3D.I03(c2A,"1")][x2A];if(U2A && (U2A.Close || U2A.Close === 0)){U2A=U2A.Close;}o3D.g03(62);n2A[c2A]["_CompChange " + s2A.name]=o3D.I03(1,U2A,V2A);}l9A.Studies.MA("ma",s2A.days,"_BaseChange " + s2A.name,0,"_MA Base",X2A,s2A);l9A.Studies.MA("ma",s2A.days,"_CompChange " + s2A.name,0,"_MA Comp",X2A,s2A);for(c2A=Math.max(s2A.startFrom,s2A.days);c2A < n2A.length;c2A++){z2L="_MA Com";z2L+="p ";n2L="_MA B";n2L+="a";n2L+="s";n2L+="e ";n2A[c2A]["_COVARn " + s2A.name]=(n2A[c2A]["_BaseChange " + s2A.name] - n2A[c2A][n2L + s2A.name]) * (n2A[c2A]["_CompChange " + s2A.name] - n2A[c2A][z2L + s2A.name]);n2A[c2A]["_VARn " + s2A.name]=Math.pow(n2A[c2A]["_CompChange " + s2A.name] - n2A[c2A]["_MA Comp " + s2A.name],2);}l9A.Studies.MA("ma",s2A.days,"_COVARn " + s2A.name,0,p2L,X2A,s2A);l9A.Studies.MA(w2L,s2A.days,b2L + s2A.name,"0" - 0,"_VAR",X2A,s2A);for(c2A=Math.max(s2A.startFrom,s2A.days * 2 - 1);c2A < n2A.length;c2A++){L2L="Resul";L2L+="t ";n2A[c2A][L2L + s2A.name]=n2A[c2A]["_COVAR " + s2A.name] / n2A[c2A]["_VAR " + s2A.name];}};l9A.Studies.studyLibrary=l9A.extend(l9A.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:C2L,calculateFN:l9A.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:l9A.Studies.initPriceRelative,seriesFN:l9A.Studies.displayVsComparisonSymbol,calculateFN:l9A.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":Q2L},outputs:{Result:"auto",Gain:"#00DD00",Loss:F2L},deferUpdate:! !{}},Beta:{name:"Beta",centerline:1,initializeFN:l9A.Studies.initPriceRelative,seriesFN:l9A.Studies.displayVsComparisonSymbol,calculateFN:l9A.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!""}});}};Q1T=r2A=>{var y2A,R2L,v2L;y2A=typeof _CIQ !== "undefined"?_CIQ:r2A.CIQ;z7QQ.T6D();if(!y2A.Studies){console.error("coppock feature requires first activating studies feature.");}else {R2L="fi";R2L+="eld";v2L="Coppo";v2L+="ck C";v2L+="urv";v2L+="e";y2A.Studies.calculateCoppock=function(q2A,H2A){var N3D=z7QQ;var d2L,f2L,d2A,P2A,Q2A,N2A,G2A,e2A,I2A;d2L="Shor";d2L+="t Ro";d2L+="C";f2L="L";f2L+="o";f2L+="ng";N3D.T6D();f2L+=" RoC";d2A=H2A.chart.scrubbed;P2A=H2A.inputs.Field;if(!P2A || P2A == "field"){P2A="Close";}Q2A=parseInt(H2A.inputs[f2L],10);if(!Q2A){Q2A=+"14";}N2A=parseInt(H2A.inputs[d2L],+"10");if(!N2A){N2A=11;}G2A=H2A.days;if(!G2A){G2A=10;}if(Q2A < N2A){return;}if(d2A.length < Math.max(N2A,Q2A,G2A) + 1){H2A.error=! !{};return;}for(var D2A=Math.max(H2A.startFrom,Q2A);D2A < d2A.length;D2A++){N3D.C03(4);e2A=d2A[N3D.I03(D2A,N2A)][P2A];N3D.g03(4);I2A=d2A[N3D.I03(D2A,Q2A)][P2A];if(e2A && I2A){d2A[D2A]["_Sum " + H2A.name]=100 * (d2A[D2A][P2A] / e2A + d2A[D2A][P2A] / I2A - 2);}}y2A.Studies.MA("weighted",G2A,"_Sum " + H2A.name,"0" & 2147483647,"Result",q2A,H2A);};y2A.Studies.studyLibrary=y2A.extend(y2A.Studies.studyLibrary,{Coppock:{name:v2L,calculateFN:y2A.Studies.calculateCoppock,inputs:{Period:10,Field:R2L,"Short RoC":11,"Long RoC":"14" >> 74887520}}});}};N1T=S2A=>{var j2A,x2L;z7QQ.k6D();j2A=typeof _CIQ !== "undefined"?_CIQ:S2A.CIQ;if(!j2A.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {x2L="Da";x2L+="rvas Box";j2A.Studies.calculateDarvas=function(t3A,Z2A){var v3D=z7QQ;var q2L,I2L,W2A,u2A,b3A,P2L,z3A,m2A,l2A,R2A,p2A,O2A,o2A,T2A,F2A,B2A,a2A,k2A,Z2L,g2L,H2L,U2L,E2L,N2L,j2L,M2L,t2L,D2L,r2L;q2L="A";q2L+="TH";I2L="Pr";I2L+="o";I2L+="fit";W2A=Z2A.chart.scrubbed;u2A=+"0";b3A=parseInt(Z2A.inputs["ATH Lookback Period"],10);if(Z2A.inputs["Volume Spike"]){P2L="V";P2L+="ol";P2L+="ume";j2A.Studies.MA("simple",b3A,P2L,0,"ADV",t3A,Z2A);}z3A=parseFloat(Z2A.inputs["Volume % of Avg"]) / ("100" - 0);m2A="none";l2A={};R2A=null;p2A=null;O2A=null;o2A=parseFloat(Z2A.inputs["Level Offset"]);T2A=! !0;if(T2A){console.log("*****************");}B2A={};["Darvas","Ghost",I2L,"Loss",q2L,"ADV","Spike"].forEach(function(h3A){v3D.T6D();B2A[h3A]=h3A + ((3120,9967) >= "1329" >> 569922784?" ":"h") + Z2A.name;});for(F2A=Z2A.startFrom - 1;F2A > ("0" & 2147483647);F2A--){a2A=W2A[F2A];if(a2A[B2A.Darvas] || a2A[B2A.Ghost]){for(var f3A in B2A){a2A[f3A]=null;}}else {u2A=a2A[B2A.ATH] || "0" >> 299731872;p2A=a2A[B2A.Profit];O2A=a2A[B2A.Loss];break;}}for(F2A;F2A < W2A.length;F2A++){k2A=W2A[F2A];if(!k2A)continue;if(parseFloat(Z2A.inputs["Price Minimum"]) <= W2A[u2A].Close){Z2L="no";Z2L+="ne";g2L="Ex";g2L+="it Fi";g2L+="e";g2L+="ld";if(R2A && (!R2A.End || F2A == R2A.End + 1)){if(W2A[F2A - ("1" << 528981600)].Close > l2A.High){l2A={State:1,High:2 * l2A.High - l2A.Low,Low:l2A.High,Start:F2A,End:2 * l2A.End - l2A.Start + 1};}else {R2A=null;;}if(R2A){H2L="Gho";H2L+="st b";H2L+="egi";H2L+="n:";k2A[B2A.Ghost]=j2A.clone(l2A);if(T2A){console.log(H2L + k2A.DT);}l2A.State=0;if(W2A[l2A.End]){W2A[l2A.End][B2A.Ghost]=j2A.clone(l2A);if(T2A){console.log("Ghost end:" + W2A[l2A.End].DT);}}R2A={Start:l2A.Start,End:l2A.End};p2A=l2A.High + o2A;if(!O2A || O2A < l2A.Low - o2A){O2A=l2A.Low - o2A;}}}k2A[B2A.Profit]=p2A;k2A[B2A.Loss]=O2A;if(k2A.Close >= p2A){p2A=null;}else if(Z2A.inputs[g2L] == "high/low" && k2A.High >= p2A){p2A=null;}if(m2A == Z2L){if(F2A == u2A + 3){if(!W2A[u2A + 2][B2A.Darvas] && !W2A[u2A + 1][B2A.Darvas] && !W2A[u2A][B2A.Darvas] && W2A[u2A].High > k2A.High){m2A="high";;}}}if(m2A == "high"){if(k2A.High > W2A[u2A].High){U2L="n";U2L+="o";U2L+="ne";m2A=U2L;}else if(W2A[F2A - 3].Low < W2A[F2A - +"2"].Low && W2A[F2A - 3].Low < W2A[F2A - ("1" ^ 0)].Low && W2A[F2A - 3].Low < k2A.Low){l2A={State:1,High:W2A[u2A].High,Low:W2A[F2A - 3].Low,Start:u2A};W2A[u2A][B2A.Darvas]=j2A.clone(l2A);m2A="darvas";if(T2A){console.log("Darvas begin:" + W2A[u2A].DT);}if(T2A){console.log("Darvas established:" + k2A.DT);}if(R2A){if(R2A.End > F2A && W2A[R2A.Start]){k2A[B2A.Ghost]=j2A.clone(W2A[R2A.Start][B2A.Ghost]);k2A[B2A.Ghost].End=F2A;if(W2A[R2A.End]){delete W2A[R2A.End][B2A.Ghost];if(T2A){console.log("Ghost End removed:" + W2A[R2A.End].DT);}}}k2A[B2A.Ghost].State=0;W2A[R2A.Start][B2A.Ghost].End=F2A;if(T2A){console.log("Ghost end:" + k2A.DT);}R2A=null;}p2A=l2A.High + o2A;if(!O2A || O2A < l2A.Low - o2A){O2A=l2A.Low - o2A;}}}if(m2A == "darvas"){E2L="n";E2L+="o";E2L+="n";E2L+="e";N2L="n";N2L+="o";N2L+="n";N2L+="e";j2L="hi";j2L+="gh/low";if(k2A.Close > l2A.High){R2A={};}else if(Z2A.inputs["Exit Field"] == j2L && k2A.High > l2A.High){R2A={};}else if(k2A.Close < l2A.Low){m2A="none";}else if(Z2A.inputs["Exit Field"] == "high/low" && k2A.Low < l2A.Low){m2A=N2L;}if(R2A){m2A="none";}else if(m2A == E2L){p2A=null;O2A=null;}if(!Z2A.inputs["Ghost Boxes"]){R2A=null;}if(m2A == "none"){for(var E3A=l2A.Start + 1;E3A < F2A;E3A++){W2A[E3A][B2A.Darvas]=j2A.clone(l2A);}v3D.g03(22);l2A.State=v3D.J03("0",0);l2A.End=F2A;k2A[B2A.Darvas]=j2A.clone(l2A);if(T2A){console.log("Darvas end:" + k2A.DT);}k2A[B2A.ATH]=u2A;continue;}}if(O2A){if(k2A.Close < l2A.Low || Z2A.inputs["Exit Field"] == "high/low" && k2A.Low < l2A.Low){M2L="hi";M2L+="gh/low";t2L="E";t2L+="x";t2L+="it Field";D2L="non";D2L+="e";if(m2A == "darvas"){m2A=D2L;}if(k2A.Close < O2A || Z2A.inputs[t2L] == M2L && k2A.Low < O2A){p2A=null;O2A=null;}if(R2A){if(R2A.End > F2A && W2A[R2A.Start]){k2A[B2A.Ghost]=j2A.clone(W2A[R2A.Start][B2A.Ghost]);k2A[B2A.Ghost].End=F2A;if(W2A[R2A.End]){delete W2A[R2A.End][B2A.Ghost];if(T2A){console.log("Ghost End removed:" + W2A[R2A.End].DT);}}}k2A[B2A.Ghost].State=+"0";W2A[R2A.Start][B2A.Ghost].End=F2A;if(T2A){console.log("Ghost end:" + k2A.DT);}R2A=null;}}}}if(k2A.High >= W2A[u2A].High){u2A=F2A;if(T2A){console.log("All Time High:" + k2A.DT);}}if(F2A < 3 || k2A.High >= W2A[F2A - 1].High && k2A.High >= W2A[F2A - 2].High && k2A.High >= W2A[F2A - 3].High){if(F2A - u2A >= b3A){r2L="All ";r2L+="Time High:";u2A=F2A;for(var M3A=0;M3A < b3A;M3A++){if(F2A - M3A < +"0")break;if(W2A[F2A - M3A].High > W2A[u2A].High){v3D.C03(4);u2A=v3D.J03(F2A,M3A);}}if(T2A){console.log(r2L + k2A.DT);}}}if(Z2A.inputs["Volume Spike"] && F2A > b3A && F2A == u2A){if(k2A[B2A.ADV] * z3A < k2A.Volume){k2A[B2A.Spike]=1;if(T2A){console.log("Volume Spike:" + k2A.DT);}}}k2A[B2A.ATH]=u2A;}};j2A.Studies.displayDarvas=function(v3A,K3A,J3A){var P3D=z7QQ;var K2L,q3A,U3A,Q3A,A3A,C3A,L3A,Y3A,B3A,x3A,s3A,m3e,k3e,s3e,F3A,R3A,O3A,u3A,n3A,V3A,X3A,j3A,D3A,I3A,G3A,k3A,e3A,S3A,p3A,l3A,o3A,a2L,m3A;K2L="a";K2L+="ut";K2L+="o";q3A=j2A.Studies.determineColor(K3A.outputs.Levels);if(!q3A || q3A == "auto" || j2A.isTransparent(q3A)){q3A=v3A.defaultColor;}U3A=j2A.Studies.determineColor(K3A.outputs.Darvas);if(!U3A || U3A == "auto" || j2A.isTransparent(U3A)){U3A=v3A.defaultColor;}Q3A=j2A.Studies.determineColor(K3A.outputs.Ghost);if(!Q3A || Q3A == K2L || j2A.isTransparent(Q3A)){Q3A=v3A.defaultColor;}A3A=v3A.panels[K3A.panel];C3A=K3A.getContext(v3A);s3A=v3A.layout.candleWidth - 2;if(s3A < +"2"){s3A=1;}v3A.startClip(K3A.panel);if(K3A.inputs["Stop Levels"]){if(C3A.setLineDash){C3A.setLineDash([2,2]);}C3A.lineWidth=2;m3e=+"1702241399";k3e=1384784685;s3e=+"2";for(var i3e=1;P3D.E9e(i3e.toString(),i3e.toString().length,65896) !== m3e;i3e++){C3A.strokeStyle=q3A;s3e+=2;}if(P3D.N9e(s3e.toString(),s3e.toString().length,95797) !== k3e){C3A.strokeStyle=q3A;}C3A.beginPath();for(L3A=0;L3A < J3A.length;L3A++){Y3A=J3A[L3A];P3D.C03(4);F3A=J3A[P3D.J03(L3A,1)];if(!Y3A)continue;x3A=Y3A["Loss " + K3A.name]?Math.floor(v3A.pixelFromPrice(Y3A["Loss " + K3A.name],A3A)):null;R3A=F3A && F3A["Loss " + K3A.name]?Math.floor(v3A.pixelFromPrice(F3A["Loss " + K3A.name],A3A)):null;if(x3A){if(Y3A.candleWidth){s3A=Math.floor(Math.max(1,Y3A.candleWidth));}O3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) + s3A / 2);u3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) - s3A / 2);if(R3A && R3A >= x3A){C3A.lineTo(u3A,x3A);}else if(L3A === 0){C3A.moveTo(v3A.chart.left,x3A);}else {C3A.moveTo(u3A,x3A);}C3A.lineTo(O3A,x3A);}}C3A.stroke();if(C3A.setLineDash){C3A.setLineDash([]);}C3A.lineWidth=1;}n3A=-10;X3A=0;D3A=-10;G3A=0;e3A=!"1";S3A=![];p3A=C3A.measureText("\u25B2").width / 2;l3A=0;P3D.k6D();for(L3A="0" - 0;L3A < J3A.length;L3A++){if(!J3A[L3A])continue;if(J3A[L3A].Close || J3A[L3A].Close === 0){l3A=L3A;}if(J3A[L3A]["Spike " + K3A.name]){C3A.fillStyle=U3A;C3A.textBaseline="bottom";o3A=v3A.pixelFromPrice(J3A[L3A].High,v3A.chart.panel);C3A.fillText(("3700" >> 72727104,7848) <= 801.84?(346.52,7.89e+3):"\u25BC",v3A.pixelFromBar(L3A) - p3A,o3A - 5);;}if(J3A[L3A].candleWidth){s3A=Math.floor(Math.max(1,J3A[L3A].candleWidth));}if(J3A[L3A]["Darvas " + K3A.name]){Y3A=J3A[L3A]["Darvas " + K3A.name];if(Y3A.State == 1 && !e3A){n3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) - s3A / 2);V3A=Math.floor(v3A.pixelFromPrice(Y3A.High,A3A));j3A=Math.floor(v3A.pixelFromPrice(Y3A.Low,A3A)) - V3A;e3A=! ![];}else if(Y3A.State === 0){a2L="Stop";a2L+=" Lev";a2L+="e";a2L+="ls";X3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) + s3A / 2) - n3A;V3A=Math.floor(v3A.pixelFromPrice(Y3A.High,A3A));j3A=Math.floor(v3A.pixelFromPrice(Y3A.Low,A3A)) - V3A;C3A.strokeStyle=U3A;C3A.fillStyle=U3A;if(!K3A.inputs[a2L]){C3A.strokeRect(n3A,V3A,X3A,j3A);C3A.globalAlpha=0.2;}else {C3A.globalAlpha=0.3;}C3A.fillRect(n3A,V3A,X3A,j3A);C3A.globalAlpha=+"1";e3A=!{};}}if(J3A[L3A]["Ghost " + K3A.name] && K3A.inputs["Ghost Boxes"]){Y3A=J3A[L3A]["Ghost " + K3A.name];if(Y3A.State == 1 && !S3A){D3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) - s3A / 2);I3A=Math.floor(v3A.pixelFromPrice(Y3A.High,A3A));G3A=Math.floor((Y3A.End - Y3A.Start + 1) * v3A.layout.candleWidth + s3A / 2);k3A=Math.floor(v3A.pixelFromPrice(Y3A.Low,A3A)) - I3A;S3A=! ![];}else if(Y3A.State === +"0"){if(Y3A.Start == Y3A.End){D3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) - s3A / 2);}G3A=Math.floor(v3A.pixelFromBar(L3A,A3A.chart) + s3A / +"2") - D3A;I3A=Math.floor(v3A.pixelFromPrice(Y3A.High,A3A));k3A=Math.floor(v3A.pixelFromPrice(Y3A.Low,A3A)) - I3A;C3A.strokeStyle=Q3A;C3A.fillStyle=Q3A;if(!K3A.inputs["Stop Levels"]){C3A.strokeRect(D3A,I3A,G3A,k3A);C3A.globalAlpha=0.2;}else {P3D.g03(4);C3A.globalAlpha=P3D.J03("0.3",0);}C3A.fillRect(D3A,I3A,G3A,k3A);C3A.globalAlpha=1;S3A=!1;}}}if(e3A){X3A=Math.floor(v3A.pixelFromBar(l3A,A3A.chart) + s3A / 2) - n3A;C3A.strokeStyle=U3A;C3A.fillStyle=U3A;if(!K3A.inputs["Stop Levels"]){C3A.beginPath();P3D.g03(13);C3A.moveTo(P3D.J03(2,n3A,X3A),V3A);C3A.lineTo(n3A,V3A);P3D.C03(2);C3A.lineTo(n3A,P3D.J03(V3A,j3A));P3D.C03(13);C3A.lineTo(P3D.J03(2,n3A,X3A),P3D.J03(V3A,j3A,P3D.C03(2)));C3A.stroke();C3A.globalAlpha=0.2;}else {C3A.globalAlpha=+"0.3";}P3D.C03(63);C3A.fillRect(n3A,V3A,P3D.I03("2",X3A),j3A);C3A.globalAlpha=1;}if(S3A){C3A.strokeStyle=Q3A;C3A.fillStyle=Q3A;if(!K3A.inputs["Stop Levels"]){C3A.strokeRect(D3A,I3A,G3A,k3A);C3A.globalAlpha=0.2;}else {C3A.globalAlpha=0.3;}C3A.fillRect(D3A,I3A,G3A,k3A);C3A.globalAlpha=1;}if(e3A || S3A){if(K3A.inputs["Stop Levels"]){if(C3A.setLineDash){C3A.setLineDash([+"2",2]);}C3A.lineWidth=2;C3A.strokeStyle=q3A;m3A=Math.floor(v3A.pixelFromBar(l3A - 1,A3A.chart) + s3A / 2);if(B3A){C3A.beginPath();C3A.moveTo(m3A,B3A);C3A.lineTo(e3A?n3A + 2 * X3A:D3A + G3A,B3A);C3A.stroke();}if(x3A){C3A.beginPath();C3A.moveTo(m3A,x3A);C3A.lineTo(e3A?n3A + 2 * X3A:D3A + G3A,x3A);C3A.stroke();}if(C3A.setLineDash){C3A.setLineDash([]);}C3A.lineWidth=1;}e3A=!"1";S3A=! !0;}v3A.endClip();};j2A.Studies.studyLibrary=j2A.extend(j2A.Studies.studyLibrary,{Darvas:{name:x2L,underlay:! !{},calculateFN:j2A.Studies.calculateDarvas,seriesFN:j2A.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !1,"Stop Levels":!{},"Level Offset":0.01,"Price Minimum":+"5","Volume Spike":!{},"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! ![]},flippedEnabled:{hidden:! ![]}}}});}};G1T=b5A=>{var c2L,M5A;c2L="u";c2L+="nde";c2L+="fined";z7QQ.k6D();M5A=typeof _CIQ !== c2L?_CIQ:b5A.CIQ;if(!M5A.Studies){console.error("detrended feature requires first activating studies feature.");}else {M5A.Studies.calculateDetrendedPrice=function(v5A,i5A){var h4L,T4L,W2L,z5A,f5A,h5A,V4L,E5A,C5A;h4L="M";h4L+="A";T4L="Movin";T4L+="g Aver";T4L+="age Type";W2L="C";W2L+="los";W2L+="e";z5A=i5A.chart.scrubbed;if(z5A.length < i5A.days + ("1" | 1)){i5A.error=! !"1";return;}f5A=i5A.inputs.Field;if(!f5A || f5A == "field"){f5A=W2L;}h5A=Math.floor(i5A.days / 2 + 1);M5A.Studies.MA(i5A.inputs[T4L],i5A.days,f5A,-h5A,h4L,v5A,i5A);for(var t5A=Math.max(i5A.days - h5A - 1,i5A.startFrom - h5A);t5A < z5A.length - h5A;t5A++){V4L="Re";V4L+="sul";V4L+="t";V4L+=" ";E5A=z5A[t5A][f5A];if(E5A && typeof E5A == "object"){E5A=E5A[i5A.subField];}C5A=z5A[t5A]["MA " + i5A.name];if((E5A || E5A === 0) && (C5A || C5A === 0)){z7QQ.g03(4);z5A[t5A][V4L + i5A.name]=z7QQ.I03(E5A,C5A);}}};M5A.Studies.studyLibrary=M5A.extend(M5A.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:M5A.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};e1T=L5A=>{var g5A,B4L,O4L,G4L;g5A=typeof _CIQ !== "undefined"?_CIQ:L5A.CIQ;if(!g5A.Studies){B4L="disparity f";B4L+="eature requires ";B4L+="first activating studies featur";B4L+="e.";console.error(B4L);}else {O4L="m";O4L+="a";G4L="fi";G4L+="el";G4L+="d";g5A.Studies.calculateDisparity=function(s5A,Y5A){var Y4L,y4L,l4L,K5A,w5A,J5A;Y4L="_";Y4L+="M";Y4L+="A";y4L="Moving Average T";y4L+="yp";y4L+="e";l4L="Cl";l4L+="o";l4L+="se";K5A=Y5A.chart.scrubbed;if(K5A.length < Y5A.days + 1){Y5A.error=! !{};return;}w5A=Y5A.inputs.Field;if(!w5A || w5A == "field"){w5A=l4L;}g5A.Studies.MA(Y5A.inputs[y4L],Y5A.days,w5A,"0" - 0,Y4L,s5A,Y5A);for(var A5A=Math.max(Y5A.startFrom,Y5A.days - 1);A5A < K5A.length;A5A++){if(!K5A[A5A])continue;J5A=K5A[A5A]["_MA " + Y5A.name];if(J5A){K5A[A5A]["Result " + Y5A.name]=100 * (K5A[A5A][w5A] / J5A - 1);}}};g5A.Studies.studyLibrary=g5A.extend(g5A.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:g5A.Studies.calculateDisparity,inputs:{Period:14,Field:G4L,"Moving Average Type":O4L}}});}};I1T=n5A=>{var c5A,m4L;c5A=typeof _CIQ !== "undefined"?_CIQ:n5A.CIQ;if(!c5A.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {m4L="m";m4L+="a";c5A.Studies.calculateEaseOfMovement=function(P5A,x5A){var q3D=z7QQ;var V5A,e4L,y5A,r5A,H5A,d5A,X5A;V5A=x5A.chart.scrubbed;if(V5A.length < x5A.days){x5A.error=! !{};return;}for(var U5A=Math.max(1,x5A.startFrom);U5A < V5A.length;U5A++){e4L="_EOM";e4L+="1 ";y5A=(V5A[U5A].High + V5A[U5A].Low) / 2;r5A=(V5A[U5A - ("1" >> 43341472)].High + V5A[U5A - +"1"].Low) / +"2";q3D.C03(4);H5A=q3D.J03(y5A,r5A);d5A=V5A[U5A].Volume / 100000000 / (V5A[U5A].High - V5A[U5A].Low);q3D.g03(6);X5A=q3D.I03(H5A,d5A);if(!isFinite(X5A)){V5A[U5A]["_EOM1 " + x5A.name]=NaN;}else {V5A[U5A][e4L + x5A.name]=X5A;}}q3D.T6D();c5A.Studies.MA(x5A.inputs["Moving Average Type"],x5A.days,"_EOM1 " + x5A.name,0,"Result",P5A,x5A);};c5A.Studies.studyLibrary=c5A.extend(c5A.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:c5A.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":m4L}}});}};q1T=Q5A=>{var X4D=z7QQ;var k4L,D5A,b4e,L4e,C4e;k4L="u";k4L+="ndefined";D5A=typeof _CIQ !== k4L?_CIQ:Q5A.CIQ;if(!D5A.Studies){b4e=1996972079;L4e=-1288127653;C4e=2;for(var F4e=1;X4D.N9e(F4e.toString(),F4e.toString().length,53952) !== b4e;F4e++){console.error("");X4D.g03(1);C4e+=X4D.J03("2",0);}if(X4D.E9e(C4e.toString(),C4e.toString().length,41956) !== L4e){console.error("ehlerFisher feature requires first activating studies feature.");}}else {D5A.Studies.calculateEhlerFisher=function(k5A,N5A){var e5A,G5A,q5A,s4L,j5A,S5A;function W5A(Z5A,u5A){var l5A,B5A,R5A;l5A=Number.MAX_VALUE;X4D.T6D();B5A=Number.MAX_VALUE * -1;for(var F5A=u5A - Z5A + ("1" & 2147483647);F5A <= u5A;F5A++){R5A=(e5A[F5A].High + e5A[F5A].Low) / 2;l5A=Math.min(l5A,R5A);B5A=Math.max(B5A,R5A);}return [l5A,B5A];}e5A=N5A.chart.scrubbed;if(e5A.length < N5A.days + 1){N5A.error=! !{};return;}G5A=0;if(N5A.startFrom > 1){G5A=e5A[N5A.startFrom - 1]["_n " + N5A.name];}for(var I5A=N5A.startFrom;I5A < e5A.length;I5A++){q5A=e5A[I5A];if(q5A.futureTick)break;if(I5A < N5A.days - ("1" & 2147483647)){s4L="E";s4L+="F";s4L+=" ";q5A[s4L + N5A.name]=q5A["EF Trigger " + N5A.name]=G5A;continue;}j5A=W5A(N5A.days,I5A);G5A=0.33 * 2 * (((e5A[I5A].High + e5A[I5A].Low) / 2 - j5A[0]) / Math.max(+"0.000001",j5A[1] - j5A[0]) - 0.5) + 0.67 * G5A;if(G5A > 0){G5A=Math.min(G5A,0.9999);}else if(G5A < 0){G5A=Math.max(G5A,-0.9999);}S5A=I5A?e5A[I5A - ("1" << 1947727584)]["EF " + N5A.name]:"0" * 1;q5A["EF " + N5A.name]=0.5 * Math.log((1 + G5A) / (1 - G5A)) + +"0.5" * S5A;q5A["EF Trigger " + N5A.name]=S5A;q5A["_n " + N5A.name]=G5A;}};D5A.Studies.studyLibrary=D5A.extend(D5A.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:D5A.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};j1T=O5A=>{var m5A,f4L;m5A=typeof _CIQ !== "undefined"?_CIQ:O5A.CIQ;z7QQ.k6D();if(!m5A.Studies){console.error("elder feature requires first activating studies feature.");}else {f4L="#00DD0";f4L+="0";m5A.Studies.calculateElderImpulse=function(b6A,T5A){var X4L,i4L,A4L,o5A,i6A,E6A,M6A,a5A,o4L,u4L,S4L,J4L;X4L="_M";X4L+="A";i4L="Clos";i4L+="e";A4L="ex";A4L+="p";A4L+="onenti";A4L+="al";o5A=T5A.chart.scrubbed;i6A=T5A.outputs.Bullish;E6A=T5A.outputs.Bearish;M6A=T5A.outputs.Neutral;m5A.Studies.MA(A4L,13,i4L,0,X4L,b6A,T5A);T5A.macd=new m5A.Studies.StudyDescriptor(((268,7530) === 9669?("I",220):942.65 == 6540?(+"597.84",420.51):"_") + T5A.name,"macd",T5A.panel);T5A.macd.chart=T5A.chart;T5A.macd.days=T5A.days;T5A.macd.startFrom=T5A.startFrom;T5A.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};T5A.macd.outputs={_MACD:null,_Signal:null};m5A.Studies.calculateMACD(b6A,T5A.macd);for(var p5A=T5A.startFrom;p5A < o5A.length;p5A++){o4L="R";o4L+="esul";o4L+="t";o4L+=" ";u4L="_h";u4L+="is";u4L+="t";S4L="_h";S4L+="i";S4L+="s";S4L+="t";J4L="_MA";J4L+=" ";if(p5A === 0){a5A=M6A;}else if(o5A[p5A]["_MA " + T5A.name] > o5A[p5A - +"1"]["_MA " + T5A.name] && o5A[p5A][((6354,827.15) < (7680,988)?"_":(!{},100.33)) + T5A.name + "_hist"] > o5A[p5A - 1][(151 != 1560?"_":2122 != (5885,3270)?(0x1d97,"u"):("b",9.69e+3)) + T5A.name + "_hist"]){a5A=i6A;}else if(o5A[p5A][J4L + T5A.name] < o5A[p5A - 1]["_MA " + T5A.name] && o5A[p5A][((2102,3603) <= (9660,3010)?(953.82,7115) < (7450,+"599.62")?611.85:(! !1,2.60e+3):"_") + T5A.name + S4L] < o5A[p5A - 1][(535.12 == +"6140"?950.02:("657" & 2147483647) !== (1546,1170)?"_":(443.53,! ![])) + T5A.name + u4L]){a5A=E6A;}else {a5A=M6A;}o5A[p5A][o4L + T5A.name]=a5A;;}};m5A.Studies.calculateElderRay=function(h6A,z6A){var z4L,f6A,n4L;z4L="_hi";z4L+="s";z4L+="t";z4L+="1";f6A=z6A.chart.scrubbed;if(f6A.length < z6A.days){z6A.error=! !1;return;}m5A.Studies.MA("exponential",z6A.days,"Close",0,"_EMA",h6A,z6A);for(var t6A=Math.max(z6A.startFrom,z6A.days - ("1" - 0));t6A < f6A.length;t6A++){n4L="_";n4L+="E";n4L+="M";n4L+="A ";f6A[t6A][z6A.name + "_hist1"]=f6A[t6A].High - f6A[t6A]["_EMA " + z6A.name];f6A[t6A][z6A.name + "_hist2"]=f6A[t6A].Low - f6A[t6A][n4L + z6A.name];}z6A.outputMap={};z6A.outputMap[z6A.name + z4L]="";z6A.outputMap[z6A.name + "_hist2"]="";};m5A.Studies.calculateElderForce=function(L6A,C6A){var p4L,v6A;p4L="Res";z7QQ.k6D();p4L+="u";p4L+="l";p4L+="t";v6A=C6A.chart.scrubbed;if(v6A.length < C6A.days){C6A.error=! !{};return;}for(var g6A=Math.max(1,C6A.startFrom);g6A < v6A.length;g6A++){v6A[g6A]["_EF1 " + C6A.name]=v6A[g6A].Volume * (v6A[g6A].Close - v6A[g6A - +"1"].Close);}m5A.Studies.MA("exponential",C6A.days,"_EF1 " + C6A.name,+"0",p4L,L6A,C6A);};m5A.Studies.initElderImpulse=function(K6A,w6A,J6A,s6A,A6A,c6A){var z3D=z7QQ;var Y6A,T3e,h3e,V3e;Y6A=m5A.Studies.initializeFN(K6A,w6A,J6A,s6A,A6A,c6A);if(A6A.calculateOnly){return Y6A;}K6A.chart.customChart={chartType:"colored_bar",colorFunction:function(U6A,V6A,x6A){var w4L,n6A;w4L="objec";w4L+="t";n6A=V6A["Result " + Y6A.name];if(n6A && typeof n6A == w4L){n6A=n6A.color;}return n6A;}};T3e=- +"1128853153";z3D.g03(15);h3e=-z3D.I03("1677874919",748625792);V3e=2;for(var l3e=1;z3D.N9e(l3e.toString(),l3e.toString().length,81517) !== T3e;l3e++){K6A.setMainSeriesRenderer();V3e+=2;}if(z3D.E9e(V3e.toString(),V3e.toString().length,15849) !== h3e){K6A.setMainSeriesRenderer();}return Y6A;};m5A.Studies.displayElderForce=function(y6A,X6A,D6A){var H6A,d6A,P6A,r6A;m5A.Studies.displaySeriesAsLine(y6A,X6A,D6A);H6A=m5A.Studies.determineColor(X6A.outputs.Result);d6A=y6A.panels[X6A.panel];z7QQ.T6D();P6A=X6A.getYAxis(y6A);r6A={skipTransform:d6A.name != X6A.chart.name,panelName:X6A.panel,band:"Result " + X6A.name,threshold:0,color:H6A,yAxis:P6A};if(!X6A.highlight && y6A.highlightedDraggable){z7QQ.g03(12);r6A.opacity=z7QQ.I03("0.3",1);}r6A.direction=+"1";m5A.preparePeakValleyFill(y6A,r6A);r6A.direction=-1;m5A.preparePeakValleyFill(y6A,r6A);};m5A.Studies.displayElderRay=function(N6A,Q6A,F6A){var j6A,I6A,W6A,k6A,q6A,e4e,m4e,k4e,b4L,l6A,F4L,Q4L,C4L,L4L,G6A;j6A=N6A.panels[Q6A.panel];I6A=Q6A.getContext(N6A);W6A=Q6A.getYAxis(N6A);k6A=N6A.pixelFromPrice(0,j6A,W6A);q6A=N6A.layout.candleWidth - 2;if(q6A < 2){q6A=1;}e4e=1539160350;z7QQ.T6D();m4e=1163360991;k4e=2;for(var A4e=1;z7QQ.E9e(A4e.toString(),A4e.toString().length,82894) !== e4e;A4e++){N6A.canvasColor("");k4e+=2;}function S6A(R6A,B6A,u6A,Z6A){z7QQ.k6D();I6A.fillStyle=m5A.Studies.determineColor(Q6A.outputs[u6A]);I6A.fillRect(Math.floor(N6A.pixelFromBar(R6A,j6A.chart) - q6A / +"2" + q6A * B6A),Math.floor(k6A),Math.floor(q6A * (1 - 2 * B6A)),Math.floor(N6A.pixelFromPrice(G6A[Q6A.name + Z6A],j6A,W6A) - k6A));}if(z7QQ.N9e(k4e.toString(),k4e.toString().length,34632) !== m4e){b4L="st";b4L+="x_h";b4L+="ist";b4L+="ogram";N6A.canvasColor(b4L);}l6A=I6A.fillStyle;if(!Q6A.underlay){I6A.globalAlpha=1;}N6A.startClip(Q6A.panel);if(!Q6A.highlight && N6A.highlightedDraggable){I6A.globalAlpha*=0.3;}for(var e6A=0;e6A < F6A.length;e6A++){F4L="Elder Bea";F4L+="r Powe";F4L+="r";Q4L="_h";Q4L+="i";Q4L+="s";Q4L+="t1";C4L="_hist";C4L+="1";L4L="E";L4L+="l";L4L+="der Bul";L4L+="l Power";G6A=F6A[e6A];if(!G6A)continue;if(G6A.candleWidth){q6A=Math.floor(Math.max(1,G6A.candleWidth - +"2"));}if(G6A[Q6A.name + "_hist1"] > 0){S6A(e6A,0,L4L,C4L);}if(G6A[Q6A.name + "_hist2"] < 0){S6A(e6A,0,"Elder Bear Power","_hist2");}if(G6A[Q6A.name + "_hist1"] < 0){S6A(e6A,0.1,"Elder Bull Power",Q4L);}if(G6A[Q6A.name + "_hist2"] > 0){S6A(e6A,0.1,F4L,"_hist2");}}N6A.endClip();I6A.fillStyle=l6A;};m5A.Studies.studyLibrary=m5A.extend(m5A.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:m5A.Studies.calculateElderForce,seriesFN:m5A.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:m5A.Studies.displayElderRay,calculateFN:m5A.Studies.calculateElderRay,centerline:0,inputs:{Period:"13" * 1},outputs:{"Elder Bull Power":f4L,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:m5A.Studies.calculateElderImpulse,initializeFN:m5A.Studies.initElderImpulse,seriesFN:null,customRemoval:!"",underlay:! ![],inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(m6A,O6A){m6A.chart.customChart=null;m6A.setMainSeriesRenderer();}}});}};S1T=p6A=>{var T6A,z2e,p2e,w2e,R4L;T6A=typeof _CIQ !== "undefined"?_CIQ:p6A.CIQ;if(!T6A.Studies){z2e=68620566;p2e=-1160285911;w2e=2;for(var L2e=1;z7QQ.N9e(L2e.toString(),L2e.toString().length,64121) !== z2e;L2e++){console.error("fractalChaos feature requires first activating studies feature.");w2e+=2;}if(z7QQ.E9e(w2e.toString(),w2e.toString().length,"73704" << 1501365664) !== p2e){console.error("");}}else {R4L="Fractal Chaos";R4L+=" Bands";T6A.Studies.calculateFractalChaos=function(h1A,b1A){var V3D=z7QQ;var a6A,E1A,z1A,i1A,d4L,f1A,t1A,M1A,v4L;a6A=b1A.chart.scrubbed;E1A=0;z1A=0;i1A=0;if(b1A.startFrom && b1A.type == "Fractal Chaos Bands"){d4L="Fr";d4L+="a";d4L+="ctal Hi";d4L+="gh ";E1A=a6A[b1A.startFrom - ("1" << 1729914496)][d4L + b1A.name];z1A=a6A[b1A.startFrom - 1]["Fractal Low " + b1A.name];}for(var o6A=Math.max(4,b1A.startFrom);o6A < a6A.length;o6A++){if(a6A[o6A].futureTick)break;f1A=!isNaN(a6A[o6A].High);t1A=!isNaN(a6A[o6A].Low);if(f1A || t1A){a6A[o6A]["Result " + b1A.name]=0;}i1A=0;for(M1A=0;M1A <= o6A;M1A++){if(!a6A[o6A - M1A])break;if(a6A[o6A - M1A].High > a6A[o6A - 2].High)break;if(M1A < 2 && a6A[o6A - M1A].High == a6A[o6A - 2].High)break;if(a6A[o6A - M1A].High < a6A[o6A - 2].High){i1A++;}if(i1A == 4){E1A=a6A[o6A - "2" * 1].High;break;}}if(b1A.type == "Fractal Chaos Bands"){if(f1A){a6A[o6A]["Fractal High " + b1A.name]=E1A > ("0" & 2147483647)?E1A:null;}}else if(i1A == 4){V3D.g03(4);a6A[o6A]["Result " + b1A.name]=V3D.I03("1",0);}i1A=0;for(M1A=0;M1A <= o6A;M1A++){if(!a6A[o6A - M1A])break;if(a6A[o6A - M1A].Low < a6A[o6A - 2].Low)break;if(M1A < 2 && a6A[o6A - M1A].Low == a6A[o6A - +"2"].Low)break;if(a6A[o6A - M1A].Low > a6A[o6A - 2].Low){i1A++;}if(i1A == +"4"){z1A=a6A[o6A - 2].Low;break;}}if(b1A.type == "Fractal Chaos Bands"){v4L="Frac";v4L+="ta";v4L+="l Lo";v4L+="w ";if(t1A){a6A[o6A][v4L + b1A.name]=z1A > 0?z1A:null;}}else if(i1A == 4){V3D.g03(0);a6A[o6A]["Result " + b1A.name]=-V3D.I03(1855920960,"1");}}};T6A.Studies.studyLibrary=T6A.extend(T6A.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:T6A.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:R4L,overlay:! ![],calculateFN:T6A.Studies.calculateFractalChaos,seriesFN:T6A.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};W1T=v1A=>{var C1A,U4L,Z4L,g4L,H4L;C1A=typeof _CIQ !== "undefined"?_CIQ:v1A.CIQ;if(!C1A.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {U4L="Willi";U4L+="ams";U4L+=" %R";Z4L="Lowest Low V";Z4L+="al";Z4L+="u";Z4L+="e";g4L="Hi";g4L+="ghest";g4L+=" High V";g4L+="alue";H4L="Gopalak";H4L+="rishnan ";H4L+="Range Index";C1A.Studies.calculateMaxHighMinLow=function(n1A,g1A){var K3D=z7QQ;var I4L,P4L,L1A,c1A,s1A,w1A,A1A,K1A,q4L,J1A;I4L="L";I4L+="ow Period";P4L="H";P4L+="igh Perio";P4L+="d";L1A=g1A.chart.scrubbed;c1A=g1A.days;s1A=g1A.days;if(g1A.inputs[P4L]){c1A=g1A.inputs["High Period"];}if(g1A.inputs[I4L]){s1A=g1A.inputs["Low Period"];}if(L1A.length < Math.max(c1A,s1A) + 1){g1A.error=!"";return;}w1A=Number.MAX_VALUE;A1A=Number.MAX_VALUE * -1;K3D.T6D();if(g1A.startFrom > 1){for(K1A=1;K1A < c1A;K1A++){if(g1A.startFrom - K1A >= 0){A1A=Math.max(A1A,L1A[g1A.startFrom - K1A].High);}}for(K1A=1;K1A < s1A;K1A++){if(g1A.startFrom - K1A >= 0){w1A=Math.min(w1A,L1A[g1A.startFrom - K1A].Low);}}}for(var Y1A=Math.max(0,g1A.startFrom - 1);Y1A < L1A.length;Y1A++){q4L="H";q4L+="H";q4L+="V";A1A=Math.max(A1A,L1A[Y1A].High);w1A=Math.min(w1A,L1A[Y1A].Low);if(Y1A >= c1A){if(L1A[Y1A - c1A].High == A1A){A1A=L1A[Y1A].High;for(K1A=1;K1A < c1A;K1A++){A1A=Math.max(A1A,L1A[Y1A - K1A].High);}}}if(Y1A >= s1A){if(L1A[Y1A - s1A].Low == w1A){w1A=L1A[Y1A].Low;for(K1A=1;K1A < s1A;K1A++){w1A=Math.min(w1A,L1A[Y1A - K1A].Low);}}}J1A=0;if(g1A.type == q4L){J1A=A1A;}else if(g1A.type == "LLV"){J1A=w1A;}else if(g1A.type == "Donchian Width"){K3D.g03(4);J1A=K3D.I03(A1A,w1A);}else if(g1A.type == "GAPO" || g1A.type == "Gopala"){J1A=Math.log(A1A - w1A) / Math.log(s1A);}else if(g1A.type == "VT HZ Filter"){K3D.g03(4);J1A=K3D.I03(A1A,w1A);L1A[Y1A]["_MHML " + g1A.name]=J1A;continue;}else if(g1A.type == "Williams %R"){J1A=-100 * (A1A - L1A[Y1A].Close) / (A1A - w1A);L1A[Y1A]["Result " + g1A.name]=J1A;continue;}if(Y1A == L1A.length - 1)break;if(!L1A[Y1A + 1].futureTick){if(g1A.type == "Donchian Channel"){K3D.C03(2);L1A[K3D.J03(Y1A,1)]["Donchian High " + g1A.name]=A1A;K3D.C03(2);L1A[K3D.I03(Y1A,1)]["Donchian Low " + g1A.name]=w1A;K3D.g03(2);L1A[K3D.J03(Y1A,1)]["Donchian Median " + g1A.name]=K3D.J03(2,w1A,A1A,K3D.C03(7));}else {K3D.C03(2);L1A[K3D.I03(Y1A,1)]["Result " + g1A.name]=J1A;}}}};C1A.Studies.calculateVerticalHorizontalFilter=function(H1A,V1A){var U1A,X1A,y1A,r1A;U1A=V1A.chart.scrubbed;if(U1A.length < V1A.days + 1){V1A.error=! ![];return;}V1A.mhml=new C1A.Studies.StudyDescriptor(V1A.name,V1A.type,V1A.panel);V1A.mhml.chart=V1A.chart;V1A.mhml.days=V1A.days;V1A.mhml.startFrom=V1A.startFrom;V1A.mhml.inputs={};V1A.mhml.outputs={_MHML:null};C1A.Studies.calculateMaxHighMinLow(H1A,V1A.mhml);X1A=0;y1A=[];for(var x1A=Math.max(1,V1A.startFrom - V1A.days);x1A < U1A.length;x1A++){r1A=Math.abs(U1A[x1A].Close - U1A[x1A - 1].Close);y1A.push(r1A);X1A+=r1A;if(y1A.length == V1A.days){U1A[x1A]["Result " + V1A.name]=U1A[x1A]["_MHML " + V1A.name] / X1A;X1A-=y1A.shift();}}};C1A.Studies.studyLibrary=C1A.extend(C1A.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !1,calculateFN:C1A.Studies.calculateMaxHighMinLow,seriesFN:C1A.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !"1"},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:C1A.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:H4L,calculateFN:C1A.Studies.calculateMaxHighMinLow},HHV:{name:g4L,calculateFN:C1A.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:Z4L,calculateFN:C1A.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:U4L,calculateFN:C1A.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-("20" & 2147483647),studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:C1A.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(Q1A,D1A){var P1A,j4L;P1A=D1A.chart.scrubbed;z7QQ.T6D();for(var d1A=D1A.startFrom;d1A < P1A.length;d1A++){j4L="Resul";j4L+="t ";P1A[d1A][j4L + D1A.name]=P1A[d1A].High - P1A[d1A].Low;}},inputs:{}}});}};k1T=G1A=>{var N4L,N1A,E4L,a4L,K4L;z7QQ.k6D();N4L="un";N4L+="defi";N4L+="ned";N1A=typeof _CIQ !== N4L?_CIQ:G1A.CIQ;if(!N1A.Studies){E4L="ichimoku";E4L+=" feature requires ";E4L+="f";E4L+="irst activating studies feature.";console.error(E4L);}else {a4L="#FF0";a4L+="00";a4L+="0";K4L="#0";K4L+="0";K4L+="00FF";N1A.Studies.calculateIchimoku=function(R1A,I1A){var t4L,D4L,q1A,j1A,e1A,S1A,M4L,F1A,r4L,l1A,B1A,W1A;t4L="Con";t4L+="version Line Perio";t4L+="d";D4L="Base";D4L+=" Lin";D4L+="e";function k1A(T1A,O1A){var Z1A,m1A;Z1A=Number.MAX_VALUE;m1A=Number.MAX_VALUE * -("1" & 2147483647);for(var u1A=O1A - T1A + 1;u1A <= O1A;u1A++){if(u1A < 0)continue;Z1A=Math.min(Z1A,q1A[u1A].Low);m1A=Math.max(m1A,q1A[u1A].High);}z7QQ.T6D();return [Z1A,m1A];}D4L+=" Period";q1A=I1A.chart.scrubbed;j1A={Base:Number(I1A.inputs[D4L]),Conv:Number(I1A.inputs[t4L]),LeadB:Number(I1A.inputs["Leading Span B Period"]),Lag:Number(I1A.inputs["Lagging Span Period"])};for(e1A=I1A.startFrom;e1A < q1A.length;e1A++){M4L="Lagging ";M4L+="Span ";if(!q1A[e1A])continue;S1A=k1A(j1A.Conv,e1A);q1A[e1A]["Conversion Line " + I1A.name]=(S1A[+"1"] + S1A[0]) / 2;S1A=k1A(j1A.Base,e1A);q1A[e1A]["Base Line " + I1A.name]=(S1A["1" ^ 0] + S1A[0]) / 2;if(e1A < j1A.Lag)continue;q1A[e1A - j1A.Lag][M4L + I1A.name]=q1A[e1A].Close;}F1A=[];for(e1A=Math.max(0,I1A.startFrom - j1A.Base);e1A < q1A.length;e1A++){r4L="Conversion L";r4L+="ine ";S1A=k1A(j1A.LeadB,e1A);l1A=(q1A[e1A][r4L + I1A.name] + q1A[e1A]["Base Line " + I1A.name]) / 2;B1A=(S1A[1] + S1A[0]) / 2;if(q1A[e1A + j1A.Base]){q1A[e1A + j1A.Base]["Leading Span A " + I1A.name]=l1A;q1A[e1A + j1A.Base]["Leading Span B " + I1A.name]=B1A;}else {W1A={};W1A["Leading Span A " + I1A.name]=l1A;W1A["Leading Span B " + I1A.name]=B1A;F1A.push(W1A);}}I1A.appendFutureTicks(R1A,F1A);};N1A.Studies.displayIchimoku=function(o1A,p1A,L07){var a1A,M07,f07,v07,g07,b07,z07;a1A="Leading Span A " + p1A.name;M07="Leading Span B " + p1A.name;f07=N1A.Studies.determineColor(p1A.outputs[p1A.outputMap[a1A]]);v07=N1A.Studies.determineColor(p1A.outputs[p1A.outputMap[M07]]);g07=o1A.panels[p1A.panel];b07=p1A.getYAxis(o1A);z07={topBand:a1A,bottomBand:M07,topColor:f07,bottomColor:v07,skipTransform:g07.name != p1A.chart.name,topAxis:b07,bottomAxis:b07,opacity:+"0.3"};if(!p1A.highlight && o1A.highlightedDraggable){z07.opacity*=0.3;}N1A.fillIntersecting(o1A,p1A.panel,z07);N1A.Studies.displaySeriesAsLine(o1A,p1A,L07);};N1A.Studies.studyLibrary=N1A.extend(N1A.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:N1A.Studies.calculateIchimoku,seriesFN:N1A.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":K4L,"Base Line":a4L,"Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};F1T=A07=>{var x4L,Y07,T5L;x4L="undefi";x4L+="ned";Y07=typeof _CIQ !== x4L?_CIQ:A07.CIQ;if(!Y07.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {T5L="a";T5L+="u";T5L+="t";T5L+="o";Y07.Studies.calculateIntradayMomentum=function(I07,s07){var L3D=z7QQ;var V07,N07,d07,Q07,c4L,W4L,G07,e07;V07=s07.chart.scrubbed;N07=s07.days;if(V07.length < N07 + 1){s07.error=! ![];return;}L3D.C03(0);d07=L3D.J03(155268928,"0");Q07=0;if(s07.startFrom > 1){c4L="_to";c4L+="tUp ";d07=V07[s07.startFrom - ("1" - 0)][c4L + s07.name];Q07=V07[s07.startFrom - 1]["_totDn " + s07.name];}for(var y07=s07.startFrom;y07 < V07.length;y07++){W4L="_";W4L+="totDn ";G07=V07[y07].Close - V07[y07].Open;if(G07 > 0){d07+=G07;}else {Q07-=G07;}if(y07 >= N07){e07=V07[y07 - N07].Close - V07[y07 - N07].Open;if(e07 > 0){d07-=e07;}else {Q07+=e07;}}L3D.C03(64);V07[y07]["Result " + s07.name]=L3D.J03(Q07,d07,100,d07);V07[y07]["_totUp " + s07.name]=d07;V07[y07][W4L + s07.name]=Q07;}};Y07.Studies.studyLibrary=Y07.extend(Y07.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:Y07.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:70,studyOverBoughtColor:T5L,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};z7QQ.k6D();l1T=W07=>{z7QQ.k6D();var q07,B5L,V5L;q07=typeof _CIQ !== "undefined"?_CIQ:W07.CIQ;if(!q07.Studies){console.error("keltner feature requires first activating studies feature.");}else {B5L="a";B5L+="uto";V5L="e";V5L+="m";V5L+="a";q07.Studies.calculateKeltner=function(F07,k07){var h5L;h5L="C";h5L+="lo";h5L+="se";q07.Studies.MA(k07.inputs["Moving Average Type"],k07.days,h5L,0,"MA",F07,k07);q07.Studies.calculateStudyATR(F07,k07);q07.Studies.calculateGenericEnvelope(F07,k07,k07.inputs.Shift,"MA " + k07.name,"ATR " + k07.name);};q07.Studies.studyLibrary=q07.extend(q07.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !{},seriesFN:q07.Studies.displayChannel,calculateFN:q07.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":V5L,"Channel Fill":!""},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":B5L},attributes:{Shift:{min:"0.1" * 1,step:0.1}}}});}};B1T=B07=>{var l07,l5L,O5L;l07=typeof _CIQ !== "undefined"?_CIQ:B07.CIQ;if(!l07.Studies){l5L="klinger feature requires first activating studies";l5L+=" feat";l5L+="ure.";console.error(l5L);}else {O5L="Klinger ";O5L+="Volume Oscillator";l07.Studies.calculateKlinger=function(E47,Z07){var G5L,Y5L,p07,z47,a07,f47,M47,C47,b47,t47,h47,u07,y5L,i47;G5L="Kl";G5L+="i";G5L+="nger";G5L+="Signal";Y5L="e";Y5L+="xpon";Y5L+="enti";Y5L+="al";p07=Z07.chart.scrubbed;z47=Number(Z07.inputs["Short Cycle"]);a07=Number(Z07.inputs["Long Cycle"]);if(p07.length < Math.max(z47,a07) + +"1"){Z07.error=! ![];return;}f47=Z07.name + "_hist";M47="Klinger " + Z07.name;C47="KlingerSignal " + Z07.name;b47="_SV " + Z07.name;t47="_EMA-S " + Z07.name;h47="_EMA-L " + Z07.name;for(u07=Math.max(1,Z07.startFrom);u07 < p07.length;u07++){y5L="hl";y5L+="c";y5L+="/";y5L+="3";i47=p07[u07].Volume;if(p07[u07][y5L] < p07[u07 - +"1"]["hlc/3"]){i47*=-1;}if(i47){p07[u07][b47]=i47;}}z7QQ.C03(12);l07.Studies.MA("exponential",z47,b47,z7QQ.J03("0",1),"_EMA-S",E47,Z07);l07.Studies.MA("exponential",a07,b47,0,"_EMA-L",E47,Z07);for(u07=Math.max(a07,Z07.startFrom);u07 < p07.length;u07++){if(p07[u07].futureTick || p07[u07][t47] === null || p07[u07][h47] === null)break;p07[u07][M47]=p07[u07][t47] - p07[u07][h47];}l07.Studies.MA(Y5L,Number(Z07.inputs["Signal Periods"]),M47,0,G5L,E47,Z07);for(u07=Z07.startFrom;u07 < p07.length;u07++){p07[u07][f47]=p07[u07][M47] - p07[u07][C47];}Z07.outputMap[f47]="";};l07.Studies.studyLibrary=l07.extend(l07.Studies.studyLibrary,{Klinger:{name:O5L,seriesFN:l07.Studies.displayHistogramWithSeries,calculateFN:l07.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};R1T=g47=>{var v47,i5L,A5L,m5L,e5L;v47=typeof _CIQ !== "undefined"?_CIQ:g47.CIQ;if(!v47.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {i5L="a";i5L+="u";i5L+="t";i5L+="o";A5L="fie";A5L+="l";A5L+="d";m5L="Time";m5L+="Ser";m5L+="ies";e5L="T";e5L+="im";e5L+="eSeri";e5L+="es";v47.Studies.prettify["time series"]="tsma";v47.Studies.movingAverage.conversions.tsma="time series";v47.Studies.movingAverage.translations["time series"]="Time Series";v47.Studies.movingAverage.typeMap.tsma=e5L;v47.Studies.movingAverage.typeMap["time series"]=m5L;v47.Studies.calculateMovingAverageTimeSeries=function(U47,L47){var j3D=z7QQ;var A47,K47,w47,J47,s47,c47,n47,V47;L47.ma=new v47.Studies.StudyDescriptor(L47.name,"ma",L47.panel);L47.ma.chart=L47.chart;L47.ma.days=L47.days;L47.ma.startFrom=L47.startFrom;L47.ma.inputs=L47.inputs;v47.Studies.calculateLinearRegressionIndicator(U47,L47.ma);A47=L47.name;for(var x47 in L47.outputs){j3D.C03(45);A47=j3D.J03(A47,6309 == 3950?("U","g"):" ",x47);}K47=parseInt(L47.inputs.Offset,10);if(isNaN(K47)){K47=+"0";}w47=L47.chart.scrubbed;J47=K47;for(var Y47=L47.startFrom - 1;Y47 >= 0;Y47--){s47=w47[Y47][A47];if(!s47 && s47 !== "0" - 0)continue;if(J47 > 0){J47--;continue;}break;}c47=[];for(Y47++;Y47 < w47.length;Y47++){n47=w47[Y47];if(Y47 + K47 >= 0){if(Y47 + K47 < w47.length){j3D.C03(2);w47[j3D.I03(Y47,K47)][A47]=n47["Forecast " + L47.name];}else {V47={};V47[A47]=n47["Forecast " + L47.name];c47.push(V47);}}}L47.appendFutureTicks(U47,c47);};v47.Studies.calculateLinearRegressionIndicator=function(k47,X47){var D3D=z7QQ;var r47,D47,G47,q47,j47,d47,e47,Q47,I47,a9e,x9e,c9e,s5L,k5L,H47,P47,N47,S47,W47;r47=X47.chart.scrubbed;if(r47.length < X47.days + 1){X47.error=! ![];return;}D47=X47.inputs.Field;if(!D47 || D47 == "field"){D47="Close";}G47=X47.days * (X47.days + 1) / 2;q47=Math.pow(G47,2);j47=G47 * (2 * X47.days + 1) / +"3";d47=+"0";e47=0;Q47=0;if(X47.startFrom){I47=r47[X47.startFrom - 1]["_sums " + X47.name];if(I47){e47=I47[+"0"];d47=I47[1];a9e=-1651466683;x9e=- +"1741747909";c9e=2;for(var T2e=1;D3D.E9e(T2e.toString(),T2e.toString().length,79143) !== a9e;T2e++){Q47=I47[0];D3D.g03(0);c9e+=D3D.I03(210684800,"2");}if(D3D.N9e(c9e.toString(),c9e.toString().length,19866) !== x9e){Q47=I47[5];}Q47=I47[2];}}for(var y47=X47.startFrom;y47 < r47.length;y47++){s5L="Int";s5L+="ercept ";k5L="objec";k5L+="t";H47=r47[y47][D47];if(H47 && typeof H47 == k5L){H47=H47[X47.subField];}if(!H47 && H47 !== +"0")continue;e47+=X47.days * H47 - d47;d47+=H47;Q47+=Math.pow(H47,2);if(y47 < X47.days - 1)continue;else if(y47 > X47.days - 1){P47=r47[y47 - X47.days][D47];if(P47 && typeof P47 == "object"){P47=P47[X47.subField];}if(!P47 && P47 !== +"0")continue;d47-=P47;Q47-=Math.pow(P47,+"2");}N47=(X47.days * e47 - G47 * d47) / (X47.days * j47 - q47);r47[y47]["Slope " + X47.name]=N47;S47=(d47 - N47 * G47) / X47.days;r47[y47][s5L + X47.name]=S47;r47[y47]["Forecast " + X47.name]=S47 + N47 * X47.days;W47=(X47.days * j47 - q47) / (X47.days * Q47 - Math.pow(d47,"2" * 1));D3D.C03(65);r47[y47]["RSquared " + X47.name]=D3D.J03(N47,W47,N47);r47[y47]["_sums " + X47.name]=[e47,d47,Q47];}};v47.Studies.studyLibrary=v47.extend(v47.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!"",calculateFN:v47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !1,calculateFN:v47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:v47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:v47.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:A5L},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!"",calculateFN:v47.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" - 0,Field:"field"},outputs:{Forecast:i5L}}});}};u1T=l47=>{z7QQ.k6D();var F47,b5L,w5L,p5L;F47=typeof _CIQ !== "undefined"?_CIQ:l47.CIQ;if(!F47.Studies){console.error("macd feature requires first activating studies feature.");}else {b5L="#";b5L+="FF";b5L+="000";b5L+="0";w5L="#FF0";w5L+="00";w5L+="0";p5L="MA";p5L+="CD";F47.Studies.calculateMACD=function(a47,B47){var c3D=z7QQ;var z5L,n5L,S5L,J5L,X5L,m47,O47,R47,T47,p47,Z47,u47,M87,o5L,u5L,o47,b87,i87;z5L="_";z5L+="hi";z5L+="st";n5L="ex";n5L+="ponen";n5L+="tial";S5L="_";S5L+="MAC";S5L+="D";S5L+="1";J5L="fi";J5L+="e";J5L+="ld";X5L="Sig";X5L+="nal Period";m47=B47.chart.scrubbed;O47=B47.inputs;R47=B47.name;if(!B47.macd1Days){B47.macd1Days=parseFloat(O47["Fast MA Period"]);}if(!B47.macd2Days){B47.macd2Days=parseFloat(O47["Slow MA Period"]);}if(!B47.signalDays){B47.signalDays=parseFloat(O47[X5L]);}if(!B47.days){B47.days=Math.max(B47.macd1Days,B47.macd2Days,B47.signalDays);}if(m47.length < B47.days + 1){B47.error=!0;return;}T47=B47.inputs.Field;if(!T47 || T47 == J5L){T47="Close";}p47=O47["Moving Average Type"];if(!p47){p47="exponential";}F47.Studies.MA(p47,B47.macd1Days,T47,0,S5L,a47,B47);F47.Studies.MA(p47,B47.macd2Days,T47,0,"_MACD2",a47,B47);M87=Math.max(B47.startFrom,B47.days - 1);for(Z47=M87;Z47 < m47.length;Z47++){o5L="_MAC";o5L+="D2 ";u5L="_";u5L+="MAC";u5L+="D";u5L+="2 ";u47=m47[Z47];if((u47["_MACD1 " + R47] || u47["_MACD1 " + R47] === 0) && (u47[u5L + R47] || u47["_MACD2 " + R47] === 0)){c3D.g03(2);u47[c3D.I03("MACD ",R47)]=u47["_MACD1 " + R47] - u47[o5L + R47];}}o47=O47["Signal MA Type"];if(!o47){o47=n5L;}F47.Studies.MA(o47,B47.signalDays,"MACD " + R47,0,"Signal",a47,B47);c3D.g03(2);b87=c3D.J03(R47,z5L);for(Z47=M87;Z47 < m47.length;Z47++){u47=m47[Z47];c3D.C03(2);i87=u47[c3D.J03("Signal ",R47)];if(!i87 && i87 !== 0)continue;u47[b87]=u47["MACD " + R47] - u47["Signal " + R47];}B47.outputMap[b87]="";};F47.Studies.studyLibrary=F47.extend(F47.Studies.studyLibrary,{macd:{name:p5L,calculateFN:F47.Studies.calculateMACD,seriesFN:F47.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:w5L,"Increasing Bar":"#00DD00","Decreasing Bar":b5L}}});}};Z1T=z87=>{var E87;E87=typeof _CIQ !== "undefined"?_CIQ:z87.CIQ;z7QQ.k6D();if(!E87.Studies){console.error("massIndex feature requires first activating studies feature.");}else {E87.Studies.calculateMassIndex=function(g87,f87){var d5L,f5L,F5L,Q5L,C5L,t87,L5L,v87,v5L;d5L="_tota";d5L+="l ";f5L="_";f5L+="E";f5L+="M";f5L+="A2";F5L="_";F5L+="E";F5L+="MA";F5L+=" ";Q5L="expon";Q5L+="ential";C5L="_";C5L+="E";C5L+="M";C5L+="A";t87=f87.chart.scrubbed;if(t87.length < Math.max(9,f87.days + 1)){f87.error=! ![];return;}for(var C87=f87.startFrom;C87 < t87.length;C87++){L5L="_High-";L5L+="L";L5L+="ow ";t87[C87][L5L + f87.name]=t87[C87].High - t87[C87].Low;}E87.Studies.MA("exponential",9,"_High-Low " + f87.name,0,C5L,g87,f87);E87.Studies.MA(Q5L,9,F5L + f87.name,0,f5L,g87,f87);v87=0;z7QQ.T6D();if(t87[f87.startFrom - +"1"] && t87[f87.startFrom - ("1" - 0)][d5L + f87.name]){v87=t87[f87.startFrom - 1]["_total " + f87.name];}for(var h87=Math.max(17,f87.startFrom);h87 < t87.length;h87++){v5L="_tot";v5L+="al ";v87+=t87[h87]["_EMA " + f87.name] / t87[h87]["_EMA2 " + f87.name];if(h87 >= ("17" & 2147483647) + f87.days - 1){t87[h87]["Result " + f87.name]=v87;v87-=t87[h87 - f87.days + 1]["_EMA " + f87.name] / t87[h87 - f87.days + +"1"]["_EMA2 " + f87.name];}t87[h87][v5L + f87.name]=v87;}};E87.Studies.displayMassIndex=function(Y87,L87,s87){var R5L,K87,c87,A87,w87,J87;R5L="Bulge Thres";R5L+="hold";E87.Studies.displaySeriesAsLine(Y87,L87,s87);K87=L87.inputs[R5L];z7QQ.k6D();c87=Y87.panels[L87.panel];A87=L87.getYAxis(Y87);w87=E87.Studies.determineColor(L87.outputs.Result);J87={skipTransform:Y87.panels[L87.panel].name != L87.chart.name,panelName:L87.panel,band:"Result " + L87.name,threshold:K87,direction:+"1",color:w87,yAxis:A87,opacity:0.3};if(!L87.highlight && Y87.highlightedDraggable){J87.opacity*=0.3;}E87.preparePeakValleyFill(Y87,J87);E87.Studies.drawHorizontal(Y87,L87,null,K87,A87,w87);};E87.Studies.studyLibrary=E87.extend(E87.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:E87.Studies.displayMassIndex,calculateFN:E87.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};m1T=V87=>{z7QQ.k6D();var n87;n87=typeof _CIQ !== "undefined"?_CIQ:V87.CIQ;if(!n87.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {n87.Studies.calculateMoneyFlowIndex=function(I87,X87){var y3D=z7QQ;var P5L,x87,r87,y87,d87,N87,P87,G87,I5L,D87,e87,H87,Q87;P5L="Resu";P5L+="lt ";x87=X87.chart.scrubbed;if(x87.length < X87.days + 1){X87.error=! ![];return;}r87=0;y87=0;d87=x87[X87.startFrom - +"1"];N87="_rawMF " + X87.name;P87="_cumMF " + X87.name;G87=P5L + X87.name;if(d87 && d87[P87]){r87=d87[P87][0];y87=d87[P87][1];}for(var U87=X87.startFrom;U87 < x87.length;U87++){I5L="h";I5L+="lc";I5L+="/3";D87=x87[U87][I5L];if(U87 > 0 && !x87[U87].futureTick){y3D.C03(4);e87=x87[y3D.I03(U87,1)]["hlc/3"];H87=D87 * x87[U87].Volume;if(D87 > e87){r87+=H87;}else if(D87 < e87){H87*=- +"1";y87-=H87;}else {H87=0;}if(U87 > X87.days){Q87=x87[U87 - X87.days][N87];if(Q87 > 0){r87-=Q87;}else {y87+=Q87;}if(y87 === +"0"){x87[U87][G87]=100;}else if(x87[U87].Volume){y3D.g03(66);x87[U87][G87]=y3D.J03(y87,100,100,"1",1,r87);}}x87[U87][N87]=H87;x87[U87][P87]=[r87,y87];}}};n87.Studies.studyLibrary=n87.extend(n87.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:n87.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}}});}};O1T=j87=>{var q87,k3L,m3L,O3L,G3L,Y3L,y3L,l3L,B3L,g5L,H5L,q5L;z7QQ.T6D();q87=typeof _CIQ !== "undefined"?_CIQ:j87.CIQ;if(!q87.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {k3L="a";k3L+="u";k3L+="t";k3L+="o";m3L="a";m3L+="u";m3L+="t";m3L+="o";O3L="Perc";O3L+="en";O3L+="t";G3L="Poi";G3L+="nts";Y3L="fie";Y3L+="ld";y3L="au";y3L+="to";l3L="a";l3L+="u";l3L+="to";B3L="m";B3L+="a";g5L="H";g5L+="u";g5L+="ll";H5L="Hu";H5L+="l";H5L+="l";q5L="H";q5L+="u";q5L+="l";q5L+="l";q87.Studies.prettify=q87.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},q87.Studies.prettify);q87.extend(q87.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:q5L,"2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:H5L,hull:g5L,dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});q87.Studies.calculateMovingAverageHull=function(Z87,S87){var E5L,j5L,U5L,Z5L,k87,F87,W87,l87,N5L,B87,R87,m87,u87;E5L="_H";E5L+="M";E5L+="A";j5L="wm";j5L+="a";U5L="w";U5L+="m";U5L+="a";Z5L="fi";Z5L+="el";Z5L+="d";k87=S87.chart.scrubbed;F87=S87.inputs.Field;if(!F87 || F87 == Z5L){F87="Close";}q87.Studies.MA(U5L,S87.days,F87,0,"_WMA1",Z87,S87);q87.Studies.MA(j5L,Math.ceil(S87.days / 2),F87,0,"_WMA2",Z87,S87);for(W87=S87.startFrom - 1;W87 >= 0;W87--){l87=k87[W87][F87];if(l87 && typeof l87 == "object"){l87=l87[S87.subField];}if(l87 || l87 === 0)break;}for(W87++;W87 < k87.length;W87++){N5L="_";N5L+="WMA";N5L+="1 ";B87=k87[W87];B87["_MMA " + S87.name]=2 * B87["_WMA2 " + S87.name] - B87[N5L + S87.name];}R87=parseInt(S87.inputs.Offset,10);if(isNaN(R87)){R87=0;}m87=Math.floor(Math.sqrt(S87.days));q87.Studies.MA("wma",m87,"_MMA " + S87.name,R87,E5L,Z87,S87);u87=S87.name;for(var O87 in S87.outputs){z7QQ.g03(45);u87=z7QQ.I03(u87,5660 >= 9620?1290 == (+"866.76",543.62)?!0:(!"1",![]):" ",O87);}for(W87=Math.max(S87.days + m87 - 1,S87.startFrom);W87 < k87.length;W87++){k87[W87][u87]=k87[W87]["_HMA " + S87.name];}};q87.Studies.calculateMovingAverageDoubleExponential=function(E97,T87){var a5D=z7QQ;var M5L,t5L,D5L,M97,b97,o87,p87,a87,z97,i97,f97,t97,h97,C97;M5L="_E";M5L+="MA2";t5L="_";t5L+="EM";t5L+="A1";D5L="f";D5L+="ield";M97=T87.chart.scrubbed;b97=T87.inputs.Field;if(!b97 || b97 == D5L){b97="Close";}q87.Studies.MA("ema",T87.days,b97,0,t5L,E97,T87);q87.Studies.MA("ema",T87.days,"_EMA1 " + T87.name,0,M5L,E97,T87);o87=parseInt(T87.inputs.Offset,10);if(isNaN(o87)){o87=0;}z97=o87;for(p87=T87.startFrom - +"1";p87 >= 0;p87--){a87=M97[p87][b97];if(a87 && typeof a87 == "object"){a87=a87[T87.subField];}if(!a87 && a87 !== 0)continue;if(z97 > 0){z97--;continue;}break;}i97=T87.name;for(var v97 in T87.outputs){a5D.g03(45);i97=a5D.J03(i97,9910 != (686.31,6400)?" ":(0x22b5,0x22d4),v97);}f97=[];for(p87++;p87 < M97.length;p87++){if(p87 < 2 * (T87.days - 1))continue;t97=M97[p87];h97=2 * t97["_EMA1 " + T87.name] - t97["_EMA2 " + T87.name];if(p87 + o87 >= 0){if(p87 + o87 < M97.length){a5D.g03(2);M97[a5D.I03(p87,o87)][i97]=h97;}else {C97={};C97[i97]=h97;f97.push(C97);}}}T87.appendFutureTicks(E97,f97);};q87.Studies.calculateMovingAverageTripleExponential=function(s97,g97){var e5D=z7QQ;var K5L,r5L,A97,w97,Y97,L97,K97,n97,M3e,r3e,K3e,J97,V97,a5L,c97,U97,x97;K5L="_";K5L+="EM";K5L+="A2 ";r5L="em";r5L+="a";A97=g97.chart.scrubbed;w97=g97.inputs.Field;if(!w97 || w97 == "field"){w97="Close";}q87.Studies.MA("ema",g97.days,w97,"0" << 212921824,"_EMA1",s97,g97);q87.Studies.MA("ema",g97.days,"_EMA1 " + g97.name,0,"_EMA2",s97,g97);q87.Studies.MA(r5L,g97.days,K5L + g97.name,0,"_EMA3",s97,g97);Y97=parseInt(g97.inputs.Offset,10);if(isNaN(Y97)){Y97=0;}n97=Y97;for(L97=g97.startFrom - 1;L97 >= 0;L97--){K97=A97[L97][w97];if(K97 && typeof K97 == "object"){K97=K97[g97.subField];}if(!K97 && K97 !== 0)continue;if(n97 > 0){n97--;continue;}break;}M3e=554008367;r3e=1428985822;K3e=2;for(var x3e=1;e5D.E9e(x3e.toString(),x3e.toString().length,37487) !== M3e;x3e++){J97=g97.name;K3e+=2;}if(e5D.N9e(K3e.toString(),K3e.toString().length,90002) !== r3e){J97=g97.name;}for(var X97 in g97.outputs){e5D.C03(45);J97=e5D.J03(J97,+"693" > 421.93?" ":2141 < 2097?351.33:672.64 != 9450?"U":!"1",X97);}V97=[];for(L97++;L97 < A97.length;L97++){a5L="_";a5L+="EMA";a5L+="3 ";if(L97 < 3 * (g97.days - 1))continue;c97=A97[L97];U97=3 * c97["_EMA1 " + g97.name] - 3 * c97["_EMA2 " + g97.name] + c97[a5L + g97.name];if(L97 + Y97 >= 0){if(L97 + Y97 < A97.length){e5D.g03(2);A97[e5D.J03(L97,Y97)][J97]=U97;}else {x97={};x97[J97]=U97;V97.push(x97);}}}g97.appendFutureTicks(s97,V97);};q87.Studies.calculateMAEnvelope=function(P97,y97){var x5L,r97,H97,d97,c5L;x5L="p";z7QQ.T6D();x5L+="erce";x5L+="nt";r97=y97.inputs.Field;if(!r97 || r97 == "field"){r97="Close";}q87.Studies.MA(y97.inputs["Moving Average Type"],y97.days,r97,0,"MA",P97,y97);H97=y97.inputs["Shift Type"];d97=y97.inputs.Shift;if(!H97){H97="percent";d97=y97.inputs["Shift Percentage"];}if(H97 == x5L){z7QQ.g03(6);q87.Studies.calculateGenericEnvelope(P97,y97,z7QQ.J03(d97,100),"MA " + y97.name);}else if(H97 == "points"){c5L="M";c5L+="A";c5L+=" ";q87.Studies.calculateGenericEnvelope(P97,y97,null,c5L + y97.name,null,Number(d97));}};q87.Studies.calculateMADev=function(k97,D97){var T5D=z7QQ;var V3L,W5L,I97,N97,q97,j97,W97,T3L,G97,Q97,e97,h3L;V3L="_hi";V3L+="s";V3L+="t";W5L="Movi";W5L+="ng Average Type";I97=D97.chart.scrubbed;if(I97.length < D97.days + 1){D97.error=! ![];return;}N97=D97.inputs.Field;T5D.k6D();if(!N97 || N97 == "field"){N97="Close";}q97=D97.inputs["Points Or Percent"];if(!q97){q97="Points";}j97=D97.inputs[W5L];if(!j97){j97="exponential";}q87.Studies.MA(j97,D97.days,N97,0,"_MA",k97,D97);W97=D97.name + "_hist";for(var S97=Math.max(D97.startFrom,D97.days - 1);S97 < I97.length;S97++){T3L="obje";T3L+="ct";G97=I97[S97];Q97=G97[N97];if(Q97 && typeof Q97 == T3L){Q97=Q97[D97.subField];}e97=G97["_MA " + D97.name];if(e97 || e97 === 0){h3L="Po";h3L+="ints";if(q97 == h3L){T5D.g03(4);G97[W97]=T5D.J03(Q97,e97);}else {T5D.C03(67);G97[W97]=T5D.I03(1,Q97,100,e97);}}}D97.outputMap={};D97.outputMap[D97.name + V3L]="";};q87.Studies.studyLibrary=q87.extend(q87.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:q87.Studies.displayChannel,calculateFN:q87.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":B3L,"Channel Fill":! !{}},outputs:{"MA Env Top":"auto","MA Env Median":l3L,"MA Env Bottom":y3L},attributes:{Shift:{min:"0.1" - 0,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:q87.Studies.calculateMADev,seriesFN:q87.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:Y3L,"Moving Average Type":"ma","Points Or Percent":[G3L,O3L]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! !"1",seriesFN:q87.Studies.displayChannel,calculateFN:function(l97,F97){var e3L;e3L="Movi";e3L+="ng ";e3L+="Average Typ";e3L+="e";F97.inputs[e3L]="triangular";q87.Studies.calculateMAEnvelope(l97,F97);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":m3L,"High Low Bottom":k3L},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};T1T=R97=>{var B97;B97=typeof _CIQ !== "undefined"?_CIQ:R97.CIQ;if(!B97.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {B97.Studies.calculatePSAR=function(t27,T97){var k5D=z7QQ;var s3L,u97,p97,m97,o97,O97,b27,i27,a97,M27,E27,z27;s3L="Mi";function f27(){p97=0;m97=null;o97=!o97;}s3L+="nimum AF";u97=T97.chart.scrubbed;p97=+"0";m97=null;o97=!{};O97=0;b27=parseFloat(T97.inputs[s3L]);k5D.T6D();i27=parseFloat(T97.inputs["Maximum AF"]);if(T97.startFrom > 0){O97=u97[T97.startFrom - ("1" & 2147483647)]["Result " + T97.name];a97=u97[T97.startFrom - 1]["_state " + T97.name];if(a97 && a97.length == 3){p97=a97[0];m97=a97[1];o97=a97[2];}}for(var Z97=T97.startFrom - "1" * 1;Z97 < u97.length - 1;Z97++){if(Z97 < +"0")continue;if(u97[Z97].futureTick)break;M27=O97;if(o97){if(!m97 || m97 < u97[Z97].High){m97=u97[Z97].High;k5D.C03(2);p97=Math.min(k5D.J03(p97,b27),i27);}k5D.C03(68);O97=k5D.I03(M27,p97,M27,m97);E27=Math.min(u97[Math.max(1,Z97) - 1].Low,u97[Z97].Low);if(O97 > u97[Z97 + 1].Low){O97=m97;f27();}else if(O97 > E27){O97=E27;}}else {if(!m97 || m97 > u97[Z97].Low){m97=u97[Z97].Low;k5D.g03(2);p97=Math.min(k5D.I03(p97,b27),i27);}k5D.g03(68);O97=k5D.I03(M27,p97,M27,m97);z27=Math.max(u97[Math.max(1,Z97) - 1].High,u97[Z97].High);if(O97 < u97[Z97 + 1].High){O97=m97;f27();}else if(O97 < z27){O97=z27;}}k5D.C03(2);u97[k5D.I03(Z97,1)]["_state " + T97.name]=[p97,m97,o97];if(!isNaN(u97[Z97].High) || !isNaN(u97[Z97].Low)){k5D.C03(2);u97[k5D.J03(Z97,1)]["Result " + T97.name]=O97;}}};B97.Studies.studyLibrary=B97.extend(B97.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! !{},calculateFN:B97.Studies.calculatePSAR,seriesFN:B97.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};p1T=C27=>{var h27,A3L,R3L,v3L;h27=typeof _CIQ !== "undefined"?_CIQ:C27.CIQ;if(!h27.Studies){A3L="pivotPoints feature requires ";A3L+="first activating studies feature.";console.error(A3L);}else {R3L="#e";R3L+="364";R3L+="60";v3L="aut";v3L+="o";h27.Studies.calculatePivotPoints=function(K27,Y27){z7QQ.T6D();var i3L,g27,A27,X3L,s27,w27,v27,b3L,u3L,S3L,J3L,c27,n27,p3L,z3L,n3L,o3L,w3L;i3L="mi";i3L+="llis";i3L+="ec";i3L+="ond";g27=Y27.chart.scrubbed;A27="day";function J27(){v27.pivotPoint=(v27.high + v27.low + g27[L27 - 1].Close) / ("3" | 2);v27.prevHigh=v27.high;v27.prevLow=v27.low;v27.hlSpread=v27.high - v27.low;v27.high=v27.low=0;}if(K27.layout.interval == "day"){A27="month";}else if(h27.ChartEngine.isDailyInterval(K27.layout.interval)){A27="year";}else if(K27.layout.interval == "second" || K27.layout.interval == i3L || K27.layout.timeUnit == "second" || K27.layout.timeUnit == "millisecond"){A27="15min";}else {X3L="mi";X3L+="nu";X3L+="t";X3L+="e";s27=K27.layout.periodicity;if(K27.layout.interval != X3L){s27*=K27.layout.interval;}if(s27 >= 30){A27="week";}}w27=null;v27={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:"0" >> 245408416,hlSpread:0};if(Y27.startFrom > 1 && g27[Y27.startFrom - 1]["_pointers " + Y27.name]){v27=h27.clone(g27[Y27.startFrom - 1]["_pointers " + Y27.name]);}for(var L27=Math.max("1" | 1,Y27.startFrom);L27 < g27.length;L27++){b3L="_pointer";b3L+="s ";u3L="Pi";u3L+="vot";u3L+=" ";S3L="15";S3L+="min";J3L="mon";J3L+="th";if(!g27[L27 - 1])continue;v27.high=Math.max(v27.high,g27[L27 - 1].High);v27.low=Math.min(v27.low > 0?v27.low:g27[L27 - +"1"].Low,g27[L27 - 1].Low);if(Y27.inputs.Continuous){J27();}else if(A27 == "year" && g27[L27].DT.getYear() != g27[L27 - 1].DT.getYear()){J27();}else if(A27 == J3L && g27[L27].DT.getMonth() != g27[L27 - 1].DT.getMonth()){J27();}else if(A27 == "week" && g27[L27].DT.getDay() < g27[L27 - +"1"].DT.getDay()){J27();}else if(A27 == "day"){if(w27 === null){w27=h27.Studies.getMarketOffset({stx:K27,localQuoteDate:g27[L27].DT,shiftToDateBoundary:! ![]});}c27=new Date(new Date(+g27[L27].DT).setMilliseconds(g27[L27].DT.getMilliseconds() + w27));n27=new Date(new Date(+g27[L27 - +"1"].DT).setMilliseconds(g27[L27 - 1].DT.getMilliseconds() + w27));if(n27.getDate() !== c27.getDate() && n27.getDay() !== ("0" & 2147483647) && K27.chart.market.isMarketDate(c27)){w27=null;J27();}}else if(A27 == S3L && (g27[L27].DT.getHours() != g27[L27 - 1].DT.getHours() || Math.floor(g27[L27].DT.getMinutes() / 15) != Math.floor(g27[L27 - 1].DT.getMinutes() / 15))){J27();}g27[L27][u3L + Y27.name]=v27.pivotPoint;if(Y27.inputs.Type.toLowerCase() == "fibonacci"){p3L="S";p3L+="uppor";p3L+="t 3";p3L+=" ";z3L="Supp";z3L+="ort";z3L+=" ";z3L+="2 ";n3L="Res";n3L+="istance";n3L+=" ";n3L+="3 ";o3L="Resi";o3L+="stanc";o3L+="e ";o3L+="1 ";g27[L27][o3L + Y27.name]=v27.pivotPoint + 0.382 * v27.hlSpread;g27[L27]["Resistance 2 " + Y27.name]=v27.pivotPoint + 0.618 * v27.hlSpread;g27[L27][n3L + Y27.name]=v27.pivotPoint + v27.hlSpread;g27[L27]["Support 1 " + Y27.name]=v27.pivotPoint - 0.382 * v27.hlSpread;g27[L27][z3L + Y27.name]=v27.pivotPoint - 0.618 * v27.hlSpread;g27[L27][p3L + Y27.name]=v27.pivotPoint - v27.hlSpread;}else {w3L="Resist";w3L+="ance 2 ";g27[L27]["Resistance 1 " + Y27.name]=2 * v27.pivotPoint - v27.prevLow;g27[L27][w3L + Y27.name]=v27.pivotPoint + v27.hlSpread;g27[L27]["Resistance 3 " + Y27.name]=v27.prevHigh + +"2" * (v27.pivotPoint - v27.prevLow);g27[L27]["Support 1 " + Y27.name]=2 * v27.pivotPoint - v27.prevHigh;g27[L27]["Support 2 " + Y27.name]=v27.pivotPoint - v27.hlSpread;g27[L27]["Support 3 " + Y27.name]=v27.prevLow - 2 * (v27.prevHigh - v27.pivotPoint);}g27[L27][b3L + Y27.name]=h27.clone(v27);}};h27.Studies.displayPivotPoints=function(U27,V27,y27){z7QQ.k6D();var g5e,Z5e,U5e,d3L,f3L,F3L,Q3L,C3L,L3L,X27,x27;g5e=291973716;Z5e=2100030423;U5e=+"2";for(var N5e=+"1";z7QQ.N9e(N5e.toString(),N5e.toString().length,14045) !== g5e;N5e++){V27.noSlopes=!V27.inputs.Continuous;U5e+=2;}if(z7QQ.N9e(U5e.toString(),U5e.toString().length,"71489" - 0) !== Z5e){V27.noSlopes=-V27.inputs.Continuous;}h27.Studies.displaySeriesAsLine(U27,V27,y27);if(V27.inputs.Shading){d3L="Support 2";d3L+=" ";f3L="S";f3L+="u";f3L+="pport ";f3L+="1";F3L="P";F3L+="iv";F3L+="ot ";Q3L="Resistance";Q3L+=" 2";C3L="Resi";C3L+="st";C3L+="ance ";C3L+="1 ";L3L="Resist";L3L+="ance 3";L3L+=" ";X27=U27.panels[V27.panel];x27={noSlopes:V27.noSlopes,opacity:V27.parameters.opacity?V27.parameters.opacity:0.2,skipTransform:X27.name != V27.chart.name,yAxis:V27.getYAxis(U27)};if(!V27.highlight && U27.highlightedDraggable){x27.opacity*=0.3;}h27.prepareChannelFill(U27,h27.extend({panelName:V27.panel,topBand:L3L + V27.name,bottomBand:"Resistance 2 " + V27.name,color:h27.Studies.determineColor(V27.outputs["Resistance 3"])},x27));h27.prepareChannelFill(U27,h27.extend({panelName:V27.panel,topBand:"Resistance 2 " + V27.name,bottomBand:C3L + V27.name,color:h27.Studies.determineColor(V27.outputs[Q3L])},x27));h27.prepareChannelFill(U27,h27.extend({panelName:V27.panel,topBand:"Resistance 1 " + V27.name,bottomBand:"Pivot " + V27.name,color:h27.Studies.determineColor(V27.outputs["Resistance 1"])},x27));h27.prepareChannelFill(U27,h27.extend({panelName:V27.panel,topBand:"Support 1 " + V27.name,bottomBand:F3L + V27.name,color:h27.Studies.determineColor(V27.outputs[f3L])},x27));h27.prepareChannelFill(U27,h27.extend({panelName:V27.panel,topBand:"Support 2 " + V27.name,bottomBand:"Support 1 " + V27.name,color:h27.Studies.determineColor(V27.outputs["Support 2"])},x27));h27.prepareChannelFill(U27,h27.extend({panelName:V27.panel,topBand:"Support 3 " + V27.name,bottomBand:d3L + V27.name,color:h27.Studies.determineColor(V27.outputs["Support 3"])},x27));}};h27.Studies.studyLibrary=h27.extend(h27.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !1,seriesFN:h27.Studies.displayPivotPoints,calculateFN:h27.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:! !""},outputs:{Pivot:v3L,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":R3L,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};o1T=H27=>{var P3L,r27,Z3L;P3L="u";z7QQ.T6D();P3L+="ndefined";r27=typeof _CIQ !== P3L?_CIQ:H27.CIQ;if(!r27.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {Z3L="au";Z3L+="t";Z3L+="o";r27.Studies.calculatePrettyGoodOscillator=function(Q27,d27){var H3L,q3L,I3L,P27,g3L;H3L="_";H3L+="SMA";q3L="_";q3L+="E";q3L+="M";q3L+="A";I3L="trueR";I3L+="ange";P27=d27.chart.scrubbed;if(P27.length < d27.days + 1){d27.error=! ![];return;}r27.Studies.MA("exponential",d27.days,I3L,+"0",q3L,Q27,d27);r27.Studies.MA("simple",d27.days,"Close","0" ^ 0,H3L,Q27,d27);for(var D27=Math.max(1,d27.startFrom);D27 < P27.length;D27++){g3L="R";g3L+="e";g3L+="su";g3L+="lt ";if(!P27[D27]["_SMA " + d27.name] || !P27[D27]["_EMA " + d27.name])continue;P27[D27][g3L + d27.name]=(P27[D27].Close - P27[D27]["_SMA " + d27.name]) / P27[D27]["_EMA " + d27.name];}};r27.Studies.studyLibrary=r27.extend(r27.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:r27.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:"3" >> 1975989856,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:Z3L}}}});}};a1T=G27=>{var U3L,N27,h0f,T0f,W3L;U3L="undefin";U3L+="ed";z7QQ.T6D();N27=typeof _CIQ !== U3L?_CIQ:G27.CIQ;if(!N27.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {h0f="aut";h0f+="o";T0f="a";T0f+="u";T0f+="to";W3L="f";W3L+="ie";W3L+="l";W3L+="d";N27.Studies.calculatePMO=function(W27,e27){var c3L,x3L,a3L,K3L,r3L,M3L,D3L,E3L,N3L,j3L,j27,I27,S27,q27,k27,t3L;c3L="P";c3L+="M";c3L+="O";x3L="P";x3L+="M";x3L+="O";x3L+=" ";a3L="P";a3L+="M";a3L+="O";K3L="_E";K3L+="MAx10 ";r3L="expo";r3L+="nenti";r3L+="al";M3L="exp";M3L+="one";M3L+="ntia";M3L+="l";D3L="f";D3L+="ie";D3L+="ld";E3L="Sig";E3L+="nal Pe";E3L+="r";z7QQ.T6D();E3L+="iod";N3L="Do";N3L+="uble Smoothing";N3L+=" P";N3L+="eriod";j3L="Smoothing P";j3L+="erio";j3L+="d";j27={Smooth:Number(e27.inputs[j3L]) - 1,Double:Number(e27.inputs[N3L]) - 1,Signal:Number(e27.inputs[E3L])};I27=e27.chart.scrubbed;if(I27.length < j27.Smooth + j27.Double){e27.error=! !1;return;}S27=e27.inputs.Field;if(!S27 || S27 == D3L){S27="Close";}for(q27=e27.startFrom;q27 < I27.length;q27++){if(!I27[q27])continue;if(!I27[q27 - 1])continue;z7QQ.C03(69);k27=I27[z7QQ.J03("1",q27,0)][S27];if(k27){t3L="_ROCx1";t3L+="0 ";I27[q27][t3L + e27.name]=("1000" >> 238011456) * (I27[q27][S27] / k27 - 1);}}N27.Studies.MA(M3L,j27.Smooth,"_ROCx10 " + e27.name,0,"_EMAx10",W27,e27);N27.Studies.MA(r3L,j27.Double,K3L + e27.name,+"0",a3L,W27,e27);N27.Studies.MA("exponential",j27.Signal,x3L + e27.name,"0" * 1,"PMOSignal",W27,e27);e27.zoneOutput=c3L;};N27.Studies.studyLibrary=N27.extend(N27.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:N27.Studies.calculatePMO,inputs:{Field:W3L,"Smoothing Period":35,"Double Smoothing Period":+"20","Signal Period":10},outputs:{PMO:T0f,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:2.5,studyOverBoughtColor:h0f,studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};M0g=l27=>{var V4D=z7QQ;var r2e,K2e,a2e,F27,k0f,m0f,e0f,O0f,G0f;r2e=-801551473;K2e=676259314;V4D.g03(23);a2e=V4D.I03("2",2147483647);V4D.k6D();for(var c2e=1;V4D.E9e(c2e.toString(),c2e.toString().length,66544) !== r2e;c2e++){F27=typeof _CIQ !== "undefined"?_CIQ:l27.CIQ;a2e+=2;}if(V4D.E9e(a2e.toString(),a2e.toString().length,21800) !== K2e){F27=-_CIQ == ""?_CIQ:l27.CIQ;}if(!F27.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {k0f="vd";k0f+="m";k0f+="a";m0f="f";m0f+="i";m0f+="e";m0f+="ld";e0f="RA";e0f+="V";e0f+="I";O0f="Poi";O0f+="nt";O0f+="s";G0f="f";G0f+="i";G0f+="e";G0f+="ld";F27.Studies.calculatePriceOscillator=function(b37,B27){var B0f,V0f,T27,M37,p27,u27,Z27,l0f,o27,R27,m27,O27,y0f;B0f="Cl";B0f+="os";B0f+="e";V0f="Moving A";V0f+="vera";V0f+="ge";V0f+=" Type";T27=B27.chart.scrubbed;M37=Number(B27.inputs["Short Cycle"]);p27=Number(B27.inputs["Long Cycle"]);if(T27.length < Math.max(M37,p27) + 1){B27.error=! !{};return;}u27=B27.inputs.Field;Z27=B27.inputs[V0f];if(!Z27){Z27="simple";}if(!u27 || u27 == "field"){u27=B0f;}if(B27.parameters.isVolume){l0f="e";l0f+="xpon";l0f+="enti";l0f+="al";u27="Volume";Z27=l0f;}o27=B27.inputs["Points Or Percent"];if(!o27){o27="Percent";}F27.Studies.MA(Z27,M37,u27,0,"_Short MA",b37,B27);F27.Studies.MA(Z27,p27,u27,0,"_Long MA",b37,B27);for(var a27=Math.max(p27,B27.startFrom);a27 < T27.length;a27++){R27=T27[a27];if(!R27)continue;m27=R27["_Short MA " + B27.name];O27=R27["_Long MA " + B27.name];if((m27 || m27 === 0) && (O27 || O27 === 0)){y0f="Resul";y0f+="t ";if(o27 == "Points"){V4D.C03(4);R27[y0f + B27.name]=V4D.J03(m27,O27);}else {V4D.C03(67);R27["Result " + B27.name]=V4D.J03(1,m27,100,O27);}if(B27.outputs["Increasing Bar"]){R27[B27.name + "_hist"]=R27["Result " + B27.name];B27.outputMap={};B27.outputMap[B27.name + "_hist"]="";}}}};F27.Studies.displayRAVI=function(E37,i37,g37){V4D.T6D();var v37,f37,L37,Y37,h37,w37,J37,Y0f,z37,C37,K37,A37;v37=E37.panels[i37.panel];f37=i37.getContext(E37);L37=i37.getYAxis(E37);Y37=E37.pixelFromPrice(0,v37,L37);h37=E37.layout.candleWidth - ("2" - 0);if(h37 < 2){V4D.C03(23);h37=V4D.I03("1",2147483647);}w37=F27.Studies.determineColor(i37.outputs["Increasing Bar"]);J37=F27.Studies.determineColor(i37.outputs["Decreasing Bar"]);E37.startClip(i37.panel);E37.canvasColor("stx_histogram");if(!i37.underlay){f37.globalAlpha=1;}if(!i37.highlight && E37.highlightedDraggable){f37.globalAlpha*=0.3;}for(var t37=0;t37 < g37.length;t37++){Y0f="#";Y0f+="CCC";Y0f+="CCC";z37=g37[t37];V4D.C03(4);C37=g37[V4D.I03(t37,1)];if(!C37){C37=E37.getPreviousBar(E37.chart,i37.name + "_hist",t37);}if(!z37)continue;K37=0;A37=0;if(i37.parameters && i37.parameters.studyOverZonesEnabled){K37=parseFloat(i37.parameters.studyOverBoughtValue);A37=parseFloat(i37.parameters.studyOverSoldValue);}if(!C37){f37.fillStyle=Y0f;}else if(z37[i37.name + "_hist"] > K37 && C37[i37.name + "_hist"] < z37[i37.name + "_hist"]){f37.fillStyle=w37;}else if(z37[i37.name + "_hist"] < A37 && C37[i37.name + "_hist"] > z37[i37.name + "_hist"]){f37.fillStyle=J37;}else {f37.fillStyle="#CCCCCC";}if(z37.candleWidth){h37=Math.floor(Math.max(1,z37.candleWidth - 2));}f37.fillRect(Math.floor(E37.pixelFromBar(t37,v37.chart) - h37 / 2),Math.floor(Y37),Math.floor(h37),Math.floor(E37.pixelFromPrice(z37[i37.name + "_hist"],v37,L37) - Y37));}E37.endClip();};F27.Studies.studyLibrary=F27.extend(F27.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:F27.Studies.calculatePriceOscillator,inputs:{Field:G0f,"Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[O0f,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:F27.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:! !1}}},RAVI:{name:e0f,seriesFN:F27.Studies.displayRAVI,calculateFN:F27.Studies.calculatePriceOscillator,inputs:{Field:m0f,"Moving Average Type":k0f,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"0" * 1,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};b0g=c37=>{var s37,s0f,u0f,S0f,J0f,X0f;s37=typeof _CIQ !== "undefined"?_CIQ:c37.CIQ;if(!s37.Studies){s0f="primeNumber";s0f+=" feature requir";s0f+="es first activating studies feature.";console.error(s0f);}else {u0f="a";u0f+="uto";S0f="a";S0f+="ut";S0f+="o";J0f="Prime Numb";J0f+="er Band";J0f+="s";X0f="-1";X0f+=" t";X0f+="o";X0f+=" 1";s37.Studies.calculatePrimeNumber=function(G37,x37){var X37,d37,A0f,U37,V37,n37,i0f,y37,Q37,N37;X37=[];z7QQ.k6D();d37=x37.chart.scrubbed;function r37(e37){var q37;if(e37 <= 0){return !{};}else if(e37 != Math.floor(e37)){return ![];}else if(X37[e37] === ! !"1" || X37[e37] === !{}){return X37[e37];}q37=parseInt(Math.sqrt(e37),10);for(var I37=2;I37 <= q37;I37++){if(e37 % I37 === 0){X37[e37]=![];return ![];}}X37[e37]=!"";z7QQ.k6D();return !"";}for(var H37=x37.startFrom;H37 < d37.length;H37++){A0f="Prime Numb";A0f+="er Bands";U37=d37[H37];if(!U37)continue;V37=U37.High;if(!isNaN(V37)){for(var P37=0;V37 > 0 && V37 <= 10;P37++){V37*=10;}if(r37(V37)){V37+=2;}V37=Math.ceil(V37);if(V37 % 2 === "0" >> 1296961920){V37++;}while(!r37(V37)){z7QQ.g03(4);V37+=z7QQ.J03("2",0);}V37/=Math.pow(10,P37);}n37=U37.Low;if(!isNaN(n37)){for(var D37=0;n37 > 0 && n37 <= +"10";D37++){n37*=10;}if(r37(n37)){n37-=2;}n37=Math.floor(n37);if(n37 % ("2" | 0) === 0){n37--;}if(n37 > 0){while(!r37(n37)){n37-=2;}n37/=Math.pow(+"10",D37);}}if(x37.type == A0f){if(!isNaN(V37)){U37["Prime Bands Top " + x37.name]=V37;}if(!isNaN(n37)){U37["Prime Bands Bottom " + x37.name]=Math.max(0,n37);}}else {i0f="Res";i0f+="ul";i0f+="t";i0f+=" ";y37=0;Q37=x37.inputs["Tolerance Percentage"] * (V37 - n37) / +"100";N37=V37 + n37 - 2 * U37.Close;if(N37 < Q37){y37=1;}else if(N37 > Q37){y37=-1;}if(y37){U37[i0f + x37.name]=y37;}}}};s37.Studies.studyLibrary=s37.extend(s37.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:X0f,calculateFN:s37.Studies.calculatePrimeNumber,centerline:"0" - 0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:J0f,overlay:! !{},calculateFN:s37.Studies.calculatePrimeNumber,seriesFN:s37.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Prime Bands Top":S0f,"Prime Bands Bottom":"auto","Prime Bands Channel":u0f}}});}};i0g=S37=>{var o0f,j37,n0f,I0f,P0f;z7QQ.k6D();o0f="undefi";o0f+="ned";j37=typeof _CIQ !== o0f?_CIQ:S37.CIQ;if(!j37.Studies){n0f="pring f";n0f+="eature requires first a";n0f+="ctivating studi";n0f+="es feature.";console.error(n0f);}else {I0f="Pri";I0f+="ng's Special K";P0f="P";P0f+="ring's Know ";P0f+="Su";P0f+="re Thing";j37.Studies.calculateKST=function(m37,W37){var C0f,L0f,b0f,w0f,p0f,z0f,l37,R37,B37,u37,O37,F37,k37,F0f,Q0f,f0f,Z37;C0f="Signal";C0f+=" Peri";C0f+="od";L0f="Heavy SMA Peri";L0f+="od";b0f="Heaviest Ra";b0f+="te of Change Period";w0f="Light Rate of Ch";w0f+="ange";w0f+=" Per";w0f+="iod";p0f="Lighte";p0f+="st Rat";p0f+="e of Change Per";p0f+="iod";z0f="f";z0f+="ield";l37=W37.chart.scrubbed;R37=W37.inputs.Field;if(!R37 || R37 == z0f){R37="Close";}B37={};u37={};B37[1]=Number(W37.inputs[p0f]);B37[2]=Number(W37.inputs[w0f]);B37[+"3"]=Number(W37.inputs["Heavy Rate of Change Period"]);B37[4]=Number(W37.inputs[b0f]);u37[+"1"]=Number(W37.inputs["Lightest SMA Period"]);u37[2]=Number(W37.inputs["Light SMA Period"]);u37[3]=Number(W37.inputs[L0f]);u37[4]=Number(W37.inputs["Heaviest SMA Period"]);z7QQ.k6D();O37=Number(W37.inputs[C0f]);for(F37=W37.startFrom;F37 < l37.length;F37++){if(!l37[F37])continue;for(k37=1;k37 <= 4;k37++){if(F37 >= B37[k37] && l37[F37 - B37[k37]] && l37[F37 - B37[k37]][R37]){l37[F37]["_ROC" + k37 + (6770 >= (2270,566.9)?" ":!{}) + W37.name]=100 * (l37[F37][R37] / l37[F37 - B37[k37]][R37] - 1);}}}for(k37="1" >> 1563917216;k37 <= 4;k37++){F0f="_";F0f+="S";F0f+="MA";Q0f="_";Q0f+="R";Q0f+="O";Q0f+="C";j37.Studies.MA("simple",u37[k37],Q0f + k37 + " " + W37.name,0,F0f + k37,m37,W37);}for(F37=W37.startFrom;F37 < l37.length;F37++){l37[F37]["KST " + W37.name]=null;for(k37=1;k37 <= "4" - 0;k37++){f0f="_S";f0f+="M";f0f+="A";Z37=l37[F37][f0f + k37 + (("55.26" - 0,+"4955") == (6970,60)?3.18e+3:9968 > 350.91?" ":(6227,668.51) < 1060?"X":("g",!0)) + W37.name];if(Z37 || Z37 === 0){z7QQ.C03(12);l37[F37]["KST " + W37.name]+=z7QQ.J03(k37,Z37);}}}j37.Studies.MA("simple",O37,"KST " + W37.name,0,"KSTSignal",m37,W37);};j37.Studies.calculateSpecialK=function(V57,M57){var d0f,o37,b57,a37,J57,s57,p37,T37,R0f,v0f,n57;d0f="fi";d0f+="e";d0f+="ld";o37=M57.chart.scrubbed;b57=M57.inputs.Field;if(!b57 || b57 == d0f){b57="Close";}a37=M57.inputs.Interval;if(!a37){a37="daily";}J57={daily:[10,+"15","20" ^ 0,30,50,65,75,100,"195" - 0,+"265",390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]};s57={daily:["10" ^ 0,10,10,15,50,65,+"75",+"100",130,130,130,195],weekly:[4,5,6,"8" ^ 0,10,13,"15" & 2147483647,+"20",26,26,+"26",39]};for(p37=M57.startFrom;p37 < o37.length;p37++){if(!o37[p37])continue;for(T37=0;T37 < J57[a37].length;T37++){if(p37 >= J57[a37][T37] && o37[p37 - J57[a37][T37]] && o37[p37 - J57[a37][T37]][b57]){o37[p37]["_ROC" + T37 + ((5770,7640) == 1670?+"936.74":" ") + M57.name]=+"100" * (o37[p37][b57] / o37[p37 - J57[a37][T37]][b57] - 1);}}}for(T37=0;T37 < s57[a37].length;T37++){j37.Studies.MA(a37 == "daily"?"simple":"exponential",s57[a37][T37],"_ROC" + T37 + " " + M57.name,0,"_MA" + T37,V57,M57);}for(p37=M57.startFrom;p37 < o37.length;p37++){o37[p37]["Result " + M57.name]=null;for(T37=0;T37 < s57[a37].length;T37++){R0f="R";R0f+="esult ";v0f="_";v0f+="M";v0f+="A";n57=o37[p37][v0f + T37 + " " + M57.name];if(n57 || n57 === +"0"){z7QQ.C03(70);o37[p37][R0f + M57.name]+=z7QQ.J03(4,T37,1,n57);}}}};j37.Studies.studyLibrary=j37.extend(j37.Studies.studyLibrary,{"Pring KST":{name:P0f,calculateFN:j37.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":"10" ^ 0,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":+"9"},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:I0f,calculateFN:j37.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};E0g=H57=>{var X57,G57,s8f,k8f,m8f,e8f,O8f,G8f,Y8f,y8f,l8f,B8f,V8f,h8f;X57=typeof _CIQ !== "undefined"?_CIQ:H57.CIQ;G57=typeof _timezoneJS !== "undefined"?_timezoneJS:H57.timezoneJS;if(!X57.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {s8f="hh:mm";s8f+=":ss";k8f="Projected Aggregate V";k8f+="olume";m8f="+";m8f+="5";m8f+="0";m8f+="%";e8f="hh:mm";e8f+=":s";e8f+="s";O8f="#";O8f+="8c";O8f+="c1";O8f+="76";G8f="#c";G8f+="f";G8f+="bd0";G8f+="e";Y8f="-15";Y8f+="0%";y8f="-100";y8f+="%";l8f="N";l8f+="one";B8f="+";B8f+="50%";V8f="+";V8f+="7";V8f+="5";V8f+="%";h8f="0 t";h8f+="o ma";h8f+="x";X57.Studies.initProjectedVolume=function(k57,R57,j57,u57,m57,o57){var e57,q0f,B57;var {market:F57}=k57.chart;e57="00:00";z7QQ.k6D();if(F57){e57=F57.getNormalOpen();}if(e57.match(/^[\d]{2}:[\d]{2}$/)){e57+=":00";}if(!j57["Anchor Time"] || !j57["Anchor Time"].length){q0f="An";q0f+="cho";q0f+="r";q0f+=" Time";j57[q0f]=e57;}B57=X57.Studies.initializeFN(k57,R57,j57,u57,m57,o57);if(!k57.currentlyImporting){B57.defaultAnchorTime=e57;}return B57;};X57.Studies.validateProjectedVolumeLookback=function(E0t,z0t){var {interval:M0t, periodicity:b0t}=E0t.layout;var {"Lookback Days":i0t}=z0t.inputs;z7QQ.g03(71);return z7QQ.I03(i0t,M0t,10,b0t);};X57.Studies.calculateProjectedVolume=function(h0t,f0t){var W5D=z7QQ;var K0f,N0f,j0f,Z0f,g0f,H0f,p0t,w0t,V0t,U0f,a0t,M4t,q0t,j0t,C0t,S0t,U4t,v0t,W0t,k0t,b4t,F0t,D0f,J0t,l0t,x4t,A0t,X4t,H0t,g0t,Q0t,Y0t,U0t,E4t,z4t,f4t,t4t,R0t,u0t,e0t,H4t,h4t,E0f,x0t,X0t,I0t,d4t,Z0t,r0f,M0f,L0t,C4t,v4t,m0t,g4t,d0t,t0f;K0f="A";K0f+="verage";function y0t(I4t){W5D.k6D();return {hours:I4t.getHours(),minutes:I4t.getMinutes()};}K0f+=" ";K0f+="Line";N0f="P";N0f+="V";N0f+=" ";j0f="V";j0f+=" ";Z0f="m";function K4t(W4t){var a0f;a0f="s";a0f+="cru";a0f+="bbe";a0f+="d";return h0t.tickFromDate(W4t,null,null,! ![],a0f);}Z0f+="in";Z0f+="ut";Z0f+="e";g0f="t";g0f+="i";g0f+="c";g0f+="k";H0f="P";H0f+="A";H0f+="V";var {interval:w4t, timeUnit:O0t, aggregationType:T0t}=h0t.layout;var {symbol:J4t, scroll:s4t, scrubbed:t0t, market:K0t}=h0t.chart;p0t=f0t.type === H0f;function Y4t(q4t,j4t,S4t){while(j4t){q4t=new Date(new Date(q4t).setDate(q4t.getDate() + (S4t?1:-1)));if(K0t.isMarketDate(q4t)){j4t--;}}return q4t;}w0t=f0t.study?f0t.study.name:f0t.type;if(X57.ChartEngine.isDailyInterval(w4t)){f0t.error=`${w0t} is Intraday Only`;}else if(O0t === g0f){f0t.error=`Tick mode not supported for ${w0t}`;}else if(O0t !== Z0f){f0t.error=`Sub-minute periodicities not supported for ${w0t}`;}else if(!T0t || !["ohlc","heikinashi"].includes(T0t)){f0t.error=`Aggregation type not supported for ${w0t}`;}else if(!X57.Studies.validateProjectedVolumeLookback(h0t,f0t)){f0t.error=`Selected lookback/periodicity combo not supported for ${w0t}`;}if(f0t.error){return;}if(f0t.inputs["Anchor Selector"]){X57.Studies.initAnchorHandle(h0t,f0t);}else {X57.Studies.removeAnchorHandle(h0t,f0t);}V0t=K0t?K0t.getNormalOpen():"00:00";if(V0t.match(/^[\d]{2}:[\d]{2}$/)){V0t+=":00";}function A4t(k4t){W5D.T6D();return h0t.dateFromTick(k4t,null,! !"1","scrubbed");}if(!h0t.currentlyImporting && V0t !== f0t.defaultAnchorTime){U0f="A";U0f+="n";U0f+="ch";U0f+="or Time";f0t.defaultAnchorTime=V0t;f0t.inputs[U0f]=V0t;X57.Studies.repositionAnchor(h0t,f0t);return;}var {"Lookback Days":D0t, "Anchor Time":c4t}=f0t.inputs;var [n4t,V4t,o0t = 0]=c4t.split((779.49,986.84) > (1670,+"1702")?(6.96e+3,! !"1"):":");a0t=X57.Market.Symbology.isForexSymbol(J4t);function P0t(Z4t,m4t){var R4t,u4t,B4t;R4t=A4t(Z4t);u4t=K0t.getOpen(R4t) || P4t(R4t);B4t=K4t(u4t);if(!m4t){return B4t;}if(B4t < 0){B4t=K4t(Y4t(u4t,1,! ![]));}if(B4t >= t0t.length){return ! !"";}return B4t;}M4t=f0t.getDependents(h0t);q0t=0;j0t=[];M4t.forEach(({inputs:D4t, outputMap:Q4t})=>{if(D4t.Period){q0t=Math.max(parseInt(D4t.Period),q0t);j0t.push(...Object.keys(Q4t));}});f0t.dependentsOutputMap=j0t;S0t=P0t(t0t.length - 1,!"");U4t=Math.ceil(t0t.length - 1 - s4t);W5D.g03(4);v0t=P0t(W5D.J03(U4t,q0t));if(a0t && t0t[v0t] && X57.dateToStr(t0t[v0t].DT,"HH:mm") !== V0t){W5D.g03(4);v0t=P0t(W5D.J03(v0t,1));;}if(!a0t && f0t.startFrom > v0t && t0t[v0t] && t0t[v0t][j0f + f0t.name] !== undefined && j0t.every(N4t=>{return ![undefined,null].includes(t0t[v0t][N4t]);}) && S0t !== !{}){C0t=S0t;;}else {C0t=v0t;}W0t=Y4t(A4t(v0t),D0t);W0t.setHours(0,+"0",0);function L4t(e4t){W5D.k6D();console.error(`Expected data for ${A4t(e4t).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}k0t=P0t(0,! ![]);function P4t(F4t){var l4t;F4t.setHours(0);F4t.setMinutes(0);l4t=X57.Studies.getMarketOffset({stx:h0t,localQuoteDate:F4t});return new Date(F4t.getTime() + l4t);}b4t=(k0t || k0t === 0) && K4t(Y4t(t0t[k0t].DT,D0t,! !1));if(t0t[0].DT > W0t){if(h0t.quoteDriver){h0t.quoteDriver.extendHistoricalData({from:W0t});if(b4t > "0" * 1){C0t=b4t;}else {return;}}else {return f0t.error=`Not enough data to calculate ${w0t}`;}}if(C0t < 0 || C0t > t0t.length - 1){return;}F0t=t0t.length - f0t.startFrom === 1 && f0t.cachedFutureTicks && f0t.cachedLastProjection && +f0t.cachedLastProjection.DT === +t0t[t0t.length - 1].DT && t0t[C0t][N0f + f0t.name];if(F0t){t0t[t0t.length - 1]["PV " + f0t.name]=f0t.cachedLastProjection.projectedValue;f0t.appendFutureTicks(h0t,f0t.cachedFutureTicks);C0t=f0t.startFrom;}else {D0f="P";D0f+="V";D0f+=" ";f0t.cachedFutureTicks=null;f0t.cachedLastProjection=null;J0t=[S0t];l0t=[];for(var i4t=0;i4t < D0t;i4t++){x4t=P0t(J0t[0] - 1);J0t.unshift(x4t);;}while(J0t[D0t] >= C0t){A0t=J0t.pop();if(!t0t[A0t]){return L4t(A0t);}X4t=y0t(t0t[A0t].DT);var {hours:s0t, minutes:r0t}=X4t;H0t=K0t.getClose(t0t[A0t].DT);g0t=void 0;if(!H0t){g0t={hours:24,minutes:0};}else {Q0t=K0t.getNextClose(t0t[A0t].DT);g0t=y0t(H0t);while(!(g0t.hours === ("0" & 2147483647) && g0t.minutes === 0) && H0t.getDate() === Q0t.getDate()){H0t=Q0t;Q0t=K0t.getNextClose(Q0t);}g0t=y0t(H0t);if(g0t.hours === +"0"){g0t.hours=24;}}Y0t=J0t.slice();for(var N0t="0" >> 1136026496;N0t < Y0t.length;N0t++){U0t=Y0t[N0t];if(!t0t[U0t]){return L4t(U0t);}var {hours:G0t, minutes:B0t}=y0t(t0t[U0t].DT);if(G0t < s0t || G0t === s0t && B0t < r0t){do {U0t++;({hours:G0t, minutes:B0t}=y0t(t0t[U0t].DT));}while(!(G0t === s0t && B0t === r0t));}Y0t[N0t]=U0t;}while(s0t < g0t.hours || s0t === g0t.hours && r0t < g0t.minutes){E4t=! !"";z4t=void 0;f4t=void 0;t4t=0;R0t=0;for(var c0t="0" << 726145696;c0t < Y0t.length;c0t++){u0t=Y0t[c0t];if(u0t === null)continue;e0t=t0t[u0t];if(!e0t){return L4t(u0t);}var {hours:y4t, minutes:r4t}=y0t(e0t.DT);H4t=e0t.DT.getDate();if(y4t === s0t && r4t === r0t){t4t+=e0t.Volume;R0t++;Y0t[c0t]++;if(t0t[Y0t[c0t]].DT.getDate() !== H4t){Y0t[c0t]=null;}else if(!E4t){({hours:z4t, minutes:f4t}=y0t(t0t[Y0t[c0t]].DT));E4t=!0;;}}}s0t=z4t;r0t=f4t;if(R0t === 0)break;W5D.C03(6);h4t=W5D.J03(t4t,R0t);if(t0t[A0t]){t0t[A0t]["PV " + f0t.name]=h4t;}else {E0f="P";E0f+="V";E0f+=" ";l0t.push({[E0f + f0t.name]:h4t});}A0t++;}J0t.unshift(P0t(J0t[0] - 1));;}f0t.cachedLastProjection={DT:t0t[t0t.length - 1].DT,projectedValue:t0t[t0t.length - 1][D0f + f0t.name]};f0t.cachedFutureTicks=l0t;f0t.appendFutureTicks(h0t,l0t);}x0t=null;X0t=0;I0t=0;if(F0t && p0t){while(C0t > 0){W5D.g03(4);Z0t=t0t[W5D.J03(C0t,1)]["V " + f0t.name];if(Z0t || Z0t === 0){X0t=Z0t;break;}C0t--;}}for(var n0t=C0t;n0t < t0t.length;n0t++){r0f="P";r0f+="V";r0f+=" ";M0f="V";M0f+=" ";L0t=t0t[n0t];C4t=L0t.Volume;v4t=L0t["PV " + f0t.name];if(!L0t.futureTick){d4t=n0t;}if(x0t === null){x0t=X57.Studies.getMarketOffset({stx:h0t,localQuoteDate:t0t[n0t].DT,shiftToDateBoundary:!""});}m0t=new Date(new Date(L0t.DT).getTime() + x0t);g4t=t0t[n0t - 1] && new Date(new Date(t0t[n0t - "1" * 1].DT).getTime() + x0t);d0t=new G57.Date(L0t.DT,K0t.market_def.market_tz || "America/New_York");d0t.setHours(n4t,V4t,o0t);W5D.g03(2);d0t=new Date(W5D.I03(d0t,x0t));d0t.setDate(m0t.getDate());if(g4t && m0t.getDate() !== g4t.getDate()){x0t=null;X0t=0;I0t=0;}if(m0t < d0t){t0f="P";t0f+="V ";L0t["V " + f0t.name]=0;L0t[t0f + f0t.name]=0;continue;}if(p0t){X0t+=C4t;I0t+=v4t;}else {X0t=C4t;I0t=v4t;}L0t[M0f + f0t.name]=X0t;if(!F0t){L0t[r0f + f0t.name]=I0t;}if([NaN,null,undefined].includes(X0t) && !L0t.futureTick){f0t.error=`${w0t} requires volume`;return;}}f0t.cachedLastProjection.projectedValue=t0t[d4t]["PV " + f0t.name];f0t.outputMap={};f0t.outputMap["V " + f0t.name]="";f0t.outputMap["PV " + f0t.name]=K0f;M4t.forEach(G4t=>{W5D.k6D();G4t.startFrom=C0t;G4t.study.calculateFN(h0t,G4t);});};X57.Studies.displayProjectedVolume=function(T4t,O4t,p4t){var c0f,x0f,M7t,o4t,b7t,i7t,E7t,f7t,t7t;c0f="V";c0f+=" ";x0f="Ale";x0f+="rt Bar";if(O4t.error){return X57.Studies.removeAnchorHandle(T4t,O4t);}var {"Alert Threshold":a4t = ""}=O4t.inputs;M7t=parseInt(a4t.slice(+"0",-1),10) / 100;o4t=O4t.outputs[x0f];if(typeof o4t === "object"){o4t=o4t.color;}O4t.volumeField=c0f + O4t.name;O4t.plotStepLine=! !1;O4t.alignStepToSide=!"";O4t.extendToEndOfLastBar=! !{};O4t.lineWidth=2;b7t=T4t.canvasStyle("stx_volume_underlay_up").opacity;i7t=T4t.canvasStyle("stx_volume_underlay_down").opacity;O4t.colorFunction=function(C7t){var L1D=z7QQ;var W0f,w7t,h7t,J7t,v7t,A0L,i0L,X0L,g7t,L7t;W0f="P";W0f+="V ";var {Open:Y7t, Close:K7t, iqPrevClose:A7t}=C7t;w7t=T4t.colorByCandleDirection?Y7t:A7t;L1D.g03(72);h7t=L1D.J03(w7t,K7t);J7t=C7t[W0f + O4t.name];v7t=C7t["V " + O4t.name];A0L=800869798;i0L=-711874002;X0L=2;for(var S0L="1" | 1;L1D.E9e(S0L.toString(),S0L.toString().length,21625) !== A0L;S0L++){L1D.g03(73);g7t=L1D.J03(J7t,M7t,2);L7t=M7t <= 9?v7t > g7t:v7t <= g7t;return {fill_color:(L7t || o4t) && (h7t?this.fill_color_down:this.fill_color_up),border_color:h7t?this.border_color_down:this.border_color_up,opacity:L7t?4:h7t?i7t:b7t,border_opacity:h7t?i7t:b7t};}if(L1D.N9e(X0L.toString(),X0L.toString().length,"10104" - 0) !== i0L){L1D.C03(74);g7t=L1D.J03(1,M7t,J7t);L7t=M7t < +"0"?v7t < g7t:v7t > g7t;return {fill_color:L7t && o4t || (h7t?this.fill_color_down:this.fill_color_up),border_color:h7t?this.border_color_down:this.border_color_up,opacity:L7t?1:h7t?i7t:b7t,border_opacity:h7t?i7t:b7t};}};E7t=O4t.study?O4t.study.name:O4t.type;var {loadingMore:z7t}=T4t.chart;f7t=p4t.some(s7t=>{var T8f;T8f="P";T8f+="V";T8f+=" ";return s7t && s7t[O4t.volumeField] && s7t[T8f + O4t.name];});t7t=p4t[0] && !p4t[0].futureTick && (p4t[0]["PV " + O4t.name] === undefined || (O4t.dependentsOutputMap || []).some(c7t=>{return [undefined,null].includes(p4t[0][c7t]);}));if(!f7t && z7t){return O4t.error=`Fetching data for ${E7t}`;}X57.Studies.createVolumeChart(T4t,O4t,p4t);X57.Studies.displaySeriesAsLine(T4t,O4t,p4t);if(O4t.anchorHandle){X57.Studies.displayAnchorHandleAndLine(T4t,O4t,p4t);}if(t7t){X57.Studies.calculateProjectedVolume(T4t,O4t);}};X57.Studies.studyLibrary=X57.extend(X57.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:h8f,yAxis:{ground:! !{},initialMarginTop:0,zoom:+"0"},calculateFN:X57.Studies.calculateProjectedVolume,seriesFN:X57.Studies.displayProjectedVolume,initializeFN:X57.Studies.initProjectedVolume,removeFN:X57.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%",V8f,B8f,"+25%",l8f,"-25%","-50%","-75%",y8f,"-125%",Y8f],"Anchor Selector":! !1},outputs:{"Average Line":"#fe641c","Alert Bar":G8f,"Up Volume":O8f,"Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:e8f,step:1},"Alert Threshold":{defaultSelected:m8f}}},PAV:{name:k8f,range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:0},calculateFN:X57.Studies.calculateProjectedVolume,seriesFN:X57.Studies.displayProjectedVolume,initializeFN:X57.Studies.initProjectedVolume,removeFN:X57.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:s8f,step:1}}}});}};z0g=V7t=>{var n7t,A8f;n7t=typeof _CIQ !== "undefined"?_CIQ:V7t.CIQ;if(!n7t.Studies){A8f="psychologicalLine feature requi";A8f+="res first activating studies featu";A8f+="re";A8f+=".";console.error(A8f);}else {n7t.Studies.calculatePsychologicalLine=function(P7t,U7t){var X7t,y7t,H7t,r7t,d7t;X7t=U7t.chart.scrubbed;if(X7t.length < U7t.days + "1" * 1){U7t.error=!"";return;}y7t=[];H7t=100 / U7t.days;r7t=0;for(var x7t=Math.max(U7t.startFrom - U7t.days,+"1");x7t < X7t.length;x7t++){if(X7t[x7t].futureTick)break;d7t=Number(X7t[x7t].Close > X7t[x7t - 1].Close);if(d7t){r7t+=H7t;}y7t.push(d7t);if(y7t.length > U7t.days){r7t-=y7t.shift() * H7t;}if(x7t < U7t.startFrom)continue;if(!isNaN(X7t[x7t].Close)){X7t[x7t]["Result " + U7t.name]=r7t;}}};n7t.Studies.studyLibrary=n7t.extend(n7t.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:n7t.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};f0g=Q7t=>{var D7t,S8f;D7t=typeof _CIQ !== "undefined"?_CIQ:Q7t.CIQ;if(!D7t.Studies){console.error("qstick feature requires first activating studies feature.");}else {S8f="QSt";S8f+="ic";S8f+="k";D7t.Studies.calculateQStick=function(I7t,N7t){z7QQ.k6D();var J8f,X8f,G7t,i8f;J8f="Res";J8f+="ult";X8f="Movin";X8f+="g Average Ty";X8f+="pe";G7t=N7t.chart.scrubbed;if(G7t.length < N7t.days + 1){N7t.error=! !{};return;}for(var e7t=N7t.startFrom;e7t < G7t.length;e7t++){i8f="_";i8f+="C";i8f+="lose-Open ";G7t[e7t][i8f + N7t.name]=G7t[e7t].Close - G7t[e7t].Open;}D7t.Studies.MA(N7t.inputs[X8f],N7t.days,"_Close-Open " + N7t.name,"0" - 0,J8f,I7t,N7t);};D7t.Studies.studyLibrary=D7t.extend(D7t.Studies.studyLibrary,{QStick:{name:S8f,calculateFN:D7t.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};t0g=j7t=>{z7QQ.T6D();var u8f,q7t,R8f,v8f,d8f;u8f="und";u8f+="e";u8f+="fined";q7t=typeof _CIQ !== u8f?_CIQ:j7t.CIQ;if(!q7t.Studies){console.error("rainbow feature requires first activating studies feature.");}else {R8f="Rainbow ";R8f+="Osci";R8f+="l";R8f+="lator";v8f="#FF00F";v8f+="F";d8f="#00";d8f+="F";d8f+="F7F";q7t.Studies.calculateRainbow=function(p7t,S7t){var W7t,l7t,O7t,T7t,u7t,Z7t,m7t,o8f,B7t,R7t,z8f,n8f,p8f;W7t=S7t.chart.scrubbed;if(W7t.length < S7t.days + ("1" >> 533761856)){S7t.error=!0;return;}l7t=S7t.inputs.Field;if(!l7t || l7t == "field"){l7t="Close";}O7t=l7t;function o7t(E8t,i8t){var M8t,b8t;M8t=Number.MAX_VALUE * -("1" & 2147483647);b8t=Number.MAX_VALUE;for(var a7t=i8t - E8t + 1;a7t <= i8t;a7t++){if(a7t < +"0")continue;M8t=Math.max(M8t,W7t[a7t].Close);b8t=Math.min(b8t,W7t[a7t].Close);}return [b8t,M8t];}for(var F7t=1;F7t <= "10" << 1654172352;F7t++){q7t.Studies.MA("simple",S7t.days,O7t,0,"SMA" + F7t,p7t,S7t);O7t="SMA" + F7t + (+"8028" === 5233?(![],"c"):" ") + S7t.name;}for(var k7t=Math.max(S7t.startFrom,10);k7t < W7t.length;k7t++){if(!W7t[k7t])continue;if(W7t[k7t].futureTick)break;T7t=0;u7t=0;Z7t=Number.MAX_VALUE * -1;m7t=Number.MAX_VALUE;for(F7t=1;F7t <= 10;F7t++){o8f="S";o8f+="MA";B7t=W7t[k7t][o8f + F7t + ((5437,898.07) != 304.89?2247 !== (2768,7276)?4492 < 574.84?470:" ":(0x18a,![]):(974.93,0xbf7)) + S7t.name];if(B7t || B7t === 0){T7t+=B7t;u7t++;Z7t=Math.max(Z7t,B7t);m7t=Math.min(m7t,B7t);}}if(S7t.name.indexOf("Osc") > -1){R7t=o7t(S7t.inputs["HHV/LLV Lookback"],k7t);if(u7t){z8f="Z";z8f+="er";z8f+="o";z8f+=" ";n8f="U";n8f+="nder";n8f+=" ";W7t[k7t][S7t.name + "_hist"]=100 * (W7t[k7t][l7t] - T7t / u7t) / Math.max(0.000001,R7t[+"1"] - R7t[0]);W7t[k7t]["Over " + S7t.name]=100 * (Z7t - m7t) / Math.max(0.000001,R7t[1] - R7t[0]);W7t[k7t][n8f + S7t.name]=-W7t[k7t]["Over " + S7t.name];W7t[k7t][z8f + S7t.name]=0;}}}if(S7t.name.indexOf("Osc") > -1){p8f="Z";p8f+="er";p8f+="o ";S7t.outputMap={};S7t.outputMap["Over " + S7t.name]="Positive Bar";S7t.outputMap["Under " + S7t.name]="Negative Bar";S7t.outputMap[p8f + S7t.name]="";S7t.outputMap[S7t.name + "_hist"]="";}};q7t.Studies.displayRainbowMA=function(t8t,f8t,C8t){var h8t,w8f;h8t=t8t.panels[f8t.panel];for(var z8t=10;z8t > 0;z8t--){w8f="S";w8f+="M";w8f+="A";q7t.Studies.displayIndividualSeriesAsLine(t8t,f8t,h8t,w8f + z8t + ((664.88,471.41) > 5230?! !"1":"362.82" - 0 >= (730.95,9481)?!{}:" ") + f8t.name,C8t);}};q7t.Studies.displayRainbowOsc=function(g8t,v8t,X8t){var m5D=z7QQ;var F8f,Q8f,C8f,L8f,b8f,K8t,Y8t,L8t,J8t,s8t,n8t,V8t,U8t,x8t,w8t,f8f,A8t;F8f="#CC";F8f+="C";F8f+="CCC";Q8f="st";Q8f+="x";Q8f+="_histogram";C8f="Un";C8f+="der";C8f+=" ";L8f="Z";L8f+="er";L8f+="o ";b8f="O";b8f+="ver ";q7t.Studies.displaySeriesAsLine(g8t,v8t,X8t);K8t=g8t.panels[v8t.panel];Y8t=v8t.getContext(g8t);L8t=v8t.getYAxis(g8t);g8t.startClip(v8t.panel);if(!v8t.highlight && g8t.highlightedDraggable){m5D.C03(4);Y8t.globalAlpha*=m5D.I03("0.3",0);}J8t=g8t.pixelFromPrice(0,K8t,L8t);s8t=K8t.name != v8t.chart.name;n8t=q7t.Studies.determineColor(v8t.outputs["Positive Bar"]);Y8t.strokeStyle=n8t;g8t.plotDataSegmentAsLine("Over " + v8t.name,K8t,{skipTransform:s8t,label:! !0,yAxis:L8t});V8t=Y8t.createLinearGradient(+"0",J8t,0,L8t.flipped?L8t.bottom:L8t.top);V8t.addColorStop(0,g8t.containerColor);V8t.addColorStop(1,n8t);q7t.prepareChannelFill(g8t,{skipTransform:s8t,color:V8t,opacity:!v8t.highlight && g8t.highlightedDraggable?0.3:1,panelName:v8t.panel,topBand:b8f + v8t.name,bottomBand:"Zero " + v8t.name,yAxis:L8t});U8t=q7t.Studies.determineColor(v8t.outputs["Negative Bar"]);Y8t.strokeStyle=U8t;g8t.plotDataSegmentAsLine("Under " + v8t.name,K8t,{skipTransform:s8t,label:!"1",yAxis:L8t});m5D.g03(23);x8t=Y8t.createLinearGradient(m5D.J03("0",2147483647),J8t,m5D.I03("0",0,m5D.C03(4)),L8t.flipped?L8t.top:L8t.bottom);x8t.addColorStop(0,g8t.containerColor);x8t.addColorStop(1,U8t);q7t.prepareChannelFill(g8t,{skipTransform:s8t,color:x8t,opacity:!v8t.highlight && g8t.highlightedDraggable?0.3:1,panelName:v8t.panel,topBand:L8f + v8t.name,bottomBand:C8f + v8t.name,yAxis:L8t});w8t=g8t.layout.candleWidth - 2;if(w8t < 2){w8t=1;}g8t.canvasColor(Q8f);if(!v8t.underlay){Y8t.globalAlpha=1;}if(!v8t.highlight && g8t.highlightedDraggable){Y8t.globalAlpha*=0.3;}Y8t.fillStyle=F8f;m5D.k6D();for(var c8t=+"0";c8t < X8t.length;c8t++){f8f="_h";f8f+="ist";A8t=X8t[c8t];if(!A8t)continue;if(A8t[v8t.name + "_hist"] > 0){Y8t.fillStyle=n8t;}else if(A8t[v8t.name + "_hist"] < ("0" ^ 0)){Y8t.fillStyle=U8t;}if(A8t.candleWidth){w8t=Math.floor(Math.max(1,A8t.candleWidth - 2));}Y8t.fillRect(Math.floor(g8t.pixelFromBar(c8t,K8t.chart) - w8t / ("2" | 2)),Math.floor(J8t),Math.floor(w8t),Math.floor(g8t.pixelFromPrice(A8t[v8t.name + f8f],K8t,L8t) - J8t));}g8t.endClip();};q7t.Studies.studyLibrary=q7t.extend(q7t.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !1,calculateFN:q7t.Studies.calculateRainbow,seriesFN:q7t.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:d8f,SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:v8f}},"Rainbow Osc":{name:R8f,calculateFN:q7t.Studies.calculateRainbow,seriesFN:q7t.Studies.displayRainbowOsc,centerline:0,inputs:{Period:+"2",Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};h0g=r8t=>{var L4D=z7QQ;var y8t,N2e,E2e,D2e,I8f,P8f,q8f;L4D.T6D();y8t=typeof _CIQ !== "undefined"?_CIQ:r8t.CIQ;if(!y8t.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {y8t.Studies.calculateRandomWalk=function(W8t,D8t){L4D.k6D();var d8t,e8t,I8t,q8t,Q8t,N8t,G8t,j8t,S8t;d8t=D8t.chart.scrubbed;if(d8t.length < D8t.days + 1){D8t.error=! !{};return;}for(var H8t=Math.max(+"2",D8t.startFrom);H8t < d8t.length;H8t++){e8t=0;I8t=d8t[H8t].High;q8t=d8t[H8t].Low;L4D.C03(23);Q8t=L4D.I03("0",2147483647);N8t=0;for(var P8t=1;P8t <= D8t.days;P8t++){if(d8t[H8t].futureTick)break;if(H8t <= P8t){Q8t=N8t=0;break;}e8t+=d8t[H8t - P8t].trueRange;G8t=e8t / P8t * Math.sqrt(P8t);if(G8t){j8t=(I8t - d8t[H8t - P8t].Low) / G8t;S8t=(d8t[H8t - P8t].High - q8t) / G8t;Q8t=Math.max(Q8t,j8t);N8t=Math.max(N8t,S8t);}}if(!d8t[H8t].futureTick && (!isNaN(I8t) || !isNaN(q8t))){d8t[H8t]["Random Walk High " + D8t.name]=Q8t;d8t[H8t]["Random Walk Low " + D8t.name]=N8t;}}};N2e=-934823604;E2e=-317419429;D2e=2;for(var M2e=1;L4D.E9e(M2e.toString(),M2e.toString().length,+"18486") !== N2e;M2e++){I8f="Rand";I8f+="om Walk";P8f="Random Wa";P8f+="lk Ind";P8f+="ex";y8t.Studies.studyLibrary=y8t.extend(y8t.Studies.studyLibrary,{"Random Walk":{name:P8f,calculateFN:y8t.Studies.calculateRandomWalk,outputs:{"Random Walk High":"Random Walk Low","Random Walk Low":I8f}}});L4D.C03(22);D2e+=L4D.J03("2",2);}if(L4D.E9e(D2e.toString(),D2e.toString().length,26756) !== E2e){q8f="#FF0";q8f+="0";q8f+="00";y8t.Studies.studyLibrary=y8t.extend(y8t.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:y8t.Studies.calculateRandomWalk,outputs:{"Random Walk High":q8f,"Random Walk Low":"#0000FF"}}});}}};C0g=F8t=>{var H8f,k8t,t8f;H8f="u";H8f+="ndefined";k8t=typeof _CIQ !== H8f?_CIQ:F8t.CIQ;if(!k8t.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {t8f="Relative Vigo";t8f+="r Inde";t8f+="x";k8t.Studies.calculateRelativeVigor=function(p8t,l8t){var D8f,Z8f,g8f,R8t,B8t,u8t,m8t,O8t,U8f,o8t,T8t,Z8t,E8f,N8f,j8f;z7QQ.k6D();D8f="_";D8f+="h";D8f+="is";D8f+="t";Z8f="trian";Z8f+="g";Z8f+="ular";g8f="_N";g8f+="um";g8f+="e";g8f+="r";R8t=l8t.chart.scrubbed;if(R8t.length < l8t.days + 1){l8t.error=! ![];return;}for(B8t=l8t.startFrom;B8t < R8t.length;B8t++){u8t=R8t[B8t];if(!isNaN(u8t.Close) && !isNaN(u8t.Open)){u8t["_Change " + l8t.name]=u8t.Close - u8t.Open;}if(!isNaN(u8t.High) && !isNaN(u8t.Low)){u8t["_Range " + l8t.name]=u8t.High - u8t.Low;}}k8t.Studies.MA("triangular",4,"_Change " + l8t.name,0,g8f,p8t,l8t);k8t.Studies.MA(Z8f,4,"_Range " + l8t.name,0,"_Denom",p8t,l8t);m8t=[];O8t=[];for(B8t=Math.max(l8t.startFrom - l8t.days,0);B8t < R8t.length;B8t++){U8f="_";U8f+="Num";U8f+="er";U8f+=" ";if(R8t[B8t].futureTick)break;if(R8t[B8t][U8f + l8t.name] === null && R8t[B8t]["_Denom " + l8t.name] === null)continue;m8t.push(R8t[B8t]["_Numer " + l8t.name]);O8t.push(R8t[B8t]["_Denom " + l8t.name]);if(m8t.length > l8t.days){m8t.shift();O8t.shift();}o8t=0;T8t=0;for(Z8t=0;Z8t < m8t.length;Z8t++){o8t+=m8t[Z8t];}for(Z8t=0;Z8t < O8t.length;Z8t++){T8t+=O8t[Z8t];}if(T8t === 0){T8t=0.00000001;}if(B8t < l8t.startFrom)continue;z7QQ.C03(6);R8t[B8t]["Rel Vig " + l8t.name]=z7QQ.J03(o8t,T8t);}k8t.Studies.MA("triangular",4,"Rel Vig " + l8t.name,0,"RelVigSignal",p8t,l8t);for(B8t=l8t.startFrom;B8t < R8t.length;B8t++){E8f="Re";E8f+="lVigSignal ";N8f="R";N8f+="e";N8f+="l Vig";N8f+=" ";j8f="_h";j8f+="i";j8f+="st";R8t[B8t][l8t.name + j8f]=R8t[B8t][N8f + l8t.name] - R8t[B8t][E8f + l8t.name];}l8t.outputMap[l8t.name + D8f]="";};k8t.Studies.studyLibrary=k8t.extend(k8t.Studies.studyLibrary,{"Rel Vig":{name:t8f,seriesFN:k8t.Studies.displayHistogramWithSeries,calculateFN:k8t.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};v0g=M9t=>{var a8t,M8f,a8f;a8t=typeof _CIQ !== "undefined"?_CIQ:M9t.CIQ;if(!a8t.Studies){M8f="rsi";M8f+=" feature requires first activating studies featur";M8f+="e.";console.error(M8f);}else {a8f="0 ";a8f+="to 10";a8f+="0";a8t.Studies.calculateRSI=function(Y9t,b9t){var I5D=z7QQ;var C9t,i9t,K8f,t9t,h9t,v9t,g9t,E9t,z9t,r8f;C9t=b9t.chart.scrubbed;i9t=b9t.inputs.Field;if(!i9t || i9t == "field"){i9t="Close";}if(C9t.length < b9t.days + 1){b9t.error=!"";return;}for(var f9t=b9t.startFrom;f9t < C9t.length;f9t++){K8f="_";K8f+="av";K8f+="gG ";if(!f9t)continue;t9t=C9t[f9t];I5D.C03(4);h9t=C9t[I5D.J03(f9t,1)];if(!t9t[i9t] && t9t[i9t] !== 0)continue;if(!h9t[i9t] && h9t[i9t] !== +"0")continue;v9t=t9t[i9t] - h9t[i9t];g9t=Math.min(f9t,b9t.days);E9t=h9t["_avgG " + b9t.name];if(!E9t){E9t=0;}I5D.g03(6);E9t-=I5D.I03(E9t,g9t);z9t=h9t["_avgL " + b9t.name];if(!z9t){I5D.C03(4);z9t=I5D.I03("0",0);}I5D.g03(6);z9t-=I5D.J03(z9t,g9t);if(v9t > 0){I5D.g03(6);E9t+=I5D.J03(v9t,g9t);}else if(v9t <= 0){I5D.g03(6);z9t-=I5D.J03(v9t,g9t);}else continue;if(f9t >= b9t.days){r8f="R";r8f+="S";r8f+="I";r8f+=" ";if((E9t || E9t !== 0) && (z9t || z9t !== 0)){t9t[r8f + b9t.name]=L9t(E9t,z9t);}}t9t[K8f + b9t.name]=E9t;t9t["_avgL " + b9t.name]=z9t;}b9t.zoneOutput="RSI";function L9t(w9t,K9t){var A9t;if(K9t === 0){return 100;}I5D.g03(6);A9t=I5D.I03(w9t,K9t);I5D.g03(75);return I5D.J03(A9t,100,1,100);}};a8t.Studies.studyLibrary=a8t.extend(a8t.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:a8t.Studies.calculateRSI,range:a8f,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}}});}};g0g=s9t=>{z7QQ.k6D();var J9t,s5e,A5e,i5e,G1f,Y1f,y1f,m1f,e1f,O1f;J9t=typeof _CIQ !== "undefined"?_CIQ:s9t.CIQ;if(!J9t.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {J9t.Studies.calculateSchaff=function(I9t,c9t){var x8f,U9t,X9t,G9t,y9t,r9t,e9t,H9t,d9t,T1f,c8f,x9t,P9t,D9t,W8f,Q9t,V9t,h1f,N9t,l1f,B1f,V1f;x8f="Short";x8f+=" Cyc";x8f+="le";U9t=c9t.chart.scrubbed;X9t=c9t.days;G9t=Number(c9t.inputs[x8f]);y9t=Number(c9t.inputs["Long Cycle"]);if(U9t.length < Math.max(X9t,G9t,y9t) + 1){c9t.error=! !"1";return;}r9t=c9t.inputs.Field;z7QQ.k6D();if(!r9t || r9t == "field"){r9t="Close";}function q9t(l9t,F9t,B9t){var S9t,W9t,j9t;S9t=null;W9t=null;for(var k9t=F9t - l9t + 1;k9t <= F9t;k9t++){j9t=U9t[k9t][B9t + ((9440,6270) <= (327.97,"5350" << 317702144)?(4.21e+3,"A"):" ") + c9t.name];if(!j9t)continue;S9t=S9t === null?j9t:Math.min(S9t,j9t);W9t=W9t === null?j9t:Math.max(W9t,j9t);}return [S9t,W9t];}e9t=0.5;J9t.Studies.MA(c9t.inputs["Moving Average Type"],G9t,r9t,0,"_MACD1",I9t,c9t);J9t.Studies.MA(c9t.inputs["Moving Average Type"],y9t,r9t,0,"_MACD2",I9t,c9t);H9t=0;d9t=0;for(var n9t=c9t.startFrom;n9t < U9t.length;n9t++){T1f="_M";T1f+="ACD";c8f="_MAC";c8f+="D1";c8f+=" ";x9t=U9t[n9t];if(n9t < y9t - 1)continue;P9t=x9t[c8f + c9t.name];D9t=x9t["_MACD2 " + c9t.name];if(P9t || P9t === 0 || D9t || D9t === 0){W8f="_MA";W8f+="CD ";z7QQ.C03(4);x9t[W8f + c9t.name]=z7QQ.J03(P9t,D9t);}Q9t=x9t["_MACD " + c9t.name];if(n9t < y9t + (X9t - 1))continue;V9t=q9t(X9t,n9t,T1f);H9t=V9t[1] > V9t[0]?100 * (Q9t - V9t[0]) / (V9t[1] - V9t[0]):H9t;if(Q9t || Q9t === 0){h1f="_";h1f+="P";h1f+="F";h1f+=" ";x9t["_PF " + c9t.name]=U9t[n9t - 1]["_PF " + c9t.name]?U9t[n9t - 1][h1f + c9t.name] + e9t * (H9t - U9t[n9t - 1]["_PF " + c9t.name]):H9t;}N9t=x9t["_PF " + c9t.name];if(n9t < y9t + 2 * (X9t - 1))continue;V9t=q9t(X9t,n9t,"_PF");d9t=V9t[1] > V9t["0" & 2147483647]?("100" & 2147483647) * (N9t - V9t[0]) / (V9t[1] - V9t[0]):d9t;if(N9t || N9t === 0){l1f="R";l1f+="esu";l1f+="l";l1f+="t ";B1f="Resul";B1f+="t ";V1f="R";V1f+="esult ";x9t[V1f + c9t.name]=U9t[n9t - 1]["Result " + c9t.name]?U9t[n9t - ("1" >> 1884917248)][B1f + c9t.name] + e9t * (d9t - U9t[n9t - 1][l1f + c9t.name]):d9t;}}};s5e=-1787996937;A5e=1886938846;i5e=2;for(var J5e=1;z7QQ.N9e(J5e.toString(),J5e.toString().length,+"43611") !== s5e;J5e++){G1f="a";G1f+="u";G1f+="t";G1f+="o";Y1f="f";Y1f+="i";Y1f+="el";Y1f+="d";y1f="Schaff ";y1f+="Trend C";y1f+="y";y1f+="cle";J9t.Studies.studyLibrary=J9t.extend(J9t.Studies.studyLibrary,{Schaff:{name:y1f,range:"0 to 100",calculateFN:J9t.Studies.calculateSchaff,inputs:{Period:10,Field:Y1f,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:G1f,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});i5e+=2;}if(z7QQ.N9e(i5e.toString(),i5e.toString().length,46394) !== A5e){m1f="a";m1f+="u";m1f+="to";e1f="Movin";e1f+="g Average Type";O1f="f";O1f+="ie";O1f+="l";O1f+="d";J9t.Studies.studyLibrary=J9t.extend(J9t.Studies.studyLibrary,{Schaff:{name:"Long Cycle",range:"Long Cycle",calculateFN:J9t.Studies.calculateSchaff,inputs:{Period:57,Field:O1f,"Short Cycle":"76" | 12,"Long Cycle":57,"Moving Average Type":e1f},parameters:{init:{studyOverZonesEnabled:! !"",studyOverBoughtValue:"65" * 1,studyOverBoughtColor:m1f,studyOverSoldValue:80,studyOverSoldColor:"Moving Average Type"}}}});}}};L0g=u9t=>{var h2e,V2e,B2e,R9t;h2e=1585985151;V2e=-29422724;B2e=2;for(var y2e="1" & 2147483647;z7QQ.N9e(y2e.toString(),y2e.toString().length,27292) !== h2e;y2e++){R9t=typeof _CIQ !== "undefined"?_CIQ:u9t.CIQ;B2e+=2;}z7QQ.T6D();if(z7QQ.E9e(B2e.toString(),B2e.toString().length,32713) !== V2e){R9t=-_CIQ == ""?_CIQ:u9t.CIQ;}if(!R9t.Studies){console.error("shinohara feature requires first activating studies feature.");}else {R9t.Studies.calculateShinohara=function(p9t,O9t){var m9t,T9t;m9t=O9t.chart.scrubbed;if(m9t.length < O9t.days + 1){O9t.error=!"";return;}T9t={weakNum:0,weakDen:0,strongNum:0,strongDen:"0" << 830247872};if(O9t.startFrom > 1){T9t=R9t.clone(m9t[O9t.startFrom - 1]["_accums " + O9t.name]);}for(var Z9t=O9t.startFrom;Z9t < m9t.length;Z9t++){T9t.weakNum+=m9t[Z9t].High - m9t[Z9t].Close;T9t.weakDen+=m9t[Z9t].Close - m9t[Z9t].Low;if(Z9t > 0){T9t.strongNum+=m9t[Z9t].High - m9t[Z9t - 1].Close;T9t.strongDen+=m9t[Z9t - 1].Close - m9t[Z9t].Low;}if(Z9t >= O9t.days){T9t.weakNum-=m9t[Z9t - O9t.days].High - m9t[Z9t - O9t.days].Close;T9t.weakDen-=m9t[Z9t - O9t.days].Close - m9t[Z9t - O9t.days].Low;m9t[Z9t]["Weak Ratio " + O9t.name]=100 * T9t.weakNum / T9t.weakDen;if(Z9t > O9t.days){T9t.strongNum-=m9t[Z9t - O9t.days].High - m9t[Z9t - O9t.days - +"1"].Close;T9t.strongDen-=m9t[Z9t - O9t.days - +"1"].Close - m9t[Z9t - O9t.days].Low;m9t[Z9t]["Strong Ratio " + O9t.name]=100 * T9t.strongNum / T9t.strongDen;}}m9t[Z9t]["_accums " + O9t.name]=R9t.clone(T9t);}};R9t.Studies.studyLibrary=R9t.extend(R9t.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:R9t.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};Y0g=a9t=>{z7QQ.T6D();var o9t,I1f,P1f,R1f,v1f,d1f,f1f;o9t=typeof _CIQ !== "undefined"?_CIQ:a9t.CIQ;if(!o9t.Studies){console.error("stochastics feature requires first activating studies feature.");}else {I1f="aut";I1f+="o";P1f="a";P1f+="u";P1f+="t";P1f+="o";R1f="f";R1f+="ield";v1f="Stoc";v1f+="hastics";d1f="aut";d1f+="o";f1f="a";f1f+="u";f1f+="to";o9t.Studies.calculateStochastics=function(h2t,M2t){var J1f,X1f,i1f,A1f,s1f,k1f,E2t,b2t,i2t,f2t,t2t,v2t;J1f="%";J1f+="K";J1f+=" ";X1f="simp";X1f+="le";i1f="%";i1f+="K";A1f="sim";A1f+="pl";A1f+="e";s1f="%";z7QQ.T6D();s1f+="K";function C2t(J2t,Y2t,n2t){var s2t,L2t,g2t,A2t,w2t,c2t;z7QQ.g03(76);s2t=z7QQ.I03(n2t,J2t,"1");L2t=Number.MAX_VALUE * -("1" >> 1167694208);g2t=Number.MAX_VALUE;z7QQ.T6D();for(var K2t=s2t;K2t <= J2t;K2t++){A2t=i2t[K2t][Y2t == "Close"?"Low":Y2t];w2t=i2t[K2t][Y2t == "Close"?"High":Y2t];if(!A2t && A2t !== 0)continue;if(!w2t && w2t !== 0)continue;g2t=Math.min(g2t,A2t);L2t=Math.max(L2t,w2t);}if(L2t == Number.MAX_VALUE * -1 || g2t == Number.MAX_VALUE){return null;}c2t=L2t == g2t?"0" & 2147483647:(i2t[J2t][Y2t] - g2t) / (L2t - g2t) * 100;return c2t;}s1f+=" ";k1f="Cl";k1f+="o";k1f+="s";k1f+="e";if(!M2t.smooth){M2t.smooth=M2t.inputs.Smooth;}E2t=M2t.inputs.Field;if(!E2t || E2t == "field"){E2t=k1f;}b2t=M2t.inputs["%K Periods"];if(!b2t){b2t=M2t.days;}i2t=M2t.chart.scrubbed;if(i2t.length < Math.max(b2t,M2t.days) + 1){M2t.error=!0;return;}f2t=M2t.inputs["%K Smoothing Periods"];if(f2t){M2t.smooth=! !"1";}else if(M2t.smooth){z7QQ.C03(1);f2t=z7QQ.J03("3",0);}t2t=M2t.inputs["%D Periods"];if(!t2t){t2t=3;}M2t.outputMap={};M2t.outputMap[s1f + M2t.name]="Fast";M2t.outputMap["%D " + M2t.name]="Slow";for(var z2t=Math.max(b2t,M2t.startFrom);z2t < i2t.length;z2t++){v2t=C2t(z2t,E2t,b2t);if(v2t !== null){i2t[z2t][M2t.name]=C2t(z2t,E2t,b2t);}}o9t.Studies.MA(A1f,M2t.smooth?f2t:1,M2t.name,+"0",i1f,h2t,M2t);o9t.Studies.MA(X1f,t2t,J1f + M2t.name,0,"%D",h2t,M2t);};o9t.Studies.calculateStochMomentum=function(X2t,V2t){var F1f,Q1f,C1f,L1f,w1f,p1f,z1f,n1f,u1f,S1f,y2t,H2t,d2t,D2t,U2t,u0L,o0L,n0L,x2t,o1f,P2t,r2t,b1f;F1f="%";F1f+="K";Q1f="%";Q1f+="D";C1f="%";C1f+="K";C1f+=" ";L1f="%D M";L1f+="oving Avera";L1f+="ge Type";w1f="_DH";w1f+="L1";w1f+=" ";p1f="_H";p1f+="S";p1f+="2";z1f="_H";z1f+="S1 ";n1f="e";n1f+="xpone";n1f+="nt";n1f+="ial";u1f="%K S";u1f+="moot";u1f+="h";function Q2t(q2t,I2t){var G2t,e2t;G2t=null;e2t=null;for(var N2t=I2t - q2t + 1;N2t <= I2t;N2t++){G2t=G2t === null?U2t[N2t].Low:Math.min(G2t,U2t[N2t].Low);e2t=e2t === null?U2t[N2t].High:Math.max(e2t,U2t[N2t].High);}return [G2t,e2t];}u1f+="ing Periods";S1f="%K";S1f+=" Per";S1f+="iod";S1f+="s";y2t=Number(V2t.inputs[S1f]);H2t=Number(V2t.inputs[u1f]);d2t=Number(V2t.inputs["%K Double Smoothing Periods"]);D2t=Number(V2t.inputs["%D Periods"]);U2t=V2t.chart.scrubbed;if(U2t.length < y2t + H2t + d2t - +"1" || U2t.length < D2t){u0L=707340956;o0L=1115456258;n0L=2;for(var p0L=1;z7QQ.E9e(p0L.toString(),p0L.toString().length,"5244" - 0) !== u0L;p0L++){V2t.error=! !0;return;}if(z7QQ.N9e(n0L.toString(),n0L.toString().length,72975) !== o0L){V2t.error=!"";return;}V2t.error=!0;return;}for(x2t=Math.max(y2t,V2t.startFrom) - 1;x2t < U2t.length;x2t++){o1f="_DHL";o1f+=" ";P2t=U2t[x2t];r2t=Q2t(y2t,x2t);P2t["_H " + V2t.name]=P2t.Close - (r2t[0] + r2t["1" | 0]) / ("2" * 1);P2t[o1f + V2t.name]=r2t[1] - r2t[0];}o9t.Studies.MA("exponential",H2t,"_H " + V2t.name,0,"_HS1",X2t,V2t);o9t.Studies.MA(n1f,d2t,z1f + V2t.name,0,p1f,X2t,V2t);o9t.Studies.MA("exponential",H2t,"_DHL " + V2t.name,0,"_DHL1",X2t,V2t);o9t.Studies.MA("exponential",d2t,w1f + V2t.name,0,"_DHL2",X2t,V2t);for(x2t=y2t - 1;x2t < U2t.length;x2t++){b1f="%";b1f+="K ";U2t[x2t][b1f + V2t.name]=U2t[x2t]["_HS2 " + V2t.name] / (0.5 * U2t[x2t]["_DHL2 " + V2t.name]) * 100;}o9t.Studies.MA(V2t.inputs[L1f],D2t,C1f + V2t.name,0,Q1f,X2t,V2t);V2t.zoneOutput=F1f;};o9t.Studies.studyLibrary=o9t.extend(o9t.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:o9t.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:f1f,studyOverSoldValue:-("40" & 2147483647),studyOverSoldColor:d1f}}},stochastics:{name:v1f,range:"0 to 100",calculateFN:o9t.Studies.calculateStochastics,inputs:{Period:14,Field:R1f,Smooth:! !{}},outputs:{Fast:P1f,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"80" | 16,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:I1f}}}});}};K0g=S2t=>{var j2t,q1f,E1f;j2t=typeof _CIQ !== "undefined"?_CIQ:S2t.CIQ;z7QQ.T6D();if(!j2t.Studies){q1f="supertrend featu";q1f+="re requires first activating studies ";q1f+="feature.";console.error(q1f);}else {E1f="#";E1f+="b8";E1f+="2c0c";j2t.Studies.calculateSupertrend=function(m2t,W2t){var B5D=z7QQ;var F2t,U1f,l2t,u2t,Z2t,B2t,R2t,H1f,Z1f,g1f;F2t=W2t.chart.scrubbed;if(F2t.length < W2t.days + 1){W2t.error=! !{};return;}j2t.Studies.calculateStudyATR(m2t,W2t);for(var k2t=W2t.startFrom;k2t < F2t.length;k2t++){U1f="_Dow";U1f+="ntre";U1f+="nd ";l2t=F2t[k2t];if(!l2t)continue;u2t=(l2t.High + l2t.Low) / 2;Z2t=W2t.inputs.Multiplier * l2t["ATR " + W2t.name];B5D.C03(4);B2t=B5D.J03(u2t,Z2t);B5D.g03(2);R2t=B5D.J03(u2t,Z2t);if(k2t){H1f="_Upt";H1f+="rend ";if(F2t[k2t - 1] && F2t[k2t - 1].Close && F2t[k2t - 1].Close > F2t[k2t - 1][H1f + W2t.name] && F2t[k2t - +"1"]["_Uptrend " + W2t.name] > B2t){B5D.g03(4);B2t=F2t[B5D.I03(k2t,1)]["_Uptrend " + W2t.name];}if(F2t[k2t - 1] && F2t[k2t - 1].Close && F2t[k2t - 1].Close < F2t[k2t - ("1" ^ 0)]["_Downtrend " + W2t.name] && F2t[k2t - 1]["_Downtrend " + W2t.name] < R2t){B5D.g03(52);R2t=F2t[B5D.J03(k2t,"1")]["_Downtrend " + W2t.name];}}l2t["_Direction " + W2t.name]=1;if(k2t){Z1f="_Down";Z1f+="trend ";g1f="_Direction";g1f+=" ";B5D.C03(4);l2t["_Direction " + W2t.name]=F2t[B5D.J03(k2t,1)][g1f + W2t.name];if(l2t.Close > F2t[k2t - 1][Z1f + W2t.name]){l2t["_Direction " + W2t.name]=1;}else if(l2t.Close < F2t[k2t - ("1" & 2147483647)]["_Uptrend " + W2t.name]){B5D.C03(23);l2t["_Direction " + W2t.name]=-B5D.I03("1",2147483647);}}l2t["_Uptrend " + W2t.name]=B2t;l2t[U1f + W2t.name]=R2t;l2t["Trend " + W2t.name]=l2t["_Direction " + W2t.name] > 0?B2t:R2t;if(!k2t)continue;}W2t.outputMap={};W2t.outputMap["Trend " + W2t.name]="";};j2t.Studies.displaySupertrend=function(T2t,O2t,a2t){var i3t,p2t,E3t,U3t,w3t,t3t,h3t,o2t,N1f,j1f,s3t,c3t;i3t=T2t.panels[O2t.panel];p2t=O2t.getContext(T2t);E3t=O2t.getYAxis(T2t);U3t={skipTransform:i3t.name != O2t.chart.name,skipProjections:! ![],label:T2t.preferences.labels,yAxis:E3t,highlight:O2t.highlight};function n3t(X3t,x3t,r3t){z7QQ.k6D();if(x3t && x3t["_Direction " + O2t.name] < 0){return O2t.outputs.Downtrend;}return O2t.outputs.Uptrend;}p2t.strokeStyle=n3t(T2t,a2t[a2t.length - ("1" & 2147483647)]);z7QQ.g03(4);p2t.lineWidth=z7QQ.J03("2",0);if(O2t.highlight){p2t.lineWidth=1.5;}w3t="Trend " + O2t.name;for(var J3t=0;i3t.chart.transformFunc && E3t != i3t.chart.yAxis && J3t < a2t.length;J3t++){t3t=a2t[J3t];if(t3t && t3t.transform){t3t.transform[w3t]=i3t.chart.transformFunc(T2t,i3t.chart,t3t[w3t]);}}T2t.plotDataSegmentAsLine(w3t,i3t,U3t,n3t);p2t.lineWidth=1;p2t.globalAlpha=1;T2t.startClip(O2t.panel);if(!O2t.highlight && T2t.highlightedDraggable){p2t.globalAlpha*=0.3;}h3t=p2t.measureText(("2560" & 2147483647,+"457.16") > 8935?927.76:7700 >= (+"2964","5120" & 2147483647)?2610 == 9939?(0x860,"6.93e+3" << 388895296):"\u25B2":555.87).width / 2;for(o2t=0;o2t < a2t.length;o2t++){N1f="_";N1f+="Direction ";j1f="_Dire";j1f+="c";j1f+="tion";j1f+=" ";if(!a2t[o2t] || !a2t[o2t - 1])continue;if(a2t[o2t - 1][j1f + O2t.name] > a2t[o2t]["_Direction " + O2t.name]){p2t.fillStyle=O2t.outputs.Downtrend;p2t.textBaseline="bottom";s3t=T2t.pixelFromPrice(a2t[o2t].High,i3t,E3t);for(var C3t=5;C3t <= +"45";C3t+=10){if(E3t.flipped){p2t.fillText(897.94 != 3410?2787 <= (319.97,5698)?(832.86,5470) === 5790?! !"":"\u25B2":378.72:"F",T2t.pixelFromBar(o2t) - h3t,s3t + C3t);}else {p2t.fillText(("5322" ^ 0) > 152?(7333,4767) >= (7567,9360)?687.23:"\u25BC":(! !0,"o"),T2t.pixelFromBar(o2t) - h3t,s3t - C3t);}}}else if(a2t[o2t - 1][N1f + O2t.name] < a2t[o2t]["_Direction " + O2t.name]){p2t.fillStyle=O2t.outputs.Uptrend;p2t.textBaseline="top";c3t=T2t.pixelFromPrice(a2t[o2t].Low,i3t,E3t);for(var K3t=5;K3t <= 45;K3t+=10){if(E3t.flipped){p2t.fillText("\u25BC",T2t.pixelFromBar(o2t) - h3t,c3t - K3t);}else {p2t.fillText("\u25B2",T2t.pixelFromBar(o2t) - h3t,c3t + K3t);}}}}z7QQ.k6D();T2t.endClip();};j2t.Studies.studyLibrary=j2t.extend(j2t.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !{},seriesFN:j2t.Studies.displaySupertrend,calculateFN:j2t.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:+"3"},outputs:{Uptrend:"#8cc176",Downtrend:E1f},attributes:{Multiplier:{min:0.1,step:+"0.1"}}}});}};A0g=d3t=>{var H3t,t1f,D1f;H3t=typeof _CIQ !== "undefined"?_CIQ:d3t.CIQ;if(!H3t.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {t1f="Swin";t1f+="g In";t1f+="dex";D1f="Accumulative";D1f+=" Swing Index";H3t.Studies.calculateSwingIndex=function(b6t,G3t){var S5D=z7QQ;var e3t,P3t,W2e,T4e,h4e,j3t,l3t,R3t,o3t,M6t,O3t,m3t,S3t,T3t;e3t=G3t.inputs["Limit Move Value"];if(e3t === null || isNaN(e3t)){e3t=+"99999";}P3t=G3t.chart.scrubbed;W2e=340285682;T4e=- +"265027487";h4e=2;for(var B4e=1;S5D.N9e(B4e.toString(),B4e.toString().length,84431) !== W2e;B4e++){j3t=0;S5D.g03(1);h4e+=S5D.I03("2",0);}if(S5D.N9e(h4e.toString(),h4e.toString().length,+"15395") !== T4e){j3t=9;}if(G3t.startFrom > +"1"){j3t=P3t[G3t.startFrom - 1]["Result " + G3t.name];}S5D.T6D();for(var D3t=Math.max(1,G3t.startFrom);D3t < P3t.length;D3t++){l3t=Math.abs(P3t[D3t].High - P3t[D3t - 1].Close);R3t=Math.abs(P3t[D3t].Low - P3t[D3t - 1].Close);o3t=Math.abs(P3t[D3t].High - P3t[D3t].Low);M6t=Math.abs(P3t[D3t - +"1"].Close - P3t[D3t - 1].Open);O3t=Math.max(l3t,R3t);m3t=Math.max(o3t,O3t);S5D.C03(13);S3t=S5D.J03(0.25,m3t,M6t);if(m3t == l3t){S5D.g03(12);S3t-=S5D.J03(0.5,R3t);}else if(m3t == R3t){S5D.C03(12);S3t-=S5D.J03(0.5,l3t);}T3t=50 * (P3t[D3t].Close - P3t[D3t - 1].Close + 0.5 * (P3t[D3t].Close - P3t[D3t].Open) + +"0.25" * (P3t[D3t - 1].Close - P3t[D3t - "1" * 1].Open)) / S3t * (O3t / e3t);if(S3t === 0 || e3t === 0){T3t=0;}if(G3t.type == "Swing"){S5D.g03(4);j3t=S5D.J03("0",0);}j3t+=T3t;P3t[D3t]["Result " + G3t.name]=j3t;}};H3t.Studies.studyLibrary=H3t.extend(H3t.Studies.studyLibrary,{"Acc Swing":{name:D1f,calculateFN:H3t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:t1f,calculateFN:H3t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};w0g=E6t=>{var Q4D=z7QQ;var i6t,Q5e,F5e,f5e,o4e,n4e,z4e,c1f,W1f;i6t=typeof _CIQ !== "undefined"?_CIQ:E6t.CIQ;if(!i6t.Studies){Q5e=888189793;F5e=-1901110019;f5e=2;for(var v5e=1;Q4D.E9e(v5e.toString(),v5e.toString().length,74860) !== Q5e;v5e++){console.error("");f5e+=2;}if(Q4D.E9e(f5e.toString(),f5e.toString().length,33783) !== F5e){console.error("trendIntensity feature requires first activating studies feature.");}}else {i6t.Studies.calculateTrendIntensity=function(K6t,z6t){var x1f,a1f,r1f,M1f,h6t,C6t,v6t,g6t,f6t,t6t,L6t,Y6t,K1f;function A6t(J6t,w6t){var E5e,D5e,t5e;if(Math.abs(w6t) < "0.00000001" - 0){return 100;}E5e=1860326990;Q4D.g03(1);D5e=Q4D.I03("1191930761",0);t5e=+"2";for(var r5e=+"1";Q4D.N9e(r5e.toString(),r5e.toString().length,35886) !== E5e;r5e++){Q4D.C03(77);return Q4D.J03(8,J6t,681,"350",w6t);}if(Q4D.E9e(t5e.toString(),t5e.toString().length,+"17895") !== D5e){Q4D.C03(78);return Q4D.J03("1",100,100,w6t,J6t);}}x1f="T";x1f+="I";x1f+="I";x1f+=" ";a1f="Si";a1f+="gnal Period";r1f="Cl";r1f+="o";r1f+="s";r1f+="e";M1f="f";Q4D.T6D();M1f+="i";M1f+="e";M1f+="ld";h6t=z6t.chart.scrubbed;if(h6t.length < z6t.days + 1){z6t.error=!0;return;}C6t=z6t.inputs.Field;if(!C6t || C6t == M1f){C6t=r1f;}i6t.Studies.MA("ma",z6t.days,C6t,0,"_SMA",K6t,z6t);v6t=+"0";g6t=0;L6t=[];Y6t=Math.ceil(z6t.days / 2);for(f6t=Math.max(0,z6t.startFrom - Y6t);f6t < h6t.length;f6t++){K1f="_";K1f+="S";K1f+="M";K1f+="A ";if(!h6t[f6t]["_SMA " + z6t.name] && h6t[f6t][K1f + z6t.name] !== 0)continue;t6t=h6t[f6t][C6t] - h6t[f6t]["_SMA " + z6t.name];if(t6t < 0){Q4D.g03(79);g6t+=Q4D.I03(1,t6t);}else {v6t+=t6t;}L6t.push(t6t);if(L6t.length > Y6t){t6t=L6t.shift();if(t6t < 0){Q4D.g03(79);g6t-=Q4D.I03(1,t6t);}else {v6t-=t6t;}}if(f6t < z6t.startFrom)continue;h6t[f6t]["TII " + z6t.name]=A6t(v6t,g6t);}i6t.Studies.MA("ema",z6t.inputs[a1f],x1f + z6t.name,0,"Signal",K6t,z6t);};o4e=101523919;n4e=-529954344;z4e=2;for(var w4e=1;Q4D.N9e(w4e.toString(),w4e.toString().length,45605) !== o4e;w4e++){c1f="f";c1f+="iel";c1f+="d";i6t.Studies.studyLibrary=i6t.extend(i6t.Studies.studyLibrary,{"Trend Int":{name:"Trend Int",calculateFN:i6t.Studies.calculateTrendIntensity,range:"auto",inputs:{Period:45,Field:c1f,"Signal Period":1},outputs:{TII:"auto",Signal:"Trend Int"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:48,studyOverBoughtColor:"Signal Period",studyOverSoldValue:81,studyOverSoldColor:"auto"}}}});z4e+=2;}if(Q4D.N9e(z4e.toString(),z4e.toString().length,93053) !== n4e){W1f="0 ";W1f+="to 100";i6t.Studies.studyLibrary=i6t.extend(i6t.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:i6t.Studies.calculateTrendIntensity,range:W1f,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}}};J0g=c6t=>{var s6t;s6t=typeof _CIQ !== "undefined"?_CIQ:c6t.CIQ;if(!s6t.Studies){console.error("trix feature requires first activating studies feature.");}else {s6t.Studies.calculateTRIX=function(P6t,n6t){var E5D=z7QQ;var V6t,x6t,y6t,T7f,H6t,h7f,d6t,r6t;V6t=n6t.chart.scrubbed;E5D.T6D();if(V6t.length < n6t.days + 1){n6t.error=!"";return;}x6t=n6t.name;E5D.g03(2);y6t=["Close",E5D.J03("_MA1 ",x6t),E5D.I03("_MA2 ",x6t),E5D.J03("_MA3 ",x6t)];for(var X6t=0;X6t < y6t.length - 1;X6t++){T7f="exp";T7f+="o";T7f+="nential";s6t.Studies.MA(T7f,n6t.days,y6t[X6t],0,"_MA" + (X6t + ("1" >> 774546016)).toString(),P6t,n6t);}H6t=y6t[3];for(var U6t=Math.max(1,n6t.startFrom);U6t < V6t.length;U6t++){h7f="R";h7f+="es";h7f+="ul";h7f+="t ";E5D.C03(4);d6t=V6t[E5D.J03(U6t,1)][H6t];if(!d6t)continue;r6t=V6t[U6t][H6t];if(r6t || r6t === ("0" ^ 0)){E5D.C03(2);V6t[U6t][E5D.J03(h7f,x6t)]=E5D.J03(1,r6t,100,d6t,E5D.C03(67));}}};s6t.Studies.studyLibrary=s6t.extend(s6t.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:s6t.Studies.calculateTRIX}});}};s0g=Q6t=>{var V7f,D6t;V7f="undefin";V7f+="ed";D6t=typeof _CIQ !== V7f?_CIQ:Q6t.CIQ;if(!D6t.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {D6t.Studies.calculateTwiggsMoneyFlow=function(k6t,N6t){var e6t,q6t,I6t,j6t,B7f,y7f,l7f,S6t,W6t,Y7f;e6t=N6t.chart.scrubbed;if(e6t.length < N6t.days){N6t.error=!0;return;}q6t=0;I6t=0;j6t=e6t[N6t.startFrom - 1];if(j6t){B7f="_sum";B7f+="MF";B7f+=" ";if(j6t[B7f + N6t.name]){q6t=j6t["_sumMF " + N6t.name];}if(j6t["_sumV " + N6t.name]){I6t=j6t["_sumV " + N6t.name];}}for(var G6t=Math.max(1,N6t.startFrom);G6t < e6t.length;G6t++){y7f="_MFV";y7f+=" ";l7f="_";l7f+="MFV";l7f+=" ";S6t=Math.max(e6t[G6t - 1].Close,e6t[G6t].High);W6t=Math.min(e6t[G6t - 1].Close,e6t[G6t].Low);e6t[G6t][l7f + N6t.name]=e6t[G6t].Volume * (2 * e6t[G6t].Close - S6t - W6t) / (S6t - W6t === 0?"999999" - 0:S6t - W6t);if(G6t > N6t.days - ("1" >> 1797811008)){q6t*=(N6t.days - 1) / N6t.days;I6t*=(N6t.days - 1) / N6t.days;}q6t+=e6t[G6t][y7f + N6t.name];I6t+=e6t[G6t].Volume;if(G6t > N6t.days - 1){Y7f="Re";Y7f+="sult ";if(I6t){z7QQ.g03(6);e6t[G6t][Y7f + N6t.name]=z7QQ.J03(q6t,I6t > 0?I6t:999999);}}e6t[G6t]["_sumMF " + N6t.name]=q6t;e6t[G6t]["_sumV " + N6t.name]=I6t;}};D6t.Studies.studyLibrary=D6t.extend(D6t.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:D6t.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};c0g=l6t=>{var F6t,G7f,e7f,O7f;F6t=typeof _CIQ !== "undefined"?_CIQ:l6t.CIQ;if(!F6t.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!F6t.Studies.calculateTypicalPrice){G7f="typicalPrice feature requires first activating med";G7f+="ianPrice feature.";console.error(G7f);}else {e7f="Weigh";e7f+="t";e7f+="e";e7f+="d Close";O7f="Typical Pri";O7f+="ce";F6t.Studies.studyLibrary=F6t.extend(F6t.Studies.studyLibrary,{"Typical Price":{name:O7f,calculateFN:F6t.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:e7f,calculateFN:F6t.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};n0g=R6t=>{var B6t;z7QQ.T6D();B6t=typeof _CIQ !== "undefined"?_CIQ:R6t.CIQ;if(!B6t.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {B6t.Studies.calculateUlcerIndex=function(p6t,u6t){var m7f,m6t,O6t,Z6t,k7f,T6t;function o6t(E0K,b0K,i0K){var M0K;M0K=null;z7QQ.T6D();for(var a6t=b0K - E0K + 1;a6t <= b0K;a6t++){if(a6t < 0)continue;M0K=M0K === null?m6t[a6t][i0K]:Math.max(M0K,m6t[a6t][i0K]);}return M0K;}m7f="_";m7f+="M";m7f+="A";m6t=u6t.chart.scrubbed;if(m6t.length < 2 * u6t.days - 1){u6t.error=! ![];return;}O6t=u6t.inputs.Field;if(!O6t || O6t == "field"){O6t="Close";}z7QQ.T6D();for(Z6t=Math.max(u6t.startFrom,u6t.days - 1);Z6t < m6t.length;Z6t++){m6t[Z6t]["_PD2 " + u6t.name]=Math.pow(100 * (m6t[Z6t][O6t] / o6t(u6t.days,Z6t,O6t) - 1),2);}B6t.Studies.MA("simple",u6t.days,"_PD2 " + u6t.name,0,m7f,p6t,u6t);for(Z6t=Math.max(u6t.startFrom,2 * (u6t.days - 1));Z6t < m6t.length;Z6t++){k7f="Resul";k7f+="t ";T6t=m6t[Z6t]["_MA " + u6t.name];if(T6t || T6t === "0" - 0){m6t[Z6t][k7f + u6t.name]=Math.sqrt(T6t);}}};B6t.Studies.studyLibrary=B6t.extend(B6t.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:B6t.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};V0g=f0K=>{var z0K,s7f,X7f;z0K=typeof _CIQ !== "undefined"?_CIQ:f0K.CIQ;if(!z0K.Studies){s7f="ultimate";s7f+="Oscillator feature r";s7f+="equires first activating studies feature.";console.error(s7f);}else {X7f="au";X7f+="t";X7f+="o";z0K.Studies.calculateUltimateOscillator=function(r0K,h0K){var f5D=z7QQ;var A7f,t0K,v0K,K0K,A0K,w0K,J0K,L0K,Y0K,i7f,s0K,n0K,V0K,c0K,U0K,x0K,X0K,y0K;A7f="Cycl";A7f+="e 2";t0K=h0K.chart.scrubbed;v0K=[h0K.inputs["Cycle 1"],h0K.inputs[A7f],h0K.inputs["Cycle 3"]];K0K=Math.max(v0K[0],v0K[1],v0K[2]);if(t0K.length < K0K + 1){h0K.error=!0;return;}A0K=v0K[0] * v0K[1];w0K=v0K[0] * v0K[2];J0K=v0K[1] * v0K[2];L0K=[+"0",0,0];f5D.g03(23);Y0K=[f5D.I03("0",2147483647),0,0];if(h0K.startFrom){if(t0K[h0K.startFrom - +"1"]["_accbp " + h0K.name]){L0K=t0K[h0K.startFrom - 1]["_accbp " + h0K.name].slice();}if(t0K[h0K.startFrom - 1]["_acctr " + h0K.name]){Y0K=t0K[h0K.startFrom - 1]["_acctr " + h0K.name].slice();}}for(var C0K=Math.max(1,h0K.startFrom);C0K < t0K.length;C0K++){i7f="_acc";i7f+="t";i7f+="r ";s0K=Math.min(t0K[C0K].Low,t0K[C0K - 1].Close);n0K=t0K[C0K].Close - s0K;V0K=Math.max(t0K[C0K].High,t0K[C0K - 1].Close) - s0K;for(var g0K=0;g0K < v0K.length;g0K++){L0K[g0K]+=n0K;Y0K[g0K]+=V0K;if(C0K > v0K[g0K]){c0K=Math.min(t0K[C0K - v0K[g0K]].Low,t0K[C0K - v0K[g0K] - 1].Close);U0K=t0K[C0K - v0K[g0K]].Close - c0K;x0K=Math.max(t0K[C0K - v0K[g0K]].High,t0K[C0K - v0K[g0K] - 1].Close) - c0K;L0K[g0K]-=U0K;Y0K[g0K]-=x0K;}}t0K[C0K]["_accbp " + h0K.name]=L0K.slice();t0K[C0K][i7f + h0K.name]=Y0K.slice();if(C0K < K0K)continue;X0K=J0K * L0K[0] / Y0K[0] + w0K * L0K[1] / Y0K[+"1"] + A0K * L0K[2] / Y0K["2" * 1];f5D.g03(45);y0K=f5D.I03(A0K,w0K,J0K);f5D.C03(58);t0K[C0K]["Result " + h0K.name]=f5D.J03(y0K,100,X0K);}};z0K.Studies.studyLibrary=z0K.extend(z0K.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:z0K.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":+"28"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:X7f}}}});}};U0g=d0K=>{var H0K,J7f,d7f;z7QQ.T6D();H0K=typeof _CIQ !== "undefined"?_CIQ:d0K.CIQ;if(!H0K.Studies){J7f="valu";J7f+="ationL";J7f+="ines feature requires fir";J7f+="st activating studies feature.";console.error(J7f);}else {d7f="#";d7f+="e";d7f+="1e1e";d7f+="1";H0K.Studies.calculateValuationLines=function(I0K,P0K,j0K){var p5D=z7QQ;var o7f,u7f,S7f,l0K,u0K,B0K,S0K,W0K,k0K,F0K,D0K,Q0K,N0K,e0K,q0K,R0K;o7f="Displa";o7f+="y 1 Standard Deviation (1\u03C3)";u7f="C";u7f+="lo";u7f+="s";u7f+="e";S7f="fi";S7f+="e";S7f+="ld";l0K=P0K.inputs.Field == S7f?u7f:P0K.inputs.Field;u0K=P0K.inputs["Average Type"];B0K=P0K.inputs["Display Average"];S0K=P0K.inputs[o7f];W0K=P0K.inputs["Display 2 Standard Deviation (2\u03C3)"];p5D.k6D();k0K=P0K.inputs["Display 3 Standard Deviation (3\u03C3)"];F0K=[];for(var G0K=+"0";G0K < j0K.length;++G0K){if(j0K[G0K] && !isNaN(j0K[G0K][l0K])){F0K.push(j0K[G0K][l0K]);}}D0K=(function(p0K,M4K){var n7f,Z0K,O0K,T0K,m0K,o0K,a0K,j3e,N3e,E3e;n7f="m";n7f+="e";p5D.k6D();n7f+="dian";Z0K=p0K.length;O0K=0;T0K=0;m0K=0;switch(M4K){case "mean":T0K=Z0K;for(;m0K < Z0K;++m0K){O0K+=p0K[m0K];}break;case "harmonic":O0K=Z0K;for(;m0K < Z0K;++m0K){T0K+=1 / p0K[m0K];}break;case n7f:p5D.C03(6);o0K=Math.floor(p5D.J03(Z0K,2));a0K=p0K.slice().sort(function(b4K,i4K){var p5e,w5e,b5e;p5D.T6D();if(b4K > i4K){return 1;}p5e=-1843833846;w5e=-968567750;p5D.C03(1);b5e=p5D.J03("2",0);for(var C5e=1;p5D.E9e(C5e.toString(),C5e.toString().length,91894) !== p5e;C5e++){if(b4K >= i4K){return + +"0";}return 7;}if(p5D.E9e(b5e.toString(),b5e.toString().length,43634) !== w5e){if(b4K < i4K){p5D.C03(0);return -p5D.J03(1747102048,"1");}return 0;}});if(Z0K % ("2" & 2147483647) === 0){O0K=a0K[o0K] + a0K[o0K - 1];T0K=2;}else {O0K=a0K[o0K];T0K=1;}break;}j3e=1105105229;N3e=-954516800;E3e=2;for(var t3e=1;p5D.E9e(t3e.toString(),t3e.toString().length,65329) !== j3e;t3e++){p5D.g03(6);return p5D.J03(O0K,T0K);}if(p5D.N9e(E3e.toString(),E3e.toString().length,37330) !== N3e){p5D.g03(2);return p5D.I03(O0K,T0K);}})(F0K,u0K);Q0K=!(S0K || W0K || k0K) || (function(t4K,h4K){var z4K,f4K;z4K=t4K.length;f4K=0;for(var E4K=0;E4K < z4K;++E4K){f4K+=Math.pow(t4K[E4K] - h4K,2);}p5D.C03(6);p5D.T6D();return Math.sqrt(p5D.I03(f4K,z4K));})(F0K,D0K);P0K.data={Average:B0K?[D0K]:null,"1 Standard Deviation (1\u03C3)":S0K?[D0K + Q0K,D0K - Q0K]:null,"2 Standard Deviation (2\u03C3)":W0K?[D0K + Q0K * 2,D0K - Q0K * ("2" << 1679485600)]:null,"3 Standard Deviation (3\u03C3)":k0K?[D0K + Q0K * ("3" >> 2075619968),D0K - Q0K * 3]:null};N0K=Q0K;if(!P0K.parameters){P0K.parameters={};}if(k0K){p5D.g03(80);P0K.parameters.range=[p5D.I03(N0K,3,D0K,Q0K),p5D.I03(N0K,D0K,3,Q0K,p5D.g03(81))];}else if(W0K){p5D.C03(80);P0K.parameters.range=[p5D.J03(N0K,2,D0K,Q0K),p5D.I03(N0K,D0K,2,Q0K,p5D.g03(81))];}else if(S0K){p5D.g03(55);P0K.parameters.range=[p5D.J03(D0K,N0K,Q0K),p5D.I03(N0K,Q0K,D0K,p5D.C03(45))];}else if(B0K){p5D.C03(4);P0K.parameters.range=[p5D.I03(D0K,N0K),p5D.J03(D0K,N0K,p5D.g03(2))];}if(P0K.panel){e0K=I0K.panels[P0K.panel];q0K=I0K.getYAxisByName(e0K,P0K.name);if(q0K){q0K.decimalPlaces=e0K.chart.yAxis.printDecimalPlaces;R0K={yAxis:q0K};I0K.calculateYAxisRange(e0K,q0K,P0K.parameters.range[+"0"],P0K.parameters.range[1]);I0K.createYAxis(e0K,R0K);I0K.drawYAxis(e0K,R0K);}}};H0K.Studies.displayValuationLines=function(v4K,L4K){var X5D=z7QQ;var b7f,w7f,p7f,z7f,C4K,Y4K,A4K,s4K,P4K,D4K,Q4K,w4K,J4K,c4K,U4K,x4K,X4K,y4K,n4K,V4K,g4K,r4K,N4K,H4K,f7f,F7f,Q7f,C7f,L7f,d4K;b7f="stx_ya";b7f+="xi";b7f+="s";w7f="ciq-v";X5D.T6D();w7f+="aluati";w7f+="on-average-";w7f+="line";p7f="H";p7f+="A";p7f+="V";p7f+="G";z7f="M";z7f+="ED";C4K=v4K.panels[L4K.panel];Y4K=L4K.getYAxis(v4K);A4K=L4K.getContext(v4K);s4K=L4K.data;P4K=L4K.parameters.labels;D4K=L4K.inputs["Average Type"];Q4K={mean:"AVG",median:z7f,harmonic:p7f};w4K=v4K.canvasStyle(w7f);J4K=v4K.canvasStyle("ciq-valuation-deviation-line");c4K=3;U4K=v4K.getCanvasFontSize(b7f) + c4K * 2;for(var K4K in s4K){if(!s4K[K4K])continue;X5D.C03(82);x4K=X5D.J03(K4K,"Average");X4K=H0K.Studies.determineColor(L4K.outputs[K4K]);y4K=s4K[K4K];for(n4K=0;n4K < y4K.length;++n4K){f7f="\u03C3";f7f+=":";f7f+=" ";F7f="y";F7f+="ax";F7f+="is";Q7f="da";Q7f+="she";Q7f+="d";C7f="n";C7f+="o";C7f+="n";C7f+="e";L7f="s";L7f+="o";L7f+="li";L7f+="d";V4K=y4K[n4K];g4K=v4K.pixelFromPrice(V4K,C4K,Y4K);if(g4K <= C4K.top || g4K >= C4K.yAxis.bottom)continue;H4K=x4K?{pattern:w4K.borderStyle != "none"?w4K.borderStyle || "solid":L7f,lineWidth:parseFloat(w4K.borderWidth) || 1,opacity:parseFloat(w4K.opacity) || 1,yAxis:Y4K}:{pattern:J4K.borderStyle != C7f?J4K.borderStyle || Q7f:"dashed",lineWidth:parseFloat(J4K.borderWidth) || 1,opacity:parseFloat(J4K.opacity) || 1,yAxis:Y4K};v4K.plotLine(C4K.left,C4K.right,g4K,g4K,X4K,"line",A4K,C4K,H4K);if(P4K === F7f){v4K.createYAxisLabel(C4K,v4K.formatYAxisPrice(V4K,C4K),g4K,X4K,null,A4K,Y4K);continue;}g4K+=Math.floor(H4K.lineWidth / 2);if(g4K + U4K >= C4K.yAxis.bottom)continue;r4K=(x4K?Q4K[D4K] + ": ":K4K[0] + f7f) + v4K.formatYAxisPrice(V4K,C4K);N4K=A4K.measureText(r4K).width;d4K=C4K.right - N4K - c4K;if(Y4K && Y4K.position == "left"){d4K=C4K.left + c4K;}X5D.g03(83);A4K.strokeText(r4K,d4K,X5D.I03(g4K,0.5,U4K,2));}}};H0K.Studies.studyLibrary=H0K.extend(H0K.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(G4K,e4K,I4K){H0K.Studies.calculateValuationLines(G4K,e4K,I4K);z7QQ.k6D();H0K.Studies.displayValuationLines(G4K,e4K);},overlay:! ![],yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":! !"","Display 2 Standard Deviation (2\u03C3)":! !0,"Display 3 Standard Deviation (3\u03C3)":! !0},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":d7f,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};x0g=j4K=>{var v7f,q4K,R7f,U7f,Z7f;v7f="unde";z7QQ.T6D();v7f+="fined";q4K=typeof _CIQ !== v7f?_CIQ:j4K.CIQ;if(!q4K.Studies){R7f="volatilityIndex fea";R7f+="ture requires first activating studies feature.";console.error(R7f);}else {U7f="a";U7f+="uto";Z7f="0 t";Z7f+="o";Z7f+=" 1";Z7f+="00";q4K.Studies.calculateRelativeVolatility=function(m4K,S4K){var N5D=z7QQ;var I7f,P7f,Z4K,B4K,W4K,F4K,l4K,q7f,H7f,k4K,u4K;I7f="m";I7f+="a";P7f="Smoothing Per";P7f+="iod";S4K.days=Number(S4K.inputs[P7f]);Z4K=Number(S4K.inputs["STD Period"]);B4K=S4K.chart.scrubbed;if(B4K.length < S4K.days + Z4K){S4K.error=! ![];return;}function O4K(T4K,p4K){if(T4K + p4K === 0){return +"100";}N5D.C03(64);return N5D.I03(p4K,T4K,100,T4K);}W4K=S4K.inputs.Field;if(!W4K || W4K == "field"){W4K="Close";}S4K.std=new q4K.Studies.StudyDescriptor(S4K.name,"sdev",S4K.panel);S4K.std.chart=S4K.chart;S4K.std.days=Z4K;S4K.std.startFrom=S4K.startFrom;S4K.std.inputs={Field:W4K,"Standard Deviations":1,Type:I7f};S4K.std.outputs={_STD:null};q4K.Studies.calculateStandardDeviation(m4K,S4K.std);F4K=0;N5D.C03(0);N5D.k6D();l4K=N5D.J03(1430176512,"0");if(S4K.startFrom > 1){q7f="_";q7f+="av";q7f+="g";q7f+="G ";F4K=B4K[S4K.startFrom - ("1" & 2147483647)][q7f + S4K.name] || +"0";l4K=B4K[S4K.startFrom - 1]["_avgL " + S4K.name] || 0;}for(var R4K=Math.max(S4K.startFrom,S4K.days);R4K < B4K.length;R4K++){H7f="_av";H7f+="gL";H7f+=" ";k4K=B4K[R4K];N5D.g03(4);u4K=B4K[N5D.J03(R4K,1)];if(!k4K[W4K] && k4K[W4K] !== 0)continue;if(!u4K[W4K] && u4K[W4K] !== 0)continue;if(!k4K["_STD " + S4K.name] && k4K["_STD " + S4K.name] !== 0)continue;if(k4K[W4K] > u4K[W4K]){F4K=(F4K * (S4K.days - 1) + k4K["_STD " + S4K.name]) / S4K.days;l4K=l4K * (S4K.days - +"1") / S4K.days;}else {l4K=(l4K * (S4K.days - 1) + k4K["_STD " + S4K.name]) / S4K.days;F4K=F4K * (S4K.days - 1) / S4K.days;}k4K["Rel Vol " + S4K.name]=O4K(F4K,l4K);k4K["_avgG " + S4K.name]=F4K;k4K[H7f + S4K.name]=l4K;}S4K.zoneOutput="Rel Vol";};q4K.Studies.calculateHistoricalVolatility=function(t7K,o4K){var v5D=z7QQ;var g7f,a4K,E7K,z7K,g7K,i7K,v2e,R2e,P2e,M7K,h7K,C7K,v7K;g7f="Standard Dev";g7f+="iatio";g7f+="ns";a4K=o4K.chart.scrubbed;if(a4K.length < o4K.days + ("1" & 2147483647)){o4K.error=!0;return;}E7K=o4K.inputs.Field;if(!E7K || E7K == "field"){E7K="Close";}z7K=o4K.inputs[g7f];if(z7K < 0){z7K=+"1";}g7K=100 * Math.sqrt(L7K(o4K.inputs["Days Per Year"])) * z7K;i7K=[];v2e=-1245266815;R2e=-534292643;P2e=2;for(var q2e=1;v5D.N9e(q2e.toString(),q2e.toString().length,15503) !== v2e;q2e++){v5D.g03(12);M7K=v5D.J03("0",1);P2e+=+"2";}if(v5D.N9e(P2e.toString(),P2e.toString().length,+"22767") !== R2e){M7K=+"1";}if(o4K.startFrom > +"1"){M7K=a4K[o4K.startFrom - 1]["_state " + o4K.name][0];i7K=a4K[o4K.startFrom - 1]["_state " + o4K.name][1].slice();}for(var b7K=Math.max(1,o4K.startFrom);b7K < a4K.length;b7K++){v5D.g03(69);h7K=a4K[v5D.I03("1",b7K,0)][E7K];if(h7K){C7K=Math.log(a4K[b7K][E7K] / h7K);i7K.push(C7K);M7K+=C7K;if(b7K >= o4K.days){v7K=0;M7K/=o4K.days;for(var f7K=0;f7K < i7K.length;f7K++){v7K+=Math.pow(i7K[f7K] - M7K,2);}M7K*=o4K.days;M7K-=i7K.shift();a4K[b7K]["Result " + o4K.name]=Math.sqrt(v7K / o4K.days) * g7K;}}a4K[b7K]["_state " + o4K.name]=[M7K,i7K.slice()];}function L7K(Y7K){v5D.k6D();if(isNaN(Y7K)){Y7K=365;}if(t7K.layout.interval == "day"){return Y7K;}else if(t7K.layout.interval == "week"){return 52;}else if(t7K.layout.interval == "month"){return 12;}return Y7K;}};q4K.Studies.studyLibrary=q4K.extend(q4K.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:q4K.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:Z7f,calculateFN:q4K.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":"10" << 87621248,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:"50" ^ 0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"70" - 0,studyOverBoughtColor:U7f,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};X0g=A7K=>{var K7K,D7f;K7K=typeof _CIQ !== "undefined"?_CIQ:A7K.CIQ;z7QQ.k6D();if(!K7K.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {D7f="Volume P";D7f+="ro";D7f+="fil";D7f+="e";K7K.Studies.displayVolumeProfile=function(s7K,V7K,k7K){var n7K,x7K,r7K,P7K,D7K,q7K,J7K,j7f,n3e,z3e,p3e,H7K,c7K,F7K,d7K,y7K,w7K,j7K,S7K,G7K,e7K,U7K,l7K,W7K,B7K,I7K,E7f;if(!s7K || !s7K.chart.dataSet){return;}function R7K(E8K,T7K){var c1D=z7QQ;var o7K,p7K,m7K,Z7K,O7K,a7K,M8K,N7f,b8K,i8K;if(!T7K){U7K-=2;}I7K.canvasColor(E8K);w7K.beginPath();o7K=J7K[0][0];p7K=U7K;for(var u7K="1" - 0;u7K < J7K.length;u7K++){if(J7K[u7K][1]){m7K=Math.round(U7K - J7K[u7K][1] * l7K / H7K) - 0.5;Z7K=Math.round(I7K.pixelFromTransformedValue(o7K,G7K)) + 0.5;O7K=Math.round(I7K.pixelFromTransformedValue(J7K[u7K][0],G7K)) + 0.5;if(!T7K){Z7K-=0.5;O7K+=+"0.5";m7K+=0.5;}if(Z7K > e7K){Z7K=e7K;}if(O7K < e7K){w7K.moveTo(U7K,Z7K);w7K.lineTo(U7K,O7K);w7K.lineTo(m7K,O7K);w7K.lineTo(m7K,Z7K);if(T7K){if(p7K > m7K || u7K == 1){w7K.lineTo(p7K,Z7K);};}else {w7K.lineTo(U7K,Z7K);if(D7K){a7K=K7K.condenseInt(J7K[u7K][1]);c1D.C03(4);M8K=c1D.J03(Z7K,O7K);if(S7K <= M8K - 2){N7f="t";N7f+="o";N7f+="p";try{b8K=w7K.measureText(a7K).width;}catch(z8K){c1D.g03(4);b8K=c1D.I03("0",0);}w7K.textBaseline=N7f;i8K=w7K.fillStyle;w7K.fillStyle=W7K;c1D.g03(55);w7K.fillText(a7K,c1D.J03(m7K,3,b8K),c1D.I03(S7K,2,2,O7K,M8K,c1D.g03(84)));w7K.fillStyle=i8K;}}}}p7K=m7K;}else {p7K=U7K;;}o7K=J7K[u7K][0];}c1D.k6D();if(!V7K.highlight && s7K.highlightedDraggable){c1D.g03(12);w7K.globalAlpha*=c1D.J03("0.3",1);}if(!T7K){w7K.fill();}w7K.strokeStyle=W7K;if(T7K){w7K.stroke();}w7K.closePath();}n7K=s7K.chart;x7K=V7K.parameters.numberOfBars;r7K=V7K.parameters.widthPercentage;P7K=V7K.parameters.displayBorder;D7K=V7K.parameters.displayVolume;if(!x7K || x7K < 0){x7K=30;}x7K=Math.ceil(x7K);if(!r7K || r7K < ("0" ^ 0)){r7K=0.25;}if(P7K !== ![]){P7K=!0;}if(D7K !== ! !1){D7K=!{};}q7K=(n7K.highValue - n7K.lowValue) / x7K;if(q7K === 0){return;}J7K=[];for(var Q7K=n7K.lowValue;Q7K < n7K.highValue + 0.1;Q7K+=q7K){J7K.push([Q7K,0]);}if(J7K.length < 2){j7f="Not enough data to render the Volu";j7f+="me Profile";s7K.displayErrorAsWatermark("chart",s7K.translateIf(j7f));n3e=-270554328;z3e=440541427;p3e=2;for(var b3e=1;z7QQ.E9e(b3e.toString(),b3e.toString().length,+"77941") !== n3e;b3e++){return;}if(z7QQ.N9e(p3e.toString(),p3e.toString().length,30225) !== z3e){return;}}H7K=+"0";for(var N7K=+"0";N7K < k7K.length;N7K++){c7K=k7K[N7K];if(!c7K)continue;F7K=c7K.Volume;if(V7K.panel == n7K.name && c7K.transform){c7K=c7K.transform;}d7K=J7K[0][+"0"];y7K=0;for(var X7K=1;X7K < J7K.length;X7K++){y7K=J7K[X7K][0];if(c7K.Low >= d7K && c7K.Low <= y7K || c7K.Low < d7K && c7K.High > y7K || c7K.High >= d7K && c7K.High <= y7K){J7K[X7K][1]+=F7K;if(J7K[X7K][1] > H7K){H7K=J7K[X7K][1];}}d7K=y7K;}}if(H7K === 0){s7K.displayErrorAsWatermark("chart",s7K.translateIf("Not enough data to render the Volume Profile"));return;}s7K.setStyle("stx_volume_profile","color",K7K.Studies.determineColor(V7K.outputs["Bars Color"]));w7K=V7K.getContext(s7K);j7K="stx-";j7K+="float-date";s7K.canvasFont(j7K,w7K);S7K=s7K.getCanvasFontSize(j7K);G7K=n7K.panel;e7K=G7K.yAxis.bottom;z7QQ.T6D();U7K=Math.round(n7K.right) - 0.5;l7K=n7K.width * r7K;W7K=s7K.canvasStyle("stx_volume_profile").borderTopColor;B7K=!K7K.isTransparent(s7K.canvasStyle("stx_volume_profile").borderTopColor) && P7K;I7K=s7K;R7K("stx_volume_profile",!1);if(B7K){E7f="stx_vol";E7f+="ume_";E7f+="pro";E7f+="file";R7K(E7f,! ![]);}w7K.globalAlpha=1;};K7K.Studies.studyLibrary=K7K.extend(K7K.Studies.studyLibrary,{"vol profile":{name:D7f,underlay:! !1,seriesFN:K7K.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !1,parameters:{init:{displayBorder:!0,displayVolume:!1,numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:!""},panelName:{hidden:!0},flippedEnabled:{hidden:! !{}}}}});}};y0g=t8K=>{z7QQ.k6D();var f8K,l6f,B6f,V6f,h6f,T6f,W7f;f8K=typeof _CIQ !== "undefined"?_CIQ:t8K.CIQ;if(!f8K.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {l6f="#b8";l6f+="2";l6f+="c0";l6f+="c";B6f="#8";B6f+="c";B6f+="c17";B6f+="6";V6f="Volume";V6f+=" Rate of Ch";V6f+="ange";h6f="#";h6f+="FF0000";T6f="On Balance Volu";T6f+="me";W7f="f";W7f+="i";W7f+="e";W7f+="ld";f8K.Studies.calculateOnBalanceVolume=function(s8K,v8K){var h8K,g8K,J8K,Y8K,K8K,L8K,A8K,t7f,w8K;h8K=v8K.inputs.Field;if(!h8K || h8K == "field"){h8K="Close";}g8K=v8K.inputs["Min Tick Value"];J8K=!{};if(!g8K && g8K !== 0){J8K=! ![];g8K=0;}Y8K=v8K.chart.scrubbed;K8K=0;for(var C8K=v8K.startFrom;C8K < Y8K.length;C8K++){t7f="R";t7f+="e";t7f+="sul";t7f+="t ";L8K=Y8K[C8K];if(!C8K || !L8K[h8K])continue;if(Y8K[C8K - +"1"][h8K]){z7QQ.g03(52);A8K=Y8K[z7QQ.I03(C8K,"1")];}if(!A8K)continue;if(L8K[h8K] - A8K[h8K] > g8K){K8K=1;}else if(A8K[h8K] - L8K[h8K] > g8K){K8K=-1;}else if(J8K){K8K=0;}w8K=A8K["Result " + v8K.name];if(!w8K){w8K=0;}w8K+=L8K.Volume * K8K;L8K[t7f + v8K.name]=w8K;}};f8K.Studies.calculatePriceVolumeTrend=function(X8K,U8K){var V8K,c8K,x8K,D9e,t9e,M9e,M7f;V8K=U8K.inputs.Field;if(!V8K || V8K == "field"){V8K="Close";}z7QQ.T6D();c8K=U8K.chart.scrubbed;x8K=0;if(U8K.startFrom > 1){D9e=-1673758918;t9e=+"149422178";M9e=2;for(var K9e=+"1";z7QQ.N9e(K9e.toString(),K9e.toString().length,4911) !== D9e;K9e++){x8K=c8K[U8K.startFrom + 5]["" / U8K.name];M9e+=2;}if(z7QQ.E9e(M9e.toString(),M9e.toString().length,47091) !== t9e){x8K=c8K[U8K.startFrom + ("5" << 1388102592)]["" / U8K.name];}x8K=c8K[U8K.startFrom - 1]["Result " + U8K.name];}for(var n8K=Math.max(1,U8K.startFrom);n8K < c8K.length;n8K++){M7f="Res";M7f+="ult";M7f+=" ";if(!c8K[n8K][V8K])continue;if(!c8K[n8K - 1][V8K])continue;x8K+=c8K[n8K].Volume * (c8K[n8K][V8K] - c8K[n8K - 1][V8K]) / c8K[n8K - 1][V8K];c8K[n8K][M7f + U8K.name]=x8K;}};f8K.Studies.calculateVolumeIndex=function(e8K,y8K){var x5D=z7QQ;var c7f,x7f,r7f,D8K,r8K,Q8K,a7f,K7f,d8K,N8K,P8K,G8K;c7f="In";c7f+="dex";c7f+=" ";x7f="Movin";x7f+="g Average Type";r7f="Cl";r7f+="o";r7f+="se";D8K=y8K.inputs.Field;if(!D8K || D8K == "field"){D8K=r7f;}r8K=y8K.chart.scrubbed;if(r8K.length < y8K.days + 1){y8K.error=! ![];return;}Q8K=100;if(y8K.startFrom > 1){Q8K=r8K[y8K.startFrom - 1]["Index " + y8K.name];}for(var H8K=Math.max(1,y8K.startFrom);H8K < r8K.length;H8K++){a7f="Inde";a7f+="x ";K7f="o";K7f+="bjec";K7f+="t";d8K=r8K[H8K][D8K];N8K=r8K[H8K].Volume;if(d8K && typeof d8K == "object"){N8K=d8K.Volume;d8K=d8K[y8K.subField];}x5D.C03(4);P8K=r8K[x5D.J03(H8K,1)][D8K];G8K=r8K[H8K - 1].Volume;if(P8K && typeof P8K == K7f){G8K=P8K.Volume;P8K=P8K[y8K.subField];}if(!d8K)continue;if(!P8K)continue;if(y8K.type == "Pos Vol" && N8K > G8K || y8K.type == "Neg Vol" && N8K < G8K){x5D.g03(6);Q8K*=x5D.J03(d8K,P8K);}r8K[H8K][a7f + y8K.name]=Q8K;}f8K.Studies.MA(y8K.inputs[x7f],y8K.days,c7f + y8K.name,0,"MA",e8K,y8K);};f8K.Studies.studyLibrary=f8K.extend(f8K.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:f8K.Studies.calculateVolumeIndex,inputs:{Period:255,Field:W7f,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:T6f,calculateFN:f8K.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:f8K.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:h6f}},"Price Vol":{name:"Price Volume Trend",calculateFN:f8K.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:f8K.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":"0.5" - 0}},"Vol ROC":{name:V6f,calculateFN:function(I8K,q8K){var z5D=z7QQ;z5D.T6D();var f4e,d4e,v4e;if(f8K.Studies.calculateRateOfChange){f8K.Studies.calculateRateOfChange(I8K,q8K);}else {f4e=-410423595;z5D.g03(23);d4e=z5D.I03("1618657957",2147483647);v4e=2;for(var P4e=1;z5D.E9e(P4e.toString(),P4e.toString().length,99530) !== f4e;P4e++){console.error("");v4e+=2;}if(z5D.E9e(v4e.toString(),v4e.toString().length,30260) !== d4e){console.error("Volume Rate of Change study requires first activating momentum feature.");}f8K.Studies.calculateRateOfChange=function(j8K,S8K){};}},parameters:{init:{isVolume:! ![]}}},"vol undr":{name:"Volume Underlay",underlay:! !{},range:"0 to max",yAxis:{ground:! !1,initialMarginTop:+"0",position:"none",zoom:0,heightFactor:0.25},seriesFN:f8K.Studies.createVolumeChart,calculateFN:f8K.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":B6f,"Down Volume":l6f},customRemoval:!"",removeFN:function(W8K,k8K){z7QQ.k6D();W8K.layout.volumeUnderlay=!{};W8K.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};r0g=l8K=>{var F8K,m6f,e6f,O6f;z7QQ.T6D();F8K=typeof _CIQ !== "undefined"?_CIQ:l8K.CIQ;if(!F8K.Studies){console.error("vortex feature requires first activating studies feature.");}else {m6f="0";m6f+=".";m6f+="0";m6f+="1";e6f="0.";e6f+="0";e6f+="1";O6f="#";O6f+="00FF00";F8K.Studies.calculateVortex=function(M9K,B8K){var H5D=z7QQ;var m8K,O8K,R8K,G6f,u8K,T8K,p8K,o8K,a8K,Y6f,y6f;m8K=B8K.chart.scrubbed;H5D.k6D();O8K=B8K.days;if(m8K.length < O8K + 1){B8K.error=! ![];return;}R8K={tr:0,vmPlus:0,vmMinus:0};if(B8K.startFrom > ("1" | 0)){R8K=F8K.clone(m8K[B8K.startFrom - 1]["_totals " + B8K.name]);}for(var Z8K=Math.max(B8K.startFrom,1);Z8K < m8K.length;Z8K++){G6f="_Tr";G6f+="ue Range ";u8K=m8K[Z8K];H5D.g03(4);T8K=m8K[H5D.J03(Z8K,1)];p8K=Math.abs(u8K.High - T8K.Low);o8K=Math.abs(u8K.Low - T8K.High);a8K=Math.max(u8K.High,T8K.Close) - Math.min(u8K.Low,T8K.Close);R8K.tr+=a8K;R8K.vmPlus+=p8K;R8K.vmMinus+=o8K;if(Z8K > O8K){Y6f="_";Y6f+="V";Y6f+="M";Y6f+="Plus ";y6f="_T";y6f+="rue Range ";H5D.C03(4);R8K.tr-=m8K[H5D.J03(Z8K,O8K)][y6f + B8K.name];H5D.g03(4);R8K.vmPlus-=m8K[H5D.I03(Z8K,O8K)][Y6f + B8K.name];H5D.g03(4);R8K.vmMinus-=m8K[H5D.J03(Z8K,O8K)]["_VMMinus " + B8K.name];}u8K[G6f + B8K.name]=a8K;u8K["_VMPlus " + B8K.name]=p8K;u8K["_VMMinus " + B8K.name]=o8K;if(Z8K >= O8K){u8K["+VI " + B8K.name]=R8K.vmPlus / R8K.tr;u8K["-VI " + B8K.name]=R8K.vmMinus / R8K.tr;}u8K["_totals " + B8K.name]=F8K.clone(R8K);}};F8K.Studies.studyLibrary=F8K.extend(F8K.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:F8K.Studies.calculateVortex,centerline:1,outputs:{"+VI":O6f,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:e6f},studyOverSoldValue:{max:1,step:m6f}}}});}};H0g=i9K=>{var b9K,o6f;b9K=typeof _CIQ !== "undefined"?_CIQ:i9K.CIQ;if(!b9K.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {o6f="#f";o6f+="fd0";o6f+="cf";b9K.Studies.calculateMFI=function(g9K,E9K){var i6f,s6f,k6f,z9K,C9K,t9K,h9K,v9K,f9K,A6f;i6f="_";i6f+="hi";z7QQ.T6D();i6f+="st";s6f="_hig";s6f+="h";s6f+=" ";k6f="Sca";k6f+="le Fac";k6f+="t";k6f+="or";z9K=E9K.chart.scrubbed;z7QQ.C03(0);t9K=z7QQ.J03(1777238176,"0");h9K=E9K.inputs["Scale Factor"];if(!h9K){h9K=E9K.study.inputs[k6f];}v9K=Math.pow(10,Number(h9K));if(E9K.startFrom > 1){t9K=z9K[E9K.startFrom - 1][s6f + E9K.name];}for(f9K=E9K.startFrom;f9K < z9K.length;f9K++){if(!z9K[f9K])continue;if(z9K[f9K].Volume){A6f="_h";A6f+="igh";A6f+=" ";z9K[f9K][E9K.name + "_hist"]=C9K=v9K * (z9K[f9K].High - z9K[f9K].Low) / z9K[f9K].Volume;z9K[f9K][A6f + E9K.name]=t9K=Math.max(t9K,C9K);}}E9K.outputMap={};E9K.outputMap[E9K.name + i6f]="";};b9K.Studies.displayMFI=function(Y9K,L9K,n9K){var X6f,V9K,w9K,c9K,U9K,s9K,x9K,X9K,y9K,r9K,u6f,S6f,J6f,K9K,A9K;z7QQ.T6D();X6f="#CC";X6f+="CCCC";V9K=Y9K.panels[L9K.panel];w9K=L9K.getContext(Y9K);c9K=L9K.getYAxis(Y9K);U9K=c9K.flipped?c9K.top:c9K.bottom;s9K=Y9K.layout.candleWidth - 2;if(s9K < 2){s9K=1;}x9K=b9K.Studies.determineColor(L9K.outputs.Green);X9K=b9K.Studies.determineColor(L9K.outputs.Fade);y9K=b9K.Studies.determineColor(L9K.outputs.Fake);r9K=b9K.Studies.determineColor(L9K.outputs.Squat);Y9K.canvasColor("stx_histogram");if(!L9K.underlay){w9K.globalAlpha=1;}w9K.fillStyle=X6f;Y9K.startClip(L9K.panel);if(!L9K.highlight && Y9K.highlightedDraggable){w9K.globalAlpha*=0.3;}for(var J9K=0;J9K < n9K.length;J9K++){u6f="_";u6f+="his";u6f+="t";S6f="_h";S6f+="i";S6f+="s";S6f+="t";J6f="_";J6f+="hist";K9K=n9K[J9K];z7QQ.g03(4);A9K=n9K[z7QQ.J03(J9K,1)];if(!A9K){A9K=Y9K.getPreviousBar(Y9K.chart,L9K.name + "_hist",J9K);}if(!K9K)continue;if(!A9K);else if(A9K[L9K.name + J6f] < K9K[L9K.name + S6f]){if(A9K.Volume < K9K.Volume){w9K.fillStyle=x9K;}else if(A9K.Volume > K9K.Volume){w9K.fillStyle=y9K;}}else if(A9K[L9K.name + "_hist"] > K9K[L9K.name + "_hist"]){if(A9K.Volume < K9K.Volume){w9K.fillStyle=r9K;}else if(A9K.Volume > K9K.Volume){w9K.fillStyle=X9K;}}if(K9K.candleWidth){s9K=Math.floor(Math.max(1,K9K.candleWidth - 2));}w9K.fillRect(Math.floor(Y9K.pixelFromBar(J9K,V9K.chart) - s9K / 2),Math.floor(U9K),Math.floor(s9K),Math.floor(Y9K.pixelFromPrice(K9K[L9K.name + u6f],V9K,c9K) - U9K));}Y9K.endClip();};b9K.Studies.studyLibrary=b9K.extend(b9K.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:b9K.Studies.displayMFI,calculateFN:b9K.Studies.calculateMFI,yAxis:{ground:! ![]},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:o6f}}});}};N0g={CIQ:g1T,SplinePlotter:d0g,timezoneJS:P0g,$$:D0g,$$$:Q0g};export {L1T as aggregations};export {Y1T as drawingAdvanced};export {K1T as equationsAdvanced};export {A1T as highPerformanceMarkers};export {w1T as renderersAdvanced};export {J1T as accumulationDistribution};export {s1T as adx};export {c1T as alligator};export {n1T as aroon};export {V1T as atr};export {U1T as awesomeOscillator};export {x1T as balanceOfPower};export {X1T as bollinger};export {y1T as cci};export {r1T as centerOfGravity};export {H1T as chaikin};export {d1T as chande};export {P1T as choppiness};export {D1T as comparisonStudies};export {Q1T as coppock};export {N1T as darvasBox};export {G1T as detrended};export {e1T as disparity};export {I1T as easeOfMovement};export {q1T as ehlerFisher};export {j1T as elder};export {S1T as fractalChaos};export {W1T as highLowStudies};export {k1T as ichimoku};export {F1T as intradayMomentum};export {l1T as keltner};export {B1T as klinger};export {R1T as linearRegression};export {u1T as macd};export {Z1T as massIndex};export {m1T as moneyFlow};export {O1T as movingAverages};export {T1T as parabolicSAR};export {p1T as pivotPoints};export {o1T as prettyGoodOscillator};export {a1T as priceMomentumOscillator};export {M0g as priceVolumeOscillator};export {b0g as primeNumber};export {i0g as pring};export {E0g as projectedVolume};export {z0g as psychologicalLine};export {f0g as qstick};export {t0g as rainbow};export {h0g as randomWalk};export {C0g as relativeVigor};export {v0g as rsi};export {g0g as schaffTrendCycle};export {L0g as shinohara};export {Y0g as stochastics};export {K0g as supertrend};export {A0g as swingIndex};export {w0g as trendIntensity};export {J0g as trix};export {s0g as twiggsMoneyFlow};export {c0g as typicalPrice};export {n0g as ulcerIndex};export {V0g as ultimateOscillator};export {U0g as valuationLines};export {x0g as volatilityIndex};export {X0g as volumeProfile};export {y0g as volumeStudies};export {r0g as vortex};export {H0g as williamsMFI};export {g1T as CIQ, d0g as SplinePlotter, P0g as timezoneJS, D0g as $$, Q0g as $$$};if(typeof __TREE_SHAKE__ === A1oo || !__TREE_SHAKE__){(N0g.CIQ || g1T).activateImports(L1T,Y1T,K1T,A1T,w1T,J1T,s1T,c1T,n1T,V1T,U1T,x1T,X1T,y1T,r1T,H1T,d1T,P1T,D1T,Q1T,N1T,G1T,e1T,I1T,q1T,j1T,S1T,W1T,k1T,F1T,l1T,B1T,R1T,u1T,Z1T,m1T,O1T,T1T,p1T,o1T,a1T,M0g,b0g,i0g,E0g,z0g,f0g,t0g,h0g,C0g,v0g,g0g,L0g,Y0g,K0g,A0g,w0g,J0g,s0g,c0g,n0g,V0g,U0g,x0g,X0g,y0g,r0g,H0g,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
