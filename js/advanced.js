/**
 *	8.1.99
 *	Generation date: 2020-10-20T06:25:04.849Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2020-11-19"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
d2XX[561808]=(function(){var T=2;for(;T !== 9;){switch(T){case 1:return globalThis;break;case 2:T=typeof globalThis === '\x6f\u0062\x6a\x65\x63\x74'?1:5;break;case 5:var F;try{var X=2;for(;X !== 6;){switch(X){case 3:throw "";X=9;break;case 4:X=typeof UXFkT === '\u0075\x6e\u0064\u0065\x66\x69\x6e\u0065\x64'?3:9;break;case 9:delete F['\x55\x58\x46\x6b\x54'];var C=Object['\u0070\u0072\u006f\u0074\u006f\u0074\u0079\x70\x65'];delete C['\x4f\u0065\u0049\u0057\u0039'];X=6;break;case 2:Object['\u0064\x65\x66\u0069\x6e\u0065\x50\u0072\u006f\x70\x65\x72\x74\x79'](Object['\x70\x72\u006f\x74\u006f\x74\x79\x70\x65'],'\u004f\x65\x49\x57\x39',{'\x67\x65\x74':function(){var v=2;for(;v !== 1;){switch(v){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});F=OeIW9;F['\u0055\u0058\u0046\x6b\u0054']=F;X=4;break;}}}catch(Y){F=window;}return F;break;}}})();d2XX[395077]=L200(d2XX[561808]);d2XX[135064]=V211(d2XX[561808]);d2XX[68903]=(function(){var d2V=2;for(;d2V !== 9;){switch(d2V){case 2:var m2V=[arguments];m2V[7]=undefined;m2V[4]={};m2V[4].p95=function(){var M2V=2;for(;M2V !== 90;){switch(M2V){case 5:return 18;break;case 16:q2V[1].i9P=function(){var Z95=typeof f211 === 'function';return Z95;};q2V[2]=q2V[1];q2V[41]={};q2V[41].s9P=['w9P'];M2V=25;break;case 56:q2V[36]=q2V[5][q2V[72]];try{q2V[16]=q2V[36][q2V[65]]()?q2V[86]:q2V[77];}catch(L95){q2V[16]=q2V[77];}M2V=77;break;case 71:q2V[26]++;M2V=76;break;case 7:q2V[6]=q2V[8];q2V[9]={};M2V=14;break;case 41:q2V[20].i9P=function(){var G95=function(){return [] + ('a').concat('a');};var l95=!(/\x5b\u005d/).P211(G95 + []) && (/\u0061\u0061/).P211(G95 + []);return l95;};q2V[95]=q2V[20];q2V[67]={};q2V[67].s9P=['c9P'];q2V[67].i9P=function(){var w95=function(){return ('\u0041\u030A').normalize('NFC') === ('\u212B').normalize('NFC');};var S95=(/\u0074\x72\x75\u0065/).P211(w95 + []);return S95;};q2V[76]=q2V[67];q2V[5].c211(q2V[7]);M2V=53;break;case 53:q2V[5].c211(q2V[95]);q2V[5].c211(q2V[64]);q2V[5].c211(q2V[50]);q2V[5].c211(q2V[2]);M2V=49;break;case 14:q2V[9].s9P=['c9P'];q2V[9].i9P=function(){var B95=function(){return ('c').indexOf('c');};var R95=!(/['"]/).P211(B95 + []);return R95;};q2V[4]=q2V[9];q2V[3]={};q2V[3].s9P=['w9P'];q2V[3].i9P=function(){var g95=typeof M211 === 'function';return g95;};q2V[7]=q2V[3];M2V=18;break;case 68:M2V=60?68:67;break;case 57:M2V=q2V[72] < q2V[5].length?56:69;break;case 65:q2V[44]=[];q2V[86]='J9P';q2V[77]='C9P';q2V[13]='s9P';M2V=61;break;case 18:q2V[1]={};q2V[1].s9P=['w9P'];M2V=16;break;case 69:M2V=(function(o2V){var b2V=2;for(;b2V !== 22;){switch(b2V){case 26:b2V=v2V[9] >= 0.5?25:24;break;case 24:v2V[6]++;b2V=16;break;case 17:v2V[6]=0;b2V=16;break;case 7:b2V=v2V[6] < v2V[0][0].length?6:18;break;case 6:v2V[5]=v2V[0][0][v2V[6]];b2V=14;break;case 10:b2V=v2V[5][q2V[79]] === q2V[86]?20:19;break;case 12:v2V[3].c211(v2V[5][q2V[70]]);b2V=11;break;case 15:v2V[7]=v2V[3][v2V[6]];v2V[9]=v2V[1][v2V[7]].h / v2V[1][v2V[7]].t;b2V=26;break;case 18:v2V[4]=false;b2V=17;break;case 25:v2V[4]=true;b2V=24;break;case 1:b2V=v2V[0][0].length === 0?5:4;break;case 16:b2V=v2V[6] < v2V[3].length?15:23;break;case 23:return v2V[4];break;case 20:v2V[1][v2V[5][q2V[70]]].h+=true;b2V=19;break;case 14:b2V=typeof v2V[1][v2V[5][q2V[70]]] === 'undefined'?13:11;break;case 8:v2V[6]=0;b2V=7;break;case 13:v2V[1][v2V[5][q2V[70]]]=(function(){var Q2V=2;for(;Q2V !== 9;){switch(Q2V){case 2:var Y2V=[arguments];Y2V[6]={};Y2V[6].h=0;Q2V=4;break;case 4:Y2V[6].t=0;return Y2V[6];break;}}}).Q211(this,arguments);b2V=12;break;case 4:v2V[1]={};v2V[3]=[];v2V[6]=0;b2V=8;break;case 5:return;break;case 19:v2V[6]++;b2V=7;break;case 11:v2V[1][v2V[5][q2V[70]]].t+=true;b2V=10;break;case 2:var v2V=[arguments];b2V=1;break;}}})(q2V[44])?68:67;break;case 46:q2V[5].c211(q2V[55]);q2V[5].c211(q2V[17]);M2V=65;break;case 21:q2V[54].i9P=function(){var D95=typeof K211 === 'function';return D95;};q2V[17]=q2V[54];q2V[90]={};q2V[90].s9P=['c9P'];M2V=32;break;case 4:q2V[5]=[];q2V[8]={};q2V[8].s9P=['c9P'];q2V[8].i9P=function(){var n95=function(){return ('ab').charAt(1);};var r95=!(/\u0061/).P211(n95 + []);return r95;};M2V=7;break;case 70:q2V[72]++;M2V=57;break;case 67:m2V[7]=45;return 74;break;case 1:M2V=m2V[7]?5:4;break;case 28:q2V[84].i9P=function(){var d95=function(){return ('xy').substring(0,1);};var W95=!(/\u0079/).P211(d95 + []);return W95;};q2V[50]=q2V[84];q2V[20]={};q2V[20].s9P=['c9P'];M2V=41;break;case 2:var q2V=[arguments];M2V=1;break;case 75:q2V[25]={};q2V[25][q2V[70]]=q2V[36][q2V[13]][q2V[26]];q2V[25][q2V[79]]=q2V[16];q2V[44].c211(q2V[25]);M2V=71;break;case 61:q2V[79]='q9P';q2V[65]='i9P';q2V[70]='n9P';M2V=58;break;case 58:q2V[72]=0;M2V=57;break;case 77:q2V[26]=0;M2V=76;break;case 49:q2V[5].c211(q2V[6]);q2V[5].c211(q2V[76]);q2V[5].c211(q2V[4]);M2V=46;break;case 25:q2V[41].i9P=function(){var V95=false;var u95=[];try{for(var F95 in console){u95.c211(F95);}V95=u95.length === 0;}catch(t95){}var z95=V95;return z95;};q2V[55]=q2V[41];q2V[54]={};q2V[54].s9P=['w9P'];M2V=21;break;case 76:M2V=q2V[26] < q2V[36][q2V[13]].length?75:70;break;case 32:q2V[90].i9P=function(){var j95=function(){return ('aaaa|a').substr(0,3);};var o95=!(/\x7c/).P211(j95 + []);return o95;};q2V[64]=q2V[90];q2V[84]={};q2V[84].s9P=['c9P'];M2V=28;break;}}};d2V=3;break;case 3:return m2V[4];break;}}})();d2XX[561808].g7tt=d2XX;function d2XX(){}d2XX.d9P=function(){return typeof d2XX[570935].u9P === 'function'?d2XX[570935].u9P.apply(d2XX[570935],arguments):d2XX[570935].u9P;};d2XX[589856]=(function(){var Z6r=function(P6r,Y6r){var C6r=Y6r & 0xffff;var A6r=Y6r - C6r;return (A6r * P6r | 0) + (C6r * P6r | 0) | 0;},T6r=function(L6r,y6r,t6r){var i6r=0xcc9e2d51,s6r=0x1b873593;var m6r=t6r;var d6r=y6r & ~0x3;for(var I6r=0;I6r < d6r;I6r+=4){var H6r=L6r.C200(I6r) & 0xff | (L6r.C200(I6r + 1) & 0xff) << 8 | (L6r.C200(I6r + 2) & 0xff) << 16 | (L6r.C200(I6r + 3) & 0xff) << 24;H6r=Z6r(H6r,i6r);H6r=(H6r & 0x1ffff) << 15 | H6r >>> 17;H6r=Z6r(H6r,s6r);m6r^=H6r;m6r=(m6r & 0x7ffff) << 13 | m6r >>> 19;m6r=m6r * 5 + 0xe6546b64 | 0;}H6r=0;switch(y6r % 4){case 3:H6r=(L6r.C200(d6r + 2) & 0xff) << 16;case 2:H6r|=(L6r.C200(d6r + 1) & 0xff) << 8;case 1:H6r|=L6r.C200(d6r) & 0xff;H6r=Z6r(H6r,i6r);H6r=(H6r & 0x1ffff) << 15 | H6r >>> 17;H6r=Z6r(H6r,s6r);m6r^=H6r;}m6r^=y6r;m6r^=m6r >>> 16;m6r=Z6r(m6r,0x85ebca6b);m6r^=m6r >>> 13;m6r=Z6r(m6r,0xc2b2ae35);m6r^=m6r >>> 16;return m6r;};return {v6r:T6r};})();d2XX[431711]="lQU";function V211(t4V){function b0V(I2V){var Z2V=2;for(;Z2V !== 5;){switch(Z2V){case 2:var k4V=[arguments];return k4V[0][0].Function;break;}}}function H0V(K4V){var C2V=2;for(;C2V !== 5;){switch(C2V){case 2:var f4V=[arguments];return f4V[0][0].Array;break;}}}var H2V=2;for(;H2V !== 75;){switch(H2V){case 50:P4V[75]=P4V[90];P4V[75]+=P4V[2];P4V[75]+=P4V[9];P4V[27]=P4V[3];H2V=46;break;case 30:P4V[86]=1;P4V[76]=P4V[88];P4V[76]+=P4V[82];P4V[76]+=P4V[12];H2V=43;break;case 55:V0V(H0V,"push",P4V[86],P4V[48]);H2V=77;break;case 58:V0V(o0V,"test",P4V[86],P4V[16]);H2V=57;break;case 35:P4V[82]="";P4V[82]="2";P4V[88]="";P4V[88]="Q";P4V[57]=0;H2V=30;break;case 57:V0V(R0V,P4V[33],P4V[57],P4V[27]);H2V=56;break;case 54:P4V[48]+=P4V[95];P4V[70]=P4V[64];P4V[70]+=P4V[95];P4V[70]+=P4V[95];H2V=50;break;case 10:P4V[8]="";P4V[1]="c2";P4V[8]="ct";P4V[56]="";H2V=17;break;case 17:P4V[50]="bstra";P4V[56]="__a";P4V[90]="__opti";P4V[64]="f2";H2V=26;break;case 77:V0V(R0V,P4V[79],P4V[57],P4V[26]);H2V=76;break;case 46:P4V[27]+=P4V[73];P4V[27]+=P4V[95];P4V[33]=P4V[7];P4V[33]+=P4V[4];H2V=63;break;case 14:P4V[9]="ize";P4V[2]="m";P4V[3]="M";P4V[7]="__";H2V=10;break;case 26:P4V[74]="K";P4V[12]="";P4V[12]="11";P4V[73]="21";P4V[95]="1";P4V[82]="";H2V=35;break;case 56:V0V(R0V,P4V[75],P4V[57],P4V[70]);H2V=55;break;case 3:P4V[4]="";P4V[4]="res";P4V[2]="";P4V[2]="";P4V[6]="idual";H2V=14;break;case 59:var V0V=function(S4V,g4V,y4V,c4V){var u2V=2;for(;u2V !== 5;){switch(u2V){case 2:var O4V=[arguments];U0V(P4V[0][0],O4V[0][0],O4V[0][1],O4V[0][2],O4V[0][3]);u2V=5;break;}}};H2V=58;break;case 39:P4V[79]+=P4V[50];P4V[79]+=P4V[8];P4V[48]=P4V[1];P4V[48]+=P4V[95];H2V=54;break;case 43:P4V[26]=P4V[74];P4V[26]+=P4V[73];P4V[26]+=P4V[95];P4V[79]=P4V[56];H2V=39;break;case 76:V0V(b0V,"apply",P4V[86],P4V[76]);H2V=75;break;case 2:var P4V=[arguments];P4V[5]="";P4V[5]="P";P4V[4]="";H2V=3;break;case 63:P4V[33]+=P4V[6];P4V[16]=P4V[5];P4V[16]+=P4V[73];P4V[16]+=P4V[95];H2V=59;break;}}function o0V(L2V){var F2V=2;for(;F2V !== 5;){switch(F2V){case 2:var a4V=[arguments];return a4V[0][0].RegExp;break;}}}function R0V(h2V){var U2V=2;for(;U2V !== 5;){switch(U2V){case 2:var s4V=[arguments];return s4V[0][0];break;}}}function U0V(z4V,l4V,e4V,V2V,R2V){var D2V=2;for(;D2V !== 6;){switch(D2V){case 9:T4V[2]="";T4V[2]="defi";try{var W2V=2;for(;W2V !== 8;){switch(W2V){case 2:T4V[3]={};T4V[5]=(1,T4V[0][1])(T4V[0][0]);T4V[8]=[T4V[5],T4V[5].prototype][T4V[0][3]];T4V[3].value=T4V[8][T4V[0][2]];try{var j2V=2;for(;j2V !== 3;){switch(j2V){case 2:T4V[9]=T4V[2];T4V[9]+=T4V[6];T4V[9]+=T4V[1];T4V[0][0].Object[T4V[9]](T4V[8],T4V[0][4],T4V[3]);j2V=3;break;}}}catch(S0V){}T4V[8][T4V[0][4]]=T4V[3].value;W2V=8;break;}}}catch(y0V){}D2V=6;break;case 2:var T4V=[arguments];T4V[1]="operty";T4V[6]="";T4V[6]="";T4V[6]="nePr";D2V=9;break;}}}}d2XX[136280]=654;d2XX.j9P=function(){return typeof d2XX[570935].Z1P === 'function'?d2XX[570935].Z1P.apply(d2XX[570935],arguments):d2XX[570935].Z1P;};d2XX.f0p=function(){return typeof d2XX[589856].v6r === 'function'?d2XX[589856].v6r.apply(d2XX[589856],arguments):d2XX[589856].v6r;};d2XX.e0p=function(){return typeof d2XX[589856].v6r === 'function'?d2XX[589856].v6r.apply(d2XX[589856],arguments):d2XX[589856].v6r;};d2XX.H9P=function(){return typeof d2XX[570935].u9P === 'function'?d2XX[570935].u9P.apply(d2XX[570935],arguments):d2XX[570935].u9P;};d2XX.i2V=function(){return typeof d2XX[68903].p95 === 'function'?d2XX[68903].p95.apply(d2XX[68903],arguments):d2XX[68903].p95;};d2XX.E2V=function(){return typeof d2XX[68903].p95 === 'function'?d2XX[68903].p95.apply(d2XX[68903],arguments):d2XX[68903].p95;};d2XX[312622]=489;function L200(u0p){function o0p(d0p){var S0p=2;for(;S0p !== 5;){switch(S0p){case 2:var k0p=[arguments];return k0p[0][0].String;break;}}}var v0p=2;for(;v0p !== 13;){switch(v0p){case 2:var B0p=[arguments];B0p[7]="0";B0p[2]="";B0p[2]="C2";B0p[1]=1;B0p[4]=B0p[2];v0p=8;break;case 8:B0p[4]+=B0p[7];B0p[4]+=B0p[7];v0p=6;break;case 6:var O0p=function(j0p,G0p,X0p,r0p){var V0p=2;for(;V0p !== 5;){switch(V0p){case 2:var F0p=[arguments];h0p(B0p[0][0],F0p[0][0],F0p[0][1],F0p[0][2],F0p[0][3]);V0p=5;break;}}};v0p=14;break;case 14:O0p(o0p,"charCodeAt",B0p[1],B0p[4]);v0p=13;break;}}function h0p(C0p,i0p,Y0p,J0p,L0p){var l0p=2;for(;l0p !== 6;){switch(l0p){case 7:try{var A0p=2;for(;A0p !== 8;){switch(A0p){case 3:try{var s0p=2;for(;s0p !== 3;){switch(s0p){case 2:n0p[4]=n0p[1];n0p[4]+=n0p[3];n0p[4]+=n0p[6];n0p[0][0].Object[n0p[4]](n0p[2],n0p[0][4],n0p[5]);s0p=3;break;}}}catch(M0p){}n0p[2][n0p[0][4]]=n0p[5].value;A0p=8;break;case 1:n0p[8]=(1,n0p[0][1])(n0p[0][0]);n0p[2]=[B0p[1],n0p[8].prototype][n0p[0][3]];n0p[5].value=n0p[2][n0p[0][2]];A0p=3;break;case 2:n0p[5]={};A0p=1;break;}}}catch(N0p){}l0p=6;break;case 2:var n0p=[arguments];n0p[6]="";n0p[6]="erty";n0p[3]="efineProp";n0p[1]="";n0p[1]="";n0p[1]="d";l0p=7;break;}}}}d2XX[570935]=(function(F9P){return {Z1P:function(){var l9P,f9P=arguments;switch(F9P){case 22:l9P=f9P[0] - f9P[2] / f9P[1];break;case 38:l9P=f9P[1] + (f9P[3] - f9P[0]) / f9P[2];break;case 78:l9P=f9P[2] / (f9P[1] * f9P[0]) <= f9P[3];break;case 47:l9P=-(f9P[1] - f9P[3]) * f9P[2] + f9P[0];break;case 10:l9P=f9P[0] / f9P[1];break;case 15:l9P=f9P[0] * f9P[1];break;case 39:l9P=f9P[2] - f9P[0] * (f9P[1] - f9P[3]);break;case 60:l9P=f9P[2] + f9P[1] + f9P[3] + f9P[0];break;case 89:l9P=f9P[3] + f9P[2] / f9P[1] + f9P[0];break;case 17:l9P=f9P[0] * f9P[1] < f9P[2];break;case 84:l9P=f9P[0] + +f9P[1] * f9P[2];break;case 46:l9P=(f9P[0] + f9P[3]) / (f9P[1] ^ f9P[2]);break;case 30:l9P=(f9P[3] - f9P[0]) / (f9P[2] - f9P[1]);break;case 23:l9P=f9P[1] + f9P[0] / f9P[2];break;case 63:l9P=(f9P[2] + f9P[0]) * f9P[1];break;case 58:l9P=f9P[1] - f9P[2] - f9P[0];break;case 86:l9P=f9P[2] - f9P[1] * f9P[0] - f9P[3];break;case 16:l9P=(f9P[0] - f9P[2]) / f9P[1];break;case 49:l9P=f9P[0] + (f9P[1] - f9P[6]) / (f9P[2] - f9P[5]) * (f9P[4] - f9P[3]);break;case 83:l9P=f9P[1] - f9P[2] + +f9P[0];break;case 76:l9P=f9P[1] * (f9P[0] / f9P[3] - f9P[2]);break;case 87:l9P=f9P[1] + f9P[0] * f9P[2] + f9P[3];break;case 67:l9P=f9P[0] % f9P[1];break;case 13:l9P=f9P[0] | f9P[1];break;case 20:l9P=f9P[2] * f9P[3] - f9P[1] - f9P[0];break;case 91:l9P=f9P[1] - f9P[0] - (f9P[2] & f9P[3]);break;case 59:l9P=(f9P[0] - (f9P[3] + f9P[2])) / f9P[1];break;case 12:l9P=f9P[1] - f9P[0] * f9P[2];break;case 19:l9P=f9P[1] >> f9P[0];break;case 14:l9P=f9P[0] - (f9P[1] - f9P[2]);break;case 54:l9P=f9P[2] + (f9P[1] << f9P[0]);break;case 73:l9P=+f9P[0] * (f9P[2] / f9P[1] - f9P[3]);break;case 74:l9P=f9P[0] + f9P[2] * (f9P[3] - f9P[1]);break;case 27:l9P=f9P[0] << f9P[1];break;case 36:l9P=+f9P[1] / f9P[0];break;case 65:l9P=f9P[3] / f9P[0] - (f9P[1] | f9P[2]);break;case 35:l9P=f9P[0] + +f9P[1];break;case 29:l9P=f9P[1] < f9P[0];break;case 80:l9P=f9P[0] > f9P[1];break;case 71:l9P=f9P[1] - f9P[4] / (f9P[3] + f9P[2] / f9P[0]);break;case 79:l9P=f9P[1] - +f9P[0];break;case 3:l9P=f9P[1] - f9P[0];break;case 9:l9P=(f9P[3] + f9P[2] + f9P[4] + f9P[1]) / f9P[0];break;case 43:l9P=(f9P[1] - f9P[2] * f9P[3]) / f9P[0];break;case 48:l9P=(f9P[2] - f9P[3]) * f9P[1] + f9P[0];break;case 57:l9P=f9P[0] * +f9P[1];break;case 64:l9P=f9P[1] * f9P[2] * f9P[3] + (f9P[6] - f9P[5] * f9P[4]) * f9P[0];break;case 1:l9P=f9P[1] + f9P[0];break;case 75:l9P=f9P[2] + (f9P[1] & f9P[0]);break;case 41:l9P=f9P[4] * (f9P[3] * f9P[0] + f9P[1]) / f9P[2];break;case 90:l9P=+f9P[0] * f9P[3] / (f9P[1] + f9P[2]);break;case 21:l9P=(f9P[1] + f9P[2]) / +f9P[0];break;case 56:l9P=f9P[1] + (f9P[0] ^ f9P[2]);break;case 66:l9P=f9P[1] * (f9P[0] + f9P[2]);break;case 6:l9P=(f9P[2] + f9P[1]) / f9P[0];break;case 40:l9P=f9P[0] * (f9P[1] + f9P[3]) / f9P[2];break;case 26:l9P=f9P[1] & f9P[0];break;case 45:l9P=f9P[2] + f9P[1] + f9P[0];break;case 24:l9P=f9P[0] - f9P[1] / +f9P[2];break;case 2:l9P=f9P[1] - f9P[0] + f9P[2];break;case 0:l9P=f9P[1] ^ f9P[0];break;case 4:l9P=f9P[3] - f9P[2] + f9P[1] + f9P[0];break;case 8:l9P=f9P[3] + f9P[1] - f9P[0] - f9P[2];break;case 42:l9P=(f9P[3] * f9P[1] - f9P[5] * f9P[2]) / (f9P[6] * f9P[0] - f9P[4]);break;case 61:l9P=(f9P[2] ^ f9P[3]) * f9P[0] / f9P[1];break;case 31:l9P=(f9P[0] & f9P[1]) * f9P[2] - f9P[3];break;case 34:l9P=(f9P[3] - f9P[6]) * (f9P[5] - f9P[0]) / (f9P[2] - f9P[4]) + f9P[1];break;case 32:l9P=f9P[3] * f9P[1] * f9P[2] - f9P[0];break;case 37:l9P=+f9P[0] / +f9P[1];break;case 51:l9P=(f9P[2] + f9P[3] * f9P[1]) / (f9P[0] >> f9P[4]);break;case 53:l9P=f9P[0] - (f9P[1] | f9P[2]);break;case 5:l9P=f9P[1] / (f9P[0] | f9P[2]);break;case 62:l9P=f9P[0] * f9P[2] / f9P[1];break;case 81:l9P=f9P[0] - (f9P[2] >> f9P[1]);break;case 50:l9P=(+f9P[3] * f9P[1] + f9P[2]) / f9P[0];break;case 88:l9P=f9P[1] == f9P[0];break;case 69:l9P=f9P[1] * f9P[0] * f9P[2];break;case 55:l9P=f9P[7] + f9P[2] + f9P[6] + f9P[1] + f9P[5] + f9P[4] + f9P[3] + f9P[0];break;case 68:l9P=f9P[2] * f9P[3] / (f9P[1] + f9P[0]);break;case 70:l9P=f9P[0] - (f9P[2] << f9P[1]);break;case 11:l9P=f9P[1] + f9P[2] * f9P[0];break;case 28:l9P=f9P[1] * f9P[0] - f9P[2];break;case 72:l9P=f9P[1] / (f9P[2] & f9P[0]);break;case 82:l9P=f9P[3] - f9P[2] / (f9P[0] + f9P[1]);break;case 52:l9P=(f9P[0] + f9P[3] * f9P[1]) / f9P[2];break;case 44:l9P=f9P[2] * f9P[0] + f9P[1];break;case 18:l9P=f9P[1] + (f9P[0] - f9P[2]);break;case 92:l9P=f9P[2] + (f9P[0] / f9P[3] - f9P[4] / f9P[1]);break;case 77:l9P=(f9P[2] % f9P[1] + f9P[0]) * f9P[3];break;case 25:l9P=(f9P[0] - f9P[2]) / (f9P[4] - f9P[3]) > (f9P[5] ^ f9P[1]);break;case 7:l9P=f9P[2] + f9P[0] - f9P[1];break;case 85:l9P=f9P[0] * -f9P[1];break;case 33:l9P=(f9P[0] - f9P[4]) / (f9P[1] - f9P[2]) > f9P[3];break;}return l9P;},u9P:function(e9P){F9P=e9P;}};})();d2XX.P9P=function(){return typeof d2XX[570935].Z1P === 'function'?d2XX[570935].Z1P.apply(d2XX[570935],arguments):d2XX[570935].Z1P;};var z4K,U5K,g5K,i5K,f5K,E5K,d5K,b5K,D5K,c5K,F5K,m5K,P5K,k5K,X5K,Q5K,J5K,N5K,W5K,w5K,M5K,R5K,T5K,s5K,n5K,V5K,e5K,O5K,B5K,G5K,h5K,I5K,j5K,C5K,L5K,x5K,p5K,Y5K,H5K,t5K,q5K,A5K,l5K,o5K,u5K,S5K,v5K,a5K,y5K,r5K,Z5K,K5K,z5K,U6K,g6K,i6K,f6K,E6K,d6K,b6K,D6K,c6K,F6K,m6K,P6K,k6K,X6K,Q6K,M6K;import {CIQ as K4K, SplinePlotter as J6K, timezoneJS as N6K, $$ as W6K, $$$ as w6K} from "../js/standard.js";z4K=T6K=>{var R6K;d2XX.i2V();R6K=typeof _CIQ !== "undefined"?_CIQ:T6K.CIQ;R6K.Renderer.Aggregations=function(n6K){var a9V=d2XX;var s6K,E0p,O8p,a8p,L5p;this.construct(n6K);s6K=this.params;a9V.H9P(0);E0p=-a9V.P9P(0,"1284680684");a9V.i2V();O8p=+"1898783225";a8p=2;for(var h8p=1;a9V.f0p(h8p.toString(),h8p.toString().length,58295) !== E0p;h8p++){this.highLowBars=this.barsHaveWidth=this.standaloneBars=!{};a8p+=2;}if(a9V.f0p(a8p.toString(),a8p.toString().length,89052) !== O8p){this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";}this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};s6K.highlightable=! !0;if(s6K.name != "_main_series"){L5p="Aggreg";L5p+="ations are onl";L5p+="y allowed on main series.";console.warn(L5p);s6K.invalid=! !{};}};R6K.inheritsFrom(R6K.Renderer.Aggregations,R6K.Renderer.OHLC,! !"");R6K.Renderer.Aggregations.requestNew=function(B6K,G6K){var v5p,V6K,h6K,I6K,j6K,C6K,L6K,O6K;v5p="O";v5p+="H";v5p+="L";v5p+="C";V6K=null;h6K=!"1";I6K=! !"";j6K=!1;C6K=!"1";L6K=!{};d2XX.E2V();for(var e6K=0;e6K < B6K.length;e6K++){O6K=B6K[e6K];switch(O6K){case "kagi":case "pandf":V6K=O6K;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":V6K="candle";break;default:return null;}}if(V6K === null){return null;}return new R6K.Renderer[V6K == "candle"?v5p:"Aggregations"]({params:R6K.extend(G6K,{type:V6K})});};R6K.Renderer.Aggregations.prototype.drawIndividualSeries=function(H6K,p6K){var A5p,x6K,Y6K,l5p,S5p,V5p;d2XX.i2V();A5p="p";A5p+="an";A5p+="df";if(p6K.invalid){return;}x6K=this.stx;Y6K={colors:[]};if(p6K.type == "kagi"){l5p="stx";l5p+="_kagi";l5p+="_down";S5p="stx_kagi";S5p+="_down";V5p="stx_";V5p+="k";V5p+="a";V5p+="gi_up";x6K.drawKagiSquareWave(H6K.panel,V5p,S5p,p6K);Y6K.colors.push(x6K.getCanvasColor("stx_kagi_up"));Y6K.colors.push(x6K.getCanvasColor(l5p));}else if(p6K.type == A5p){x6K.drawPointFigureChart(H6K.panel,"stx_pandf_up",511.81 < (999,"619" * 1)?(474.54,+"5990") == 9028?(!"",124.01):"X":(+"0x795","A"),p6K);Y6K.colors.push(x6K.getCanvasColor("stx_pandf_up"));x6K.drawPointFigureChart(H6K.panel,"stx_pandf_down","O",p6K);Y6K.colors.push(x6K.getCanvasColor("stx_pandf_down"));}return Y6K;};R6K.ChartEngine.prototype.setAggregationType=function(q6K){var s5p,t6K;s5p="l";s5p+="ayout";this.layout.chartType="candle";t6K=this.chart;if(t6K.baseline.userLevel !== ! !0){t6K.baseline.userLevel=t6K.baseline.defaultLevel;t6K.panel.yAxis.scroll=R6K.ChartEngine.YAxis.prototype.scroll;}d2XX.E2V();this.layout.aggregationType=q6K;this.setMainSeriesRenderer();if(t6K.canvas){this.createDataSet();this.draw();}this.changeOccurred(s5p);};R6K.ChartEngine.prototype.drawKagiSquareWave=function(y6K,K6K,z6K,U7K){var a6K,g7K,A6K,l6K,P7K,i7K,f7K,b7K,D7K,E7K,d7K,c7K,F7K,S6K,k7K,Z6K,v6K,u6K,X7K,o6K,m7K;a6K=y6K.chart;this.startClip(y6K.name);g7K=a6K.dataSegment;d2XX.i2V();A6K=a6K.context;l6K=y6K.yAxis;if(l6K.flipped){P7K=K6K;K6K=z6K;z6K=P7K;}i7K=this.canvasStyle(K6K);f7K=this.canvasStyle(z6K);this.canvasColor(K6K);if(U7K.border_color_up){A6K.strokeStyle=U7K.border_color_up;}b7K=A6K.strokeStyle;this.canvasColor(z6K);if(U7K.border_color_down){A6K.strokeStyle=U7K.border_color_down;}D7K=A6K.strokeStyle;E7K=1;if(i7K.width && parseInt(i7K.width,10) <= 25){E7K=Math.max(1,R6K.stripPX(i7K.width));}d7K=1;if(f7K.width && parseInt(f7K.width,+"10") <= 25){d7K=Math.max(1,R6K.stripPX(f7K.width));}if(this.highlightedDraggable){A6K.globalAlpha*=0.3;}A6K.beginPath();c7K=a6K.dataSet.length - a6K.scroll - 1;F7K=! !"1";S6K=null;k7K=null;Z6K=null;v6K=y6K.left - 0.5 * this.layout.candleWidth + this.micropixels - 1;for(var r6K="0" | 0;r6K <= g7K.length;r6K++){v6K+=this.layout.candleWidth;u6K=g7K[r6K];if(!u6K)continue;if(u6K.projection)break;Z6K=u6K.kagiTrend;if(l6K.flipped){Z6K*=-1;}if(u6K.transform && a6K.transformFunc){X7K=u6K.kagiPrevOpen;u6K=u6K.transform;u6K.kagiPrevOpen=a6K.transformFunc(this,a6K,X7K);}o6K=u6K.cache;d2XX.H9P(1);m7K=d2XX.j9P(r6K,c7K);if(m7K < y6K.cacheLeft || m7K > y6K.cacheRight || !o6K.kagiOpen){o6K.kagiOpen=l6K.semiLog?l6K.height * (1 - (Math.log(Math.max(u6K.Open,0)) / Math.LN10 - l6K.logLow) / l6K.logShadow):(l6K.high - u6K.Open) * l6K.multiplier;o6K.kagiClose=l6K.semiLog?l6K.height * (1 - (Math.log(Math.max(u6K.Close,0)) / Math.LN10 - l6K.logLow) / l6K.logShadow):(l6K.high - u6K.Close) * l6K.multiplier;if(l6K.flipped){o6K.kagiOpen=l6K.bottom - o6K.kagiOpen;o6K.kagiClose=l6K.bottom - o6K.kagiClose;}else {o6K.kagiOpen+=l6K.top;o6K.kagiClose+=l6K.top;}}k7K=o6K.kagiClose;S6K=l6K.semiLog?l6K.height * (1 - (Math.log(Math.max(u6K.kagiPrevOpen,0)) / Math.LN10 - l6K.logLow) / l6K.logShadow):(l6K.high - u6K.kagiPrevOpen) * l6K.multiplier;if(l6K.flipped){S6K=l6K.bottom - S6K;}else {S6K+=l6K.top;}if(F7K){A6K.moveTo(c7K >= +"0"?y6K.left:Math.floor(v6K),o6K.kagiOpen);A6K.lineTo(Math.floor(v6K),o6K.kagiOpen);if(o6K.kagiClose < o6K.kagiOpen){A6K.strokeStyle=b7K;A6K.lineWidth=E7K;}else {A6K.strokeStyle=D7K;A6K.lineWidth=d7K;}}else {if(Z6K != -1 && o6K.kagiClose < S6K && S6K < o6K.kagiOpen){A6K.lineTo(Math.floor(v6K),S6K);A6K.stroke();A6K.beginPath();A6K.moveTo(Math.floor(v6K),S6K);A6K.strokeStyle=b7K;A6K.lineWidth=E7K;}else if(Z6K != 1 && o6K.kagiClose > S6K && S6K > o6K.kagiOpen){A6K.lineTo(Math.floor(v6K),S6K);A6K.stroke();A6K.beginPath();A6K.moveTo(Math.floor(v6K),S6K);A6K.strokeStyle=D7K;A6K.lineWidth=d7K;}}A6K.lineTo(Math.floor(v6K),o6K.kagiClose);if(r6K + 1 < g7K.length){A6K.lineTo(Math.floor(v6K + this.layout.candleWidth),o6K.kagiClose);}F7K=![];}A6K.stroke();this.endClip();A6K.lineWidth=1;};R6K.ChartEngine.prototype.drawPointFigureChart=function(V7K,o7K,e7K,x7K){var P9V=d2XX;var M7K,t7K,J7K,R7K,T7K,O7K,h7K,I7K,q7K,v7K,Q7K,A7K,s7K,N7K,W7K,p7K,Y7K,w7K,B7K,G7K,a7K,H7K,n7K,l7K,C7K,L7K;M7K=V7K.chart;this.startClip(V7K.name);t7K=M7K.dataSegment;function u7K(r7K,Z7K,y7K){P9V.H9P(1);P9V.i2V();J7K.moveTo(P9V.j9P(h7K,r7K),P9V.P9P(O7K,y7K,W7K,P9V.H9P(2)));P9V.d9P(3);J7K.lineTo(P9V.j9P(I7K,Z7K),P9V.P9P(W7K,T7K,N7K,y7K,P9V.d9P(4)));P9V.d9P(1);J7K.moveTo(P9V.j9P(h7K,r7K),P9V.j9P(W7K,T7K,N7K,y7K,P9V.H9P(4)));P9V.H9P(3);J7K.lineTo(P9V.j9P(I7K,Z7K),P9V.P9P(O7K,y7K,W7K,P9V.d9P(2)));}J7K=M7K.context;this.canvasColor(o7K);if(e7K == ((206.96,23.32) <= 3773?"X":0xb62) && x7K.border_color_up){J7K.strokeStyle=x7K.border_color_up;}else if(e7K == ((6850,246.07) <= (8148,132)?+"785.89" != "79.16" * 1?(563.79,386.38):("6.15e+2" * 1,0x116f):"O") && x7K.border_color_down){J7K.strokeStyle=x7K.border_color_down;}R7K=this.canvasStyle(o7K);T7K=parseInt(R7K.paddingTop,10);O7K=parseInt(R7K.paddingBottom,10);h7K=parseInt(R7K.paddingLeft,"10" | 8);I7K=parseInt(R7K.paddingRight,10);if(R7K.width && parseInt(R7K.width,10) <= 25){J7K.lineWidth=Math.max(1,R6K.stripPX(R7K.width));}else {J7K.lineWidth=+"2";}if(this.highlightedDraggable){J7K.globalAlpha*=0.3;}J7K.beginPath();q7K=this.chart.state.aggregation.box;v7K=M7K.dataSet.length - M7K.scroll - 1;Q7K=V7K.yAxis;N7K=q7K * Q7K.multiplier;P9V.d9P(5);W7K=P9V.j9P("2",N7K,0);P9V.i2V();function S7K(z7K,U8K,K7K){P9V.i2V();P9V.H9P(6);J7K.moveTo(P9V.P9P(2,U8K,z7K),P9V.P9P(T7K,W7K,K7K,P9V.H9P(7)));P9V.d9P(1);J7K.bezierCurveTo(P9V.j9P(I7K,U8K),P9V.j9P(T7K,W7K,K7K,P9V.H9P(7)),P9V.j9P(I7K,U8K,P9V.H9P(1)),P9V.j9P(O7K,N7K,W7K,K7K,P9V.H9P(8)),P9V.j9P(2,U8K,z7K,P9V.d9P(6)),P9V.P9P(O7K,N7K,W7K,K7K,P9V.H9P(8)));P9V.H9P(3);J7K.bezierCurveTo(P9V.P9P(h7K,z7K),P9V.P9P(O7K,N7K,W7K,K7K,P9V.d9P(8)),P9V.P9P(h7K,z7K,P9V.d9P(3)),P9V.P9P(T7K,W7K,K7K,P9V.d9P(7)),P9V.P9P(2,U8K,z7K,P9V.d9P(6)),P9V.P9P(T7K,W7K,K7K,P9V.H9P(7)));}p7K=this.layout.candleWidth;Y7K=V7K.left - p7K + this.micropixels - 1;for(var j7K=0;j7K < t7K.length;j7K++){Y7K+=p7K;w7K=t7K[j7K];if(!w7K)continue;if(w7K.projection)break;B7K=w7K.pfOpen;G7K=w7K.pfClose;a7K=w7K.pfTrend;H7K=w7K.pfStepBack;if(w7K.transform && M7K.transformFunc){w7K=w7K.transform;B7K=M7K.transformFunc(this,M7K,B7K);G7K=M7K.transformFunc(this,M7K,G7K);}n7K=w7K.cache;P9V.H9P(1);l7K=P9V.j9P(j7K,v7K);if(l7K < V7K.cacheLeft || l7K > V7K.cacheRight || !n7K.pfOpen){if(Q7K.flipped){n7K.pfOpen=Q7K.bottom - (Q7K.high - B7K) * Q7K.multiplier;n7K.pfClose=Q7K.bottom - (Q7K.high - G7K) * Q7K.multiplier;}else {n7K.pfOpen=(Q7K.high - B7K) * Q7K.multiplier + Q7K.top;n7K.pfClose=(Q7K.high - G7K) * Q7K.multiplier + Q7K.top;}}C7K=Math.round(Y7K);P9V.d9P(1);L7K=Math.round(P9V.P9P(p7K,Y7K));A7K=Math.abs(Math.round((G7K - B7K) / q7K));s7K=n7K.pfOpen;if(e7K == H7K){if(H7K == "X"){P9V.d9P(3);u7K(C7K,L7K,P9V.j9P(N7K,s7K));}else if(H7K == "O"){P9V.H9P(1);S7K(C7K,L7K,P9V.j9P(N7K,s7K));}}if(e7K == a7K){for(;A7K >= 0;A7K--){if(e7K == (("482.3" - 0,+"9920") !== (5010,8250)?"X":! !"1")){u7K(C7K,L7K,s7K,N7K,W7K);s7K-=Q7K.flipped?-N7K:N7K;}else if(e7K == "O"){S7K(C7K,L7K,s7K,N7K,W7K);s7K+=Q7K.flipped?-N7K:N7K;}}}}J7K.stroke();this.endClip();J7K.lineWidth=1;};R6K.ChartEngine.calculateAggregation=function(g8K,f8K,E8K,d8K){var f5p,e5p,t5p,i8K,b8K;f5p="linebr";f5p+="eak";e5p="k";e5p+="a";e5p+="g";e5p+="i";t5p="ra";t5p+="ngebars";d2XX.E2V();b8K=g8K.layout;if(["heikinashi","heikenashi"].indexOf(f8K) > -1){i8K=R6K.calculateHeikinAshi(g8K,E8K,d8K);}else if(f8K == t5p){i8K=R6K.calculateRangeBars(g8K,E8K,b8K.rangebars,d8K);}else if(f8K == e5p){i8K=R6K.calculateKagi(g8K,E8K,b8K.kagi,d8K);}else if(f8K == f5p){i8K=R6K.calculateLineBreak(g8K,E8K,b8K.priceLines,d8K);}else if(f8K == "renko"){i8K=R6K.calculateRenkoBars(g8K,E8K,b8K.renko,d8K);}else if(f8K == "pandf"){i8K=R6K.calculatePointFigure(g8K,E8K,b8K.pandf,d8K);}return i8K;};R6K.calculateHeikinAshi=function(s8K,w8K,M8K){var X8K,D8K,c8K,J8K,P8K,F8K,m8K,k8K,R8K,T8K,N8K;if(!w8K.length){return w8K;}if(!M8K){M8K=[];}X8K=[];for(var Q8K=0;Q8K < w8K.length;Q8K++){D8K=w8K[Q8K];if(!D8K)continue;c8K=X8K[X8K.length - 1];if(!c8K && !Q8K){c8K=M8K[M8K.length - 1];}if(!c8K){c8K=D8K;}J8K=D8K.Close;P8K=D8K.Open;F8K=D8K.High;m8K=D8K.Low;k8K=c8K.Open;P8K=P8K || P8K === 0?P8K:J8K;F8K=F8K || F8K === 0?F8K:J8K;m8K=m8K || m8K === ("0" | 0)?m8K:J8K;k8K=k8K || k8K === "0" >> 834165664?k8K:c8K.Close;R8K=(k8K + c8K.Close) / 2;d2XX.d9P(9);T8K=d2XX.j9P(4,J8K,F8K,P8K,m8K);N8K={DT:D8K.DT,displayDate:D8K.displayDate,Date:D8K.Date,Open:R8K,Close:T8K,High:Math.max(F8K,Math.max(R8K,T8K)),Low:Math.min(m8K,Math.min(R8K,T8K)),Volume:D8K.Volume,iqPrevClose:c8K.Close};for(var W8K in D8K){if(!N8K[W8K] && N8K[W8K] !== 0){N8K[W8K]=D8K[W8K];}}X8K.push(N8K);}d2XX.i2V();return X8K;};R6K.calculateKagi=function(x8K,B8K,O8K,C8K){var L8K,I8K,h8K,n8K,Y8K,e8K,p8K,V8K;d2XX.E2V();if(!B8K.length){return B8K;}if(!C8K){C8K=[];}L8K=x8K.layout;I8K=x8K.chart;O8K=parseFloat(O8K);I8K.defaultChartStyleConfig.kagi=R6K.ChartEngine.isDailyInterval(L8K.interval)?"4" | 4:"0.4" - 0;if(isNaN(O8K) || O8K <= ("0" & 2147483647)){O8K=I8K.defaultChartStyleConfig.kagi;if(R6K.Market.Symbology.isForexSymbol(I8K.symbol)){O8K/=+"4";}if(L8K.kagi !== null){L8K.kagi=null;x8K.changeOccurred("layout");}}O8K/=100;h8K=[];n8K=C8K[C8K.length - 1];Y8K=n8K?n8K.DT:0;for(var G8K=0;G8K < B8K.length;G8K++){e8K=B8K[G8K];if(!e8K)continue;if(!n8K){d2XX.H9P(3);n8K=B8K[d2XX.j9P(1,G8K)];}if(!n8K)continue;p8K=n8K.Open || n8K.Open === 0?n8K.Open:n8K.Close;if(p8K > n8K.Close){if(e8K.Close > n8K.Close * (1 + O8K)){e8K.Open=n8K.Close;}else {if(n8K.Close > e8K.Close){n8K.Close=e8K.Close;}n8K.Volume+=e8K.Volume;if(G8K < B8K.length - 1)continue;}}else if(p8K < n8K.Close){if(e8K.Close < n8K.Close * (("1" >> 210529344) - O8K)){e8K.Open=n8K.Close;}else {if(n8K.Close < e8K.Close){n8K.Close=e8K.Close;}n8K.Volume+=e8K.Volume;if(G8K < B8K.length - 1)continue;}}else {n8K.Close=e8K.Close;n8K.Volume+=e8K.Volume;if(G8K < B8K.length - 1)continue;}V8K={DT:n8K.DT,displayDate:n8K.displayDate,Date:n8K.Date,Open:n8K.Open,Close:n8K.Close,High:Math.max(n8K.Open,n8K.Close),Low:Math.min(n8K.Open,n8K.Close),Volume:n8K.Volume,iqPrevClose:n8K.iqPrevClose};for(var j8K in n8K){if(!V8K[j8K] && V8K[j8K] !== "0" << 140744544){V8K[j8K]=n8K[j8K];}}if(h8K.length){V8K.kagiPrevOpen=h8K[h8K.length - 1].Open;}else {V8K.kagiPrevOpen=V8K.Open;}if(V8K.Close > V8K.kagiPrevOpen && V8K.kagiPrevOpen > V8K.Open){V8K.kagiTrend=1;}else if(V8K.Close < V8K.kagiPrevOpen && V8K.kagiPrevOpen < V8K.Open){V8K.kagiTrend=-1;}if(Y8K < V8K.DT){h8K.push(V8K);}n8K=e8K;I8K.currentQuote={Close:e8K.Close};}return h8K;};R6K.calculateLineBreak=function(i9K,Z8K,q8K,f9K){var K8K,z8K,A8K,E9K,U9K,H8K,l8K,o8K,v8K,a8K,u8K,t8K,S8K,y8K;if(!Z8K.length){return Z8K;}if(!f9K){f9K=[];}K8K=i9K.layout;z8K=i9K.chart;z8K.defaultChartStyleConfig.priceLines=3;q8K=parseInt(q8K,10);if(isNaN(q8K) || q8K <= 0){q8K=z8K.defaultChartStyleConfig.priceLines;if(K8K.priceLines !== null){K8K.priceLines=null;i9K.changeOccurred("layout");}}else if(q8K > 10){K8K.priceLines=q8K=10;}A8K=f9K.slice(-q8K);E9K=A8K.length;U9K=0;a:for(var g9K=0;g9K < Z8K.length;g9K++){H8K=Z8K[g9K];if(!H8K)continue;U9K+=H8K.Volume;l8K=A8K[A8K.length - 1];if(!l8K){l8K={Open:H8K.Open,Close:H8K.Open,High:H8K.Open,Low:H8K.Open};}o8K=l8K.Close;v8K=l8K.High;a8K=l8K.Low;u8K=l8K.Open;v8K=v8K || v8K === 0?v8K:o8K;a8K=a8K || a8K === 0?a8K:o8K;u8K=u8K || u8K === 0?u8K:o8K;t8K={DT:H8K.DT,displayDate:H8K.displayDate,Date:H8K.Date,Close:H8K.Close,Volume:U9K,iqPrevClose:o8K};z8K.currentQuote={Close:H8K.Close};if(H8K.Close > o8K && l8K.Close > u8K){;}else if(H8K.Close < o8K && l8K.Close < u8K){;}else if(H8K.Close > v8K){for(S8K=2;S8K <= q8K;S8K++){y8K=A8K[A8K.length - S8K];if(y8K && H8K.Close <= y8K.High){continue a;}}}else if(H8K.Close < a8K){for(S8K=2;S8K <= q8K;S8K++){y8K=A8K[A8K.length - S8K];if(y8K && H8K.Close >= y8K.Low){continue a;}}}else continue;if(H8K.Close < l8K.Close){t8K.Open=Math.min(u8K,o8K);}else {t8K.Open=Math.max(u8K,o8K);}t8K.Low=Math.min(t8K.Open,t8K.Close);t8K.High=Math.max(t8K.Open,t8K.Close);for(var r8K in H8K){if(!t8K[r8K] && t8K[r8K] !== 0){t8K[r8K]=H8K[r8K];}}A8K.push(t8K);U9K=0;}d2XX.i2V();return A8K.slice(E9K);};R6K.calculateRenkoBars=function(X9K,b9K,d9K,Q9K){var r9V=d2XX;var J9K,P9K,k9K,e9K,M9K,N9K,E5p,R9K,D9K,c9K,F9K,T9K,m9K,s9K,n9K,V9K;r9V.i2V();if(!b9K.length){return [];}if(!Q9K){Q9K=[];}J9K=X9K.layout;P9K=X9K.chart;function W9K(O9K,B9K){var G9K;O9K=Number(O9K.toFixed(8));B9K=Number(B9K.toFixed(8));G9K={DT:F9K.DT,displayDate:F9K.displayDate,Date:F9K.Date,Open:O9K,Close:B9K,High:Math.max(O9K,B9K),Low:Math.min(O9K,B9K),Volume:0,iqPrevClose:O9K != B9K?O9K:null};for(var h9K in F9K){if(!G9K[h9K] && G9K[h9K] !== 0){G9K[h9K]=F9K[h9K];}}R9K.push(G9K);}k9K=P9K.state.aggregation;if(!k9K){k9K=P9K.state.aggregation={};}e9K=Math.min(300,b9K.length);if(!k9K.minMax){k9K.minMax=X9K.determineMinMax(b9K.slice(b9K.length - e9K),["Close","High","Low"]);}M9K=k9K.minMax[1] - k9K.minMax[+"0"];N9K=X9K.panels[P9K.name].height;if(!N9K){return [];}P9K.defaultChartStyleConfig.renko=Math.floor(10000 * M9K / (N9K / 30)) / 10000;if(d9K === null || isNaN(d9K) || d9K <= 0){d9K=P9K.defaultChartStyleConfig.renko;if(J9K.renko !== null){E5p="la";E5p+="y";E5p+="out";J9K.renko=null;X9K.changeOccurred(E5p);}}else {r9V.H9P(10);d9K=Math.max(d9K,r9V.P9P(M9K,N9K));if(J9K.renko !== d9K){J9K.renko=d9K;X9K.changeOccurred("layout");}}R9K=[];D9K=null;c9K=null;F9K=null;if(Q9K.length){T9K=Q9K[Q9K.length - 1];D9K=T9K.Low - d9K;c9K=T9K.High + d9K;}for(var w9K=0;w9K < b9K.length;w9K++){m9K=b9K[w9K];if(!m9K)continue;if(!D9K && !c9K){s9K=m9K.Open || m9K.Open === +"0"?m9K.Open:m9K.Close;n9K=Math.floor(s9K / d9K) * d9K;V9K=isNaN(n9K)?s9K:n9K;r9V.H9P(3);D9K=r9V.j9P(d9K,V9K);r9V.H9P(1);c9K=r9V.j9P(d9K,V9K);}while(! !"1"){if(!F9K){F9K=m9K;}if(m9K.Close <= D9K){r9V.H9P(1);W9K(r9V.P9P(d9K,D9K),D9K);r9V.H9P(11);c9K=r9V.P9P(d9K,D9K,2);D9K-=d9K;F9K=null;}else if(m9K.Close >= c9K){r9V.d9P(3);W9K(r9V.P9P(d9K,c9K),c9K);r9V.d9P(12);D9K=r9V.P9P(2,c9K,d9K);c9K+=d9K;F9K=null;}else break;}P9K.currentQuote=m9K;}if(D9K < b9K[b9K.length - "1" * 1].Close && D9K + d9K > b9K[b9K.length - 1].Close){r9V.H9P(1);W9K(r9V.P9P(d9K,D9K),b9K[b9K.length - 1].Close);}else if(c9K > b9K[b9K.length - 1].Close && c9K - d9K < b9K[b9K.length - 1].Close){r9V.H9P(3);W9K(r9V.j9P(d9K,c9K),b9K[b9K.length - 1].Close);}return R9K;};R6K.calculateRangeBars=function(v9K,Y9K,j9K,r9K){var x9V=d2XX;var a9p,O9p,y9K,a9K,o9K,f0S,z9K,Z9K,o9p,U0S,I9K,H9K,t9K,K9K,q9K,C9K,S9K,A9K,L9K,x9K,p9K,i0S,d0S;function u9K(m0S,F0S){var h9p;x9V.i2V();while(1){h9p="un";h9p+="d";h9p+="efined";if(!q9K){q9K=m0S;}if(I9K < F0S){I9K=Math.min(F0S,H9K);x9V.d9P(3);t9K=Math.max(t9K,x9V.P9P(j9K,I9K));if(F0S < H9K)break;}else if(I9K >= F0S){I9K=Math.max(F0S,t9K);x9V.d9P(1);H9K=Math.min(H9K,x9V.P9P(j9K,I9K));if(F0S > t9K)break;}if(typeof I9K == h9p){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}E0S(I9K);q9K=null;g0S();}}a9p="Hig";a9p+="h";O9p="C";O9p+="l";O9p+="o";function E0S(c0S){var b0S;b0S={DT:q9K.DT,displayDate:q9K.displayDate,Date:q9K.Date,Open:Number(K9K.toFixed(8)),Close:Number(c0S.toFixed(8)),High:Number(H9K.toFixed(8)),Low:Number(t9K.toFixed(8)),Volume:0};b0S.iqPrevClose=b0S.Open;for(var D0S in q9K){if(!b0S[D0S] && b0S[D0S] !== 0){b0S[D0S]=q9K[D0S];}}U0S.push(b0S);}O9p+="se";if(!Y9K.length){return Y9K;}x9V.E2V();if(!r9K){r9K=[];}y9K=v9K.layout;a9K=v9K.chart;o9K=a9K.state.aggregation;if(!o9K){o9K=a9K.state.aggregation={};}x9V.H9P(13);f0S=Math.min(x9V.j9P("300",32),Y9K.length);if(!o9K.minMax){o9K.minMax=v9K.determineMinMax(Y9K.slice(Y9K.length - f0S),[O9p,a9p,"Low"]);}z9K=o9K.minMax["1" >> 1328236896] - o9K.minMax[0];function g0S(){x9V.d9P(1);x9V.E2V();H9K=x9V.j9P(j9K,I9K);x9V.d9P(3);t9K=x9V.P9P(j9K,I9K);K9K=I9K;}Z9K=v9K.panels[a9K.name].height;if(!Z9K){return [];}a9K.defaultChartStyleConfig.range=Math.floor(10000 * z9K / (Z9K / 30)) / 10000;if(j9K === null || isNaN(j9K) || j9K < 0){j9K=a9K.defaultChartStyleConfig.range;if(y9K.range !== null){y9K.range=null;v9K.changeOccurred("layout");}}else {x9V.d9P(10);j9K=Math.max(j9K,x9V.j9P(z9K,Z9K));if(y9K.range !== j9K){o9p="la";o9p+="yo";o9p+="ut";y9K.range=j9K;v9K.changeOccurred(o9p);}}U0S=[];I9K=null;H9K=null;t9K=null;K9K=null;q9K=null;for(var l9K=0;l9K < Y9K.length;l9K++){C9K=Y9K[l9K];if(!C9K)continue;x9V.d9P(14);S9K=Y9K[x9V.j9P(l9K,"1",0)];if(!l9K){if(!S9K){S9K=r9K[r9K.length - +"1"];}if(S9K){I9K=S9K.Close;if(I9K || I9K === 0){g0S();}}}if(!S9K)continue;A9K=C9K.Close;L9K=C9K.Open;x9K=C9K.High;p9K=C9K.Low;if(!A9K && A9K !== 0)continue;L9K=L9K || L9K === 0?L9K:A9K;x9K=x9K || x9K === 0?x9K:A9K;p9K=p9K || p9K === 0?p9K:A9K;if(!I9K && I9K !== 0){i0S=Math.floor(L9K / j9K) * j9K;I9K=isNaN(i0S)?L9K:i0S;g0S();u9K(S9K,L9K);}if(l9K){u9K(C9K,L9K);}if(x9K - L9K < L9K - p9K){if(x9K){u9K(C9K,x9K);}if(p9K){u9K(C9K,p9K);}}else {if(p9K){u9K(C9K,p9K);}if(x9K){u9K(C9K,x9K);}}u9K(C9K,A9K);if(l9K == Y9K.length - 1 && A9K != K9K){d0S=H9K;x9V.H9P(1);H9K=x9V.P9P(j9K,t9K);x9V.d9P(3);t9K=x9V.j9P(j9K,d0S);E0S(A9K);}}return U0S;};R6K.calculatePointFigure=function(h0S,I0S,C0S,L0S){var w0S,T0S,x0S,P0S,N0S,s0S,x9p,D9p,B0S,G0S,e0S,W0S,J0S,M0S,k0S,R0S,O0S,X0S,Q0S,n0S,V0S;if(!I0S.length){return I0S;}if(!L0S){L0S=[];}w0S=h0S.layout;T0S=h0S.chart;function H0S(a0S,y0S,r0S,Z0S,K0S,z0S,U1S,g1S,i1S){d2XX.i2V();return {DT:a0S.DT,Date:a0S.Date,pfOpen:g1S,pfClose:i1S,Open:y0S,Close:K0S,High:r0S,Low:Z0S,Volume:z0S,iqPrevClose:U1S};}x0S=T0S.state.aggregation;function j0S(l0S,o0S,u0S,S0S,v0S){l0S.High=Math.max(o0S,l0S.High);l0S.Low=Math.min(u0S,l0S.Low);d2XX.E2V();l0S.Close=S0S;l0S.Volume+=v0S;}if(!x0S){x0S=T0S.state.aggregation={};}T0S.defaultChartStyleConfig.box=1;T0S.defaultChartStyleConfig.reversal=3;if(!C0S){C0S={};}P0S=C0S.box;if(!P0S){if(w0S.pandf){if(w0S.pandf.box !== null){w0S.pandf.box=null;h0S.changeOccurred("layout");}}P0S=T0S.defaultChartStyleConfig.box;N0S=I0S[I0S.length - 1].Close;if(N0S){if(N0S < 0.25){P0S=0.0625;}else if(N0S < 1){P0S=0.125;}else if(N0S < 5){P0S=0.25;}else if(N0S < 20){P0S=0.5;}else if(N0S < 100){P0S=1;}else if(N0S < 200){P0S=2;}else if(N0S < 500){P0S=4;}else if(N0S < +"1000"){P0S=5;}else if(N0S < +"25000"){P0S=50;}else {P0S=500;}}if(!R6K.ChartEngine.isDailyInterval(w0S.interval)){P0S/=10;}if(R6K.Market.Symbology.isForexSymbol(T0S.symbol)){if(N0S){if(N0S < 1){P0S=0.001;}else if(N0S < 2){P0S=0.002;}else if(N0S < 50){P0S=0.02;}else if(N0S < 200){d2XX.d9P(15);P0S=d2XX.P9P("0.2",1);}}if(R6K.ChartEngine.isDailyInterval(w0S.interval)){P0S*=10;}}T0S.defaultChartStyleConfig.box=P0S;}P0S=parseFloat(P0S);if(isNaN(P0S) || P0S <= 0){if(w0S.pandf){if(w0S.pandf.box !== null){w0S.pandf.box=null;h0S.changeOccurred("layout");}}T0S.defaultChartStyleConfig.box=P0S=1;}s0S=Math.ceil(parseFloat(C0S.reversal));if(s0S > 0 && s0S > C0S.reversal){x9p="la";x9p+="yout";w0S.pandf.reversal=s0S;h0S.changeOccurred(x9p);}else if(isNaN(s0S) || s0S <= 0){if(w0S.pandf){if(w0S.pandf.reversal !== null){D9p="l";D9p+="ayout";w0S.pandf.reversal=null;h0S.changeOccurred(D9p);}}s0S=T0S.defaultChartStyleConfig.reversal;}x0S.box=P0S;s0S*=P0S;B0S=+"0.00000001";G0S=(P0S.toString() + ".").split("1775" >> 757738752 == 721.83?"0x1db2" | 6274:3220 < (3714,230.54)?"4.92e+3" | 272:".")[1].length;e0S=[];W0S=0;function Y0S(A0S,q0S){for(var t0S in A0S){if(!q0S[t0S] && q0S[t0S] !== +"0"){q0S[t0S]=A0S[t0S];}}return q0S;}for(var p0S=+"0";p0S < I0S.length;p0S++){M0S=I0S[p0S];if(!M0S)continue;W0S+=M0S.Volume;R0S=M0S.Close;O0S=M0S.Open;X0S=M0S.High;Q0S=M0S.Low;O0S=O0S || O0S === "0" >> 1944515360?O0S:R0S;X0S=X0S || X0S === 0?X0S:R0S;Q0S=Q0S || Q0S === +"0"?Q0S:R0S;if(!e0S.length && !L0S.length){J0S=Y0S(M0S,H0S(M0S,O0S,X0S,Q0S,R0S,W0S,X0S + P0S,Number((Math.ceil(Q0S / P0S - B0S) * P0S).toFixed(G0S)),Number((Math.floor(X0S / P0S + B0S) * P0S).toFixed(G0S))));J0S.pfTrend=(2690,461.71) == (10000,8530)?("7504" - 0,"89" >> 1657276160) < 84?!1:"i":"X";if(J0S.pfOpen == J0S.pfClose){J0S.pfStepBack="-";}e0S.push(J0S);W0S=0;continue;}k0S=e0S[e0S.length - 1];if(!k0S){k0S=R6K.clone(L0S[L0S.length - 1]);}if(k0S.pfTrend == "O"){if(Q0S <= k0S.pfClose - P0S){k0S.pfClose=Number((Math.ceil(Q0S / P0S - B0S) * P0S).toFixed(G0S));if(k0S.pfStepBack == "O"){k0S.pfStepBack=null;}j0S(k0S,X0S,Q0S,R0S,W0S);}else if(X0S >= k0S.pfClose + s0S){n0S=k0S.pfClose + P0S;V0S=Number((Math.floor(X0S / P0S + B0S) * P0S).toFixed(G0S));J0S=H0S(M0S,O0S,X0S,Q0S,R0S,W0S,k0S.pfClose,n0S,V0S);if(n0S == V0S){J0S.pfStepBack=(33.01,6010) !== (68.74,7214)?"X":"N";}if(k0S.pfStepBack == (+"6910" === (767.11,6451)?1780 === 697.16?("n",! ![]):(! !{},! !0):"O")){k0S.pfOpen=n0S;k0S.pfClose=V0S;k0S.pfTrend=("5509" - 0,830) <= (359.49,"2416" - 0)?1 < (33,"8630" & 2147483647)?"X":![]:"P";j0S(k0S,X0S,Q0S,R0S,W0S);}else {J0S=Y0S(M0S,J0S);J0S.pfTrend=(1040,98) != (9592,771)?"X":(6550,+"8579") > (566,823.05)?5500 < +"701.52"?(5.54e+3,"R"):662.67:(+"746.88","546.66" * 1);e0S.push(J0S);}}else {j0S(k0S,X0S,Q0S,R0S,W0S);}W0S=0;}else if(k0S.pfTrend == (("7420" * 1,6278) === (668.06,+"184.73")?(4.78e+3,705.83):"X")){if(X0S >= k0S.pfClose + P0S){k0S.pfClose=Number((Math.floor(X0S / P0S + B0S) * P0S).toFixed(G0S));if(k0S.pfStepBack == (7177 !== 3930?2350 > "969.65" - 0?"X":(0x19d0,0x2e):("271.23" * 1,0x3ee)) || k0S.pfStepBack == "-"){k0S.pfStepBack=null;}j0S(k0S,X0S,Q0S,R0S,W0S);}else if(Q0S <= k0S.pfClose - s0S){n0S=k0S.pfClose - P0S;V0S=Number((Math.ceil(Q0S / P0S - B0S) * P0S).toFixed(G0S));J0S=H0S(M0S,O0S,X0S,Q0S,R0S,W0S,k0S.pfClose,n0S,V0S);if(n0S == V0S){J0S.pfStepBack=6505 !== 1349?(187.54,53.56) < (5202,496)?"O":664.98:(3.59e+3,5.23e+3);}if(k0S.pfStepBack == "X" || k0S.pfStepBack == "-"){k0S.pfOpen=n0S;k0S.pfClose=V0S;k0S.pfTrend="6587" << 1227906272 < 329.37?("x","5.73" * 1):"O";j0S(k0S,X0S,Q0S,R0S,W0S);if(n0S != V0S && k0S.pfStepBack == ((+"5220",8700) != 7594?8910 === (8173,720.71)?(3.77e+3,"R"):(780,763.85) <= "408.89" - 0?! !{}:"-":("6.33e+3" >> 291226912,138.91))){k0S.pfStepBack=null;}}else {J0S=Y0S(M0S,J0S);J0S.pfTrend="O";e0S.push(J0S);}}else {j0S(k0S,X0S,Q0S,R0S,W0S);}W0S=0;}}return e0S;};};U5K=d1S=>{var v9V=d2XX;var U9p,f1S,E1S,N6p,M6p,K6p,W6p,O6p,E4p,f4p,V4p,v4p,L4p,J4p,Y4p,i4p,c4p,N4p,j9p,N9p,z9p,g9p,H9p;v9V.E2V();U9p="u";U9p+="n";U9p+="d";U9p+="efined";f1S=typeof _CIQ !== "undefined"?_CIQ:d1S.CIQ;E1S=typeof _timezoneJS !== U9p?_timezoneJS:d1S.timezoneJS;if(!f1S.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {N6p="br[cq-wa";N6p+="ve-parameters]";M6p="pa";M6p+="tt";M6p+="ern";K6p="co";K6p+="l";K6p+="or";W6p="I";W6p+="V";O6p="f";O6p+="on";O6p+="t";E4p="fillColo";E4p+="r";f4p="col";f4p+="or";V4p="cq-cvp";V4p+="-controlle";V4p+="r[cq-cvp-hea";V4p+="der=\"3\"]";v4p="ac";v4p+="t";v4p+="i";v4p+="ve2";L4p="color";L4p+="1";J4p="a";J4p+="c";J4p+="tiv";J4p+="e1";Y4p="pa";Y4p+="ttern";i4p="colo";i4p+="r";c4p="patter";c4p+="n";N4p="c";N4p+="o";N4p+="l";N4p+="or";j9p="l";j9p+="w";N9p="patter";N9p+="n";z9p="lineWi";z9p+="dth";g9p="col";g9p+="o";g9p+="r";H9p="l";H9p+="ineWidth";f1S.Drawing.ray=function(){v9V.E2V();this.name="ray";};f1S.inheritsFrom(f1S.Drawing.ray,f1S.Drawing.line);f1S.Drawing.ray.prototype.calculateOuterSet=function(c1S){var b1S,D1S;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[+"1"] || f1S.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}b1S={x0:this.p0[0],y0:this.p0["1" | 0],x1:this.p1[0],y1:this.p1[1]};D1S=b1S.x1 + 1000;if(b1S.x0 > b1S.x1){D1S=b1S.x1 - 1000;}this.v0B=this.v0;this.v1B=f1S.yIntersection(b1S,D1S);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(D1S,c1S.chart);};f1S.Drawing.ray.prototype.adjust=function(){var F1S;F1S=this.stx.panels[this.panelName];if(!F1S){return;}this.setPoint(0,this.d0,this.v0,F1S.chart);this.setPoint(1,this.d1,this.v1,F1S.chart);if(f1S.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,F1S.chart);}};f1S.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};f1S.inheritsFrom(f1S.Drawing.continuous,f1S.Drawing.segment);f1S.Drawing.continuous.prototype.click=function(N1S,P1S,k1S){var m9p,m1S,Q1S,X1S,J1S;m9p="v";m9p+="ect";m9p+="o";m9p+="r";m1S=this.stx.panels[this.panelName];if(!m1S){return;}v9V.E2V();this.copyConfig();if(!this.penDown){this.setPoint(0,P1S,k1S,m1S.chart);this.penDown=! !{};return !1;}if(this.accidentalClick(P1S,k1S)){this.stx.undo();return ! !"1";}this.setPoint(1,P1S,k1S,m1S.chart);Q1S=f1S.Drawing.segment;X1S=new Q1S();J1S=this.serialize(this.stx);X1S.reconstruct(this.stx,J1S);this.stx.addDrawing(X1S);this.stx.changeOccurred(m9p);this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! !{};}this.setPoint(0,P1S,k1S,m1S.chart);return !"1";};f1S.Drawing.ellipse=function(){var Q9p;v9V.i2V();Q9p="el";Q9p+="lips";Q9p+="e";this.name=Q9p;};f1S.inheritsFrom(f1S.Drawing.ellipse,f1S.Drawing.BaseTwoPoint);f1S.Drawing.ellipse.prototype.render=function(W1S){var R9p,R1S,j1S,V1S,e1S,O1S,T1S,B1S,G1S,h1S,I1S,s1S,w1S,M1S,n1S,C1S;R9p="n";R9p+="o";R9p+="n";R9p+="e";R1S=this.stx.panels[this.panelName];if(!R1S){return;}j1S=this.stx.pixelFromTick(this.p0[0],R1S.chart);V1S=this.stx.pixelFromTick(this.p1[0],R1S.chart);e1S=this.stx.pixelFromValueAdjusted(R1S,this.p0[0],this.p0[1]);O1S=this.stx.pixelFromValueAdjusted(R1S,this.p1[0],this.p1[1]);v9V.d9P(14);T1S=v9V.P9P(j1S,V1S,j1S);B1S=V1S;G1S=e1S;h1S=O1S;v9V.d9P(14);I1S=v9V.j9P(e1S,O1S,e1S);v9V.i2V();v9V.H9P(16);s1S=v9V.j9P(h1S,6,I1S);w1S=this.lineWidth;if(!w1S){w1S=1.1;}M1S=this.color;if(M1S == "auto" || f1S.isTransparent(M1S)){M1S=this.stx.defaultColor;}if(this.highlighted){M1S=this.stx.getCanvasColor("stx_highlight_vector");if(w1S == "0.1" * 1){w1S=1.1;}}n1S=this.fillColor;W1S.beginPath();W1S.moveTo(T1S,G1S);v9V.H9P(1);W1S.bezierCurveTo(T1S,v9V.j9P(s1S,h1S),B1S,v9V.P9P(s1S,h1S),B1S,G1S);v9V.d9P(3);W1S.bezierCurveTo(B1S,v9V.P9P(s1S,I1S),T1S,v9V.j9P(s1S,I1S),T1S,G1S);if(n1S && !f1S.isTransparent(n1S) && n1S != "auto"){W1S.fillStyle=n1S;W1S.globalAlpha=0.2;W1S.fill();W1S.globalAlpha=1;}if(M1S && this.pattern != R9p){W1S.strokeStyle=M1S;W1S.lineWidth=w1S;if(W1S.setLineDash){W1S.setLineDash(f1S.borderPatternToArray(w1S,this.pattern));W1S.lineDashOffset=0;;}W1S.stroke();}W1S.closePath();if(this.highlighted){C1S=this.highlighted == "p1"?!"":!{};this.littleCircle(W1S,V1S,O1S,C1S);}};f1S.Drawing.ellipse.prototype.intersected=function(t1S,q1S,L1S){var b9p,x1S,p1S,Y1S,H1S;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],L1S)){b9p="p";b9p+="1";this.highlighted=b9p;return {action:"drag",point:"p1"};}x1S=this.p0[0] - (this.p1[0] - this.p0[+"0"]);p1S=this.p1[0];Y1S=this.p1[1];H1S=this.p0[1] - (this.p1[1] - this.p0[1]);if(L1S.x0 > Math.max(x1S,p1S) || L1S.x1 < Math.min(x1S,p1S)){return ! !"";}if(L1S.y1 > Math.max(H1S,Y1S) || L1S.y0 < Math.min(H1S,Y1S)){return !{};}this.highlighted=! ![];return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:t1S,value:q1S};};f1S.Drawing.ellipse.prototype.configs=["color","fillColor",H9p,"pattern"];f1S.Drawing.ellipse.prototype.reconstruct=function(l1S,A1S){this.stx=l1S;this.color=A1S.col;this.fillColor=A1S.fc;this.panelName=A1S.pnl;this.pattern=A1S.ptrn;this.lineWidth=A1S.lw;this.d0=A1S.d0;this.d1=A1S.d1;this.tzo0=A1S.tzo0;this.tzo1=A1S.tzo1;this.v0=A1S.v0;this.v1=A1S.v1;this.adjust();};f1S.Drawing.ellipse.prototype.serialize=function(){v9V.E2V();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};f1S.Drawing.channel=function(){this.name="channel";this.dragToDraw=!1;v9V.E2V();this.p2=null;};f1S.inheritsFrom(f1S.Drawing.channel,f1S.Drawing.segment);f1S.Drawing.channel.prototype.configs=[g9p,"fillColor",z9p,"pattern"];f1S.Drawing.channel.prototype.move=function(v1S,o1S,u1S){var S1S;v9V.E2V();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[o1S,u1S];}else {S1S=u1S - (this.p1[1] - this.p0[1]) / (this.p1[0] - this.p0[+"0"]) * (o1S - this.p1[0]);this.p2=[this.p1[0],S1S];}this.render(v1S);};f1S.Drawing.channel.prototype.click=function(Z1S,y1S,r1S){var a1S;a1S=this.stx.panels[this.panelName];if(!a1S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,y1S,r1S,a1S.chart);this.penDown=! !"1";return ! !0;}if(this.accidentalClick(y1S,r1S)){this.stx.undo();return ! ![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],a1S.chart);this.penDown=! !0;return ! ![];}this.setPoint(1,y1S,r1S,a1S.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !1;}this.p2=[this.p1[+"0"],this.p1[1]];return ! !0;};f1S.Drawing.channel.prototype.boxIntersection=function(i2S,d2S,U2S){var K1S,z1S,g2S,f2S,E2S;K1S=this.p0;z1S=this.p1;g2S=this.p2;v9V.E2V();if(!K1S || !z1S || !g2S){return ! !0;}if(U2S.x0 > Math.max(K1S[0],z1S[0]) || U2S.x1 < Math.min(K1S[0],z1S[0])){return !1;}f2S=(z1S[0] - K1S[0]) * ((g2S[1] < K1S[1]?U2S.y1:U2S.y0) - K1S[1]) - (z1S[1] - K1S[1]) * (i2S - K1S["0" - 0]);E2S=(g2S[0] - K1S[0]) * ((g2S[1] > K1S[1]?U2S.y1:U2S.y0) - (K1S[1] + g2S[+"1"] - z1S[1])) - (z1S[1] - K1S[1]) * (i2S - K1S[0]);v9V.d9P(17);return v9V.P9P(f2S,E2S,0);};f1S.Drawing.channel.prototype.intersected=function(c2S,F2S,m2S){var D2S,T9p;if(!this.p0 || !this.p1 || !this.p2){return null;}D2S={0:this.p0,1:this.p1,2:this.p2};for(var b2S in D2S){if(this.pointIntersection(D2S[b2S][0],D2S[b2S][1],m2S)){T9p="dra";T9p+="g";v9V.H9P(1);this.highlighted=v9V.j9P(b2S,2877 < 4892?(6760,8830) == 7230?(!"",4.92e+3):(9180,9777) > (2860,1932)?"p":704.04:0x19ed);return {action:T9p,point:((4210,"903.63" - 0) >= (5407,5360)?9790 >= (444.49,2639)?+"3.61e+3":!{}:"p") + b2S};}}if(this.boxIntersection(c2S,F2S,m2S)){this.highlighted=! !{};return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),p2:f1S.clone(this.p2),tick:c2S,value:F2S};}return null;};f1S.Drawing.channel.prototype.render=function(P2S){var W9p,k2S,J2S,X2S,N2S,W2S,Q2S,T2S,R2S,w2S,M2S,K9p,s2S,n2S,V2S;W9p="n";W9p+="o";W9p+="n";W9p+="e";k2S=this.stx.panels[this.panelName];if(!k2S){return;}J2S=this.stx.pixelFromTick(this.p0["0" & 2147483647],k2S.chart);X2S=this.stx.pixelFromTick(this.p1[0],k2S.chart);N2S=this.stx.pixelFromValueAdjusted(k2S,this.p0[0],this.p0[1]);W2S=this.stx.pixelFromValueAdjusted(k2S,this.p1[0],this.p1[1]);Q2S=null;if(this.p2){Q2S=this.stx.pixelFromValueAdjusted(k2S,this.p2[0],this.p2[1]);}T2S=this.lineWidth;R2S=this.getLineColor();v9V.E2V();w2S=this.fillColor;if(this.p2 && w2S && !f1S.isTransparent(w2S) && w2S != "auto"){P2S.beginPath();P2S.moveTo(J2S,N2S);P2S.lineTo(X2S,W2S);P2S.lineTo(X2S,Q2S);v9V.d9P(18);P2S.lineTo(J2S,v9V.P9P(Q2S,N2S,W2S));P2S.closePath();P2S.globalAlpha=0.2;P2S.fillStyle=w2S;P2S.fill();P2S.globalAlpha=1;}M2S={pattern:this.pattern,lineWidth:T2S};if((this.penDown || this.highlighted) && this.pattern == W9p){M2S.pattern="dotted";}this.stx.plotLine(J2S,X2S,N2S,W2S,R2S,"segment",P2S,k2S,M2S);if(this.p2){v9V.H9P(18);this.stx.plotLine(J2S,X2S,v9V.P9P(Q2S,N2S,W2S),Q2S,R2S,"segment",P2S,k2S,M2S);}if(this.highlighted){K9p="p";K9p+="2";s2S=this.highlighted == "p0"?! ![]:!"1";n2S=this.highlighted == "p1"?! !{}:![];V2S=this.highlighted == K9p?! !{}:!1;this.littleCircle(P2S,J2S,N2S,s2S);this.littleCircle(P2S,X2S,W2S,n2S);this.littleCircle(P2S,X2S,Q2S,V2S);}};f1S.Drawing.channel.prototype.reposition=function(h2S,e2S,I2S,j2S){var M9p,O2S,B2S,G2S;M9p="mo";M9p+="ve";if(!e2S){return;}O2S=this.stx.panels[this.panelName];B2S=e2S.tick - I2S;G2S=e2S.value - j2S;if(e2S.action == M9p){this.setPoint(0,e2S.p0[0] - B2S,e2S.p0[+"1"] - G2S,O2S.chart);this.setPoint(1,e2S.p1["0" >> 852188672] - B2S,e2S.p1[1] - G2S,O2S.chart);this.setPoint(2,e2S.p2[0] - B2S,e2S.p2[1] - G2S,O2S.chart);this.render(h2S);}else if(e2S.action == "drag"){this[e2S.point]=[I2S,j2S];this.setPoint(+"0",this.p0[0],this.p0[1],O2S.chart);v9V.d9P(19);this.setPoint(v9V.j9P(1954674400,"1"),this.p1[0],this.p1[1],O2S.chart);this.setPoint(2,this.p2[0],this.p2["1" ^ 0],O2S.chart);this.render(h2S);}};f1S.Drawing.channel.prototype.adjust=function(){var C2S;C2S=this.stx.panels[this.panelName];if(!C2S){return;}this.setPoint(0,this.d0,this.v0,C2S.chart);this.setPoint(1,this.d1,this.v1,C2S.chart);this.setPoint(2,this.d1,this.v2,C2S.chart);v9V.E2V();;};f1S.Drawing.channel.prototype.reconstruct=function(x2S,L2S){this.stx=x2S;this.color=L2S.col;this.fillColor=L2S.fc;this.panelName=L2S.pnl;this.pattern=L2S.ptrn;this.lineWidth=L2S.lw;this.d0=L2S.d0;this.d1=L2S.d1;this.tzo0=L2S.tzo0;this.tzo1=L2S.tzo1;this.v0=L2S.v0;this.v1=L2S.v1;this.v2=L2S.v2;this.adjust();};f1S.Drawing.channel.prototype.serialize=function(){v9V.E2V();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};f1S.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=! !0;this.p2=null;};f1S.inheritsFrom(f1S.Drawing.pitchfork,f1S.Drawing.channel);f1S.Drawing.pitchfork.prototype.configs=["color","lineWidth",N9p];f1S.Drawing.pitchfork.prototype.move=function(H2S,p2S,Y2S){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[p2S,Y2S];}else {this.p2=[p2S,Y2S];}this.render(H2S);};f1S.Drawing.pitchfork.prototype.intersected=function(o2S,u2S,S2S){var A2S,l2S;if(!this.p0 || !this.p1 || !this.p2){return null;}A2S={0:this.p0,1:this.p1,2:this.p2};for(var q2S in A2S){if(this.pointIntersection(A2S[q2S]["0" ^ 0],A2S[q2S]["1" & 2147483647],S2S)){v9V.H9P(1);this.highlighted=v9V.P9P(q2S,(5000,616.92) === 9350?(602.11,5.76):552.56 >= 7779?(573.62,9743) < 2010?! !{}:503.86:"p");return {action:"drag",point:((893.72,6060) >= 622.49?"p":(+"16.46",166.81) <= "5373" - 0?0xc33:("j",556.15)) + q2S};}}l2S=this.rays;for(var t2S="0" - 0;t2S < l2S.length;t2S++){if(this.lineIntersection(o2S,u2S,S2S,t2S?"ray":"segment",l2S[t2S]["0" - 0],l2S[t2S][1],! !"1")){this.highlighted=! !{};return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),p2:f1S.clone(this.p2),tick:o2S,value:u2S};}}v9V.i2V();return null;};f1S.Drawing.pitchfork.prototype.render=function(f3S){var v2S,a2S,z2S,E3S,y2S,r2S,d3S,Z2S,K2S,c3S,F3S,m3S,U3S,b3S,D3S,c9p,i3S,P3S,k3S,X3S,Q3S;v2S=this.stx.panels[this.panelName];if(!v2S){return;}a2S=this.stx;z2S=this.p2;if(!z2S){z2S=this.p1;}E3S=a2S.pixelFromTick(this.p0[0],v2S.chart);y2S=a2S.pixelFromTick(this.p1["0" * 1],v2S.chart);r2S=a2S.pixelFromTick(z2S[0],v2S.chart);d3S=a2S.pixelFromValueAdjusted(v2S,this.p0[0],this.p0[1]);Z2S=a2S.pixelFromValueAdjusted(v2S,this.p1[0],this.p1[1]);K2S=a2S.pixelFromValueAdjusted(v2S,z2S[0],z2S[+"1"]);c3S=this.lineWidth;F3S=this.getLineColor();m3S={pattern:this.pattern,lineWidth:c3S};U3S=50;v9V.H9P(20);b3S=v9V.j9P(K2S,Z2S,2,d3S);v9V.d9P(20);D3S=v9V.P9P(r2S,y2S,2,E3S);if(D3S < +"0"){U3S*=-1;}v9V.H9P(10);b3S*=v9V.j9P(U3S,D3S);v9V.d9P(21);this.rays=[[[y2S,Z2S],[r2S,K2S]],[[E3S,d3S],[v9V.P9P("2",y2S,r2S),v9V.j9P(2,K2S,Z2S,v9V.H9P(6))]]];if(!(y2S == r2S && Z2S == K2S)){v9V.d9P(3);this.rays.push([[y2S,Z2S],[v9V.j9P(U3S,y2S),v9V.j9P(b3S,Z2S)]],[[r2S,K2S],[v9V.j9P(U3S,r2S),v9V.j9P(b3S,K2S)]]);}for(var g3S="0" * 1;g3S < this.rays.length;g3S++){c9p="r";c9p+="a";c9p+="y";i3S=this.rays[g3S];P3S=g3S?c9p:"segment";a2S.plotLine(i3S[0][0],i3S[1][+"0"],i3S[0][1],i3S[1][1],F3S,P3S,f3S,v2S,m3S);}if(this.highlighted){k3S=this.highlighted == "p0"?! !"1":!{};X3S=this.highlighted == "p1"?! !"1":! !0;Q3S=this.highlighted == "p2"?! !{}:!{};this.littleCircle(f3S,E3S,d3S,k3S);this.littleCircle(f3S,y2S,Z2S,X3S);this.littleCircle(f3S,r2S,K2S,Q3S);}};f1S.Drawing.pitchfork.prototype.adjust=function(){var J3S;J3S=this.stx.panels[this.panelName];if(!J3S){return;}this.setPoint(0,this.d0,this.v0,J3S.chart);this.setPoint(1,this.d1,this.v1,J3S.chart);v9V.d9P(13);this.setPoint(v9V.P9P("2",2),this.d2,this.v2,J3S.chart);};f1S.Drawing.pitchfork.prototype.reconstruct=function(W3S,N3S){this.stx=W3S;this.color=N3S.col;this.panelName=N3S.pnl;this.pattern=N3S.ptrn;this.lineWidth=N3S.lw;this.d0=N3S.d0;this.d1=N3S.d1;this.d2=N3S.d2;this.tzo0=N3S.tzo0;this.tzo1=N3S.tzo1;this.tzo2=N3S.tzo2;this.v0=N3S.v0;this.v1=N3S.v1;this.v2=N3S.v2;this.adjust();};f1S.Drawing.pitchfork.prototype.serialize=function(){v9V.E2V();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};f1S.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!"1";v9V.d9P(13);this.maxSegments=v9V.P9P("4",4);this.shape=null;this.points=[];};f1S.inheritsFrom(f1S.Drawing.gartley,f1S.Drawing.continuous);f1S.Drawing.gartley.prototype.check=function(M3S,w3S){if(!w3S){return ! ![];}if(M3S[+"0"] >= w3S[0] || M3S[1] == w3S[1]){return !{};}if(this.segment == "1" - 0){if(M3S[1] < w3S[1]){this.shape=(746.7,436.03) !== (7100,5520)?"8956" * 1 != (3730,594.37)?"M":+"815.73":0x18c;}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == "M" && M3S["1" & 2147483647] < w3S[1]){return ! !0;}else if(this.shape == ((+"2730",6860) == (9200,593.26)?3240 >= 4473?(6.44e+3,0x1697):(730.56,1798) > (798.58,3453)?! ![]:(2.85e+3,![]):"W") && M3S[1] > w3S[1]){return ! !"";}else if((w3S[1] - M3S[1]) / (this.points[0]["1" & 2147483647] - M3S[1]) < 0.618){return ! !"";}else if((w3S[1] - M3S[1]) / (this.points[0][1] - M3S["1" - 0]) >= +"0.786"){return !1;}}else if(this.segment == 3){if(this.shape == ((+"5930",8690) >= (2225,926.23)?(2016,4770) <= 481.18?("N",0x23fd):"M":"V") && M3S[+"1"] > w3S[1]){return !"1";}else if(this.shape == (2351 != (8790,+"6770")?(435.15,961.47) == 4519?(5.08e+3,0x266c):"W":(! !"1",+"0x20fd")) && M3S[1] < w3S[1]){return !"1";}else if((w3S[1] - M3S[1]) / (this.points[1][1] - M3S[1]) < 0.618){return ! !0;}else if((w3S[1] - M3S[1]) / (this.points[+"1"][+"1"] - M3S[1]) >= 0.786){return !"1";}}else if(this.segment == 4){if(this.shape == (208.19 <= 4657?"M":286.51) && (M3S[1] < w3S[1] || w3S[1] < this.points[0][1])){return ! !"";}else if(this.shape == (459 == 554.1?0x49e:"W") && (M3S["1" << 1656086880] > w3S[1] || w3S[1] > this.points["0" * 1][1])){return !"1";}else if((this.points[1][1] - w3S[1]) / (this.points[+"1"][1] - this.points[+"2"][+"1"]) < +"1.27"){return !{};}else if((this.points[+"1"][1] - w3S[1]) / (this.points[1][1] - this.points[2]["1" << 1162327136]) >= "1.618" * 1){return ![];}}v9V.E2V();return ! !"1";};f1S.Drawing.gartley.prototype.click=function(n3S,T3S,s3S){var R3S,l7p,A7p,s7p;R3S=this.stx.panels[this.panelName];if(!R3S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,T3S,s3S,R3S.chart);this.pts=[];this.penDown=! ![];this.segment=1;return !{};}if(this.accidentalClick(T3S,s3S)){this.penDown=! !{};return !"1";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(+"1",T3S,s3S,R3S.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][+"0"],this.points[0][1],R3S.chart);this.penDown=![];v9V.d9P(0);l7p=v9V.j9P(0,"1724218531");A7p=-1550967898;s7p=2;for(var e7p=1;v9V.f0p(e7p.toString(),e7p.toString().length,"76679" ^ 0) !== l7p;e7p++){return ![];}if(v9V.f0p(s7p.toString(),s7p.toString().length,+"44102") !== A7p){return ! !1;}return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,T3S,s3S,R3S.chart);;}return ! !"";};f1S.Drawing.gartley.prototype.render=function(e3S){var y9p,V3S,q3S,C3S,A3S,L3S,G3S,l3S,x3S,j3S,I3S,B3S,p3S,Y3S,H3S,t3S;y9p="d";y9p+="ott";y9p+="e";y9p+="d";v9V.i2V();V3S=this.stx.panels[this.panelName];if(!V3S){return;}q3S=this.stx.pixelFromTick(this.p0[+"0"],V3S.chart);C3S=this.stx.pixelFromTick(this.p1[0],V3S.chart);A3S=this.stx.pixelFromValueAdjusted(V3S,this.p0[0],this.p0[+"1"]);L3S=this.stx.pixelFromValueAdjusted(V3S,this.p1[0],this.p1["1" & 2147483647]);if(this.segment == 2){this.drawDropZone(e3S,0.618 * this.points[+"0"][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0["1" >> 1722609344],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(e3S,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[+"1"],this.p0[0]);}else if(this.segment == 4){G3S=1.618 * this.points[2]["1" * 1] - 0.618 * this.points[1]["1" | 1];if(this.shape == (854.99 == (6427,3884)?("3.32e+2" >> 964010720,212):"M")){G3S=Math.max(G3S,this.points[0][1]);}else {G3S=Math.min(G3S,this.points[0][+"1"]);}this.drawDropZone(e3S,G3S,1.27 * this.points[2][1] - +"0.27" * this.points[1][1],this.p0["0" | 0]);}l3S=this.lineWidth;x3S=this.getLineColor();j3S={pattern:this.pattern,lineWidth:l3S};if((this.penDown || this.highlighted) && this.pattern == "none"){j3S.pattern=y9p;}if(this.segment <= this.maxSegments){this.stx.plotLine(q3S,C3S,A3S,L3S,x3S,this.name,e3S,V3S,j3S);}I3S=this.fillColor;B3S=[];if(this.points.length){e3S.beginPath();for(var O3S=1;O3S < this.points.length && O3S <= 4;O3S++){p3S=this.stx.pixelFromTick(this.points[O3S - 1][0],V3S.chart);Y3S=this.stx.pixelFromTick(this.points[O3S]["0" & 2147483647],V3S.chart);H3S=this.stx.pixelFromValueAdjusted(V3S,this.points[O3S - 1][0],this.points[O3S - 1][1]);t3S=this.stx.pixelFromValueAdjusted(V3S,this.points[O3S][+"0"],this.points[O3S][1]);if(O3S == 1){B3S.push(p3S,H3S);}B3S.push(Y3S,t3S);this.stx.plotLine(p3S,Y3S,H3S,t3S,x3S,this.name,e3S,V3S,j3S);}if(this.points.length == ("2" & 2147483647) || this.points.length == 4){B3S.push(C3S,L3S);}if(this.points[2]){B3S.push(this.stx.pixelFromTick(this.points[2][0],V3S.chart),this.stx.pixelFromValueAdjusted(V3S,this.points[+"2"]["0" >> 521704800],this.points[2][+"1"]));}if(I3S && I3S != "auto" && !f1S.isTransparent(I3S)){for(var h3S="0" & 2147483647;h3S < B3S.length;h3S+="2" | 0){if(h3S === 0){e3S.moveTo(B3S[0],B3S[1]);}e3S.lineTo(B3S[h3S],B3S[h3S + 1]);}e3S.fillStyle=I3S;e3S.globalAlpha=0.2;e3S.closePath();e3S.fill();e3S.globalAlpha=1;}};};f1S.Drawing.gartley.prototype.lineIntersection=function(v3S,a3S,y3S,r3S){var o3S,S3S,m2p,Q2p,R2p;o3S=this.points;S3S=this.stx.panels[this.panelName];if(o3S.length != this.maxSegments + 1 || !S3S){return !{};}for(var u3S=0;u3S < o3S.length - 1;u3S++){if(f1S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,v3S,a3S,y3S,"segment",o3S[u3S],o3S[u3S + 1])){return !"";}}m2p=-1129247237;Q2p=- +"279375150";R2p=2;for(var H2p=+"1";v9V.f0p(H2p.toString(),H2p.toString().length,+"96735") !== m2p;H2p++){return ! !{};}if(v9V.e0p(R2p.toString(),R2p.toString().length,+"55872") !== Q2p){return ![];}};f1S.Drawing.gartley.prototype.boxIntersection=function(g4S,i4S,K3S){var z3S,U4S;if(!this.p0 || !this.p1){return !{};}if(K3S.x0 > Math.max(this.p0[0],this.p1[0]) || K3S.x1 < Math.min(this.p0[0],this.p1[0])){return !"1";}z3S=Math.min(this.p0[1],this.p1[1]);U4S=Math.max(this.p0[1],this.p1[1]);v9V.E2V();for(var Z3S=0;Z3S < this.points.length;Z3S++){z3S=Math.min(z3S,this.points[Z3S][1]);U4S=Math.max(U4S,this.points[Z3S][1]);}if(K3S.y1 > U4S || K3S.y0 < z3S){return !"1";}return ! ![];};f1S.Drawing.gartley.prototype.reposition=function(m4S,E4S,b4S,D4S){var P9p,d4S,c4S,F4S;P9p="m";P9p+="o";P9p+="ve";if(!E4S){return;}d4S=this.stx.panels[this.panelName];c4S=E4S.tick - b4S;E4S.tick=b4S;F4S=E4S.value - D4S;E4S.value=D4S;if(E4S.action == P9p){this.pts=[];for(var f4S=0;f4S < this.points.length;f4S++){this.points[f4S][0]-=c4S;this.points[f4S][1]-=F4S;v9V.H9P(13);this.setPoint(v9V.j9P("1",0),this.points[f4S][0],this.points[f4S][1],d4S.chart);if(f4S && f4S < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[f4S]=this.p1;}this.setPoint(0,this.points[0][0],this.points["0" & 2147483647][1],d4S.chart);this.render(m4S);;}};f1S.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];f1S.Drawing.gartley.prototype.adjust=function(){var P4S;P4S=this.stx.panels[this.panelName];if(!P4S){return;}this.reconstructPoints();v9V.E2V();this.setPoint(+"0",this.d0,this.v0,P4S.chart);this.points.unshift(this.p0);v9V.H9P(19);this.setPoint(v9V.P9P(195878176,"1"),this.d1,this.v1,P4S.chart);this.points.push(this.p1);};f1S.Drawing.gartley.prototype.reconstructPoints=function(){var Q4S,X4S;Q4S=this.stx.panels[this.panelName];if(!Q4S){return;}this.points=[];for(var k4S=0;k4S < this.pts.length;k4S+=3){X4S=f1S.strToDateTime(this.pts[k4S]);X4S.setMinutes(X4S.getMinutes() + Number(this.pts[k4S + 1]) - X4S.getTimezoneOffset());this.points.push([this.stx.tickFromDate(f1S.yyyymmddhhmmssmmm(X4S),Q4S.chart),this.pts[k4S + +"2"]]);}};f1S.Drawing.gartley.prototype.reconstruct=function(N4S,J4S){this.stx=N4S;this.color=J4S.col;this.fillColor=J4S.fc;this.panelName=J4S.pnl;this.pattern=J4S.ptrn;this.lineWidth=J4S.lw;this.d0=J4S.d0;this.d1=J4S.d1;this.tzo0=J4S.tzo0;v9V.E2V();this.tzo1=J4S.tzo1;this.v0=J4S.v0;this.v1=J4S.v1;this.pts=J4S.pts.split(208.72 != 5962?",":(0x1615,0x113b));this.adjust();};f1S.Drawing.gartley.prototype.serialize=function(){v9V.E2V();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};f1S.Drawing.freeform=function(){this.name="freeform";v9V.i2V();this.splineTension=+"0.3";this.dragToDraw=! ![];};f1S.inheritsFrom(f1S.Drawing.freeform,f1S.Drawing.segment);f1S.Drawing.freeform.prototype.measure=function(){};f1S.Drawing.freeform.prototype.intersected=function(w4S,M4S,W4S){if(W4S.x0 > this.hiX || W4S.x1 < this.lowX){return null;}if(W4S.y1 > this.hiY || W4S.y0 < this.lowY){return null;}this.highlighted=! !{};return {action:"move",p0:f1S.clone(this.p0),tick:w4S,value:M4S};};f1S.Drawing.freeform.prototype.reposition=function(V4S,R4S,e4S,O4S){var q9p,T4S,s4S,n4S;q9p="m";q9p+="ov";q9p+="e";if(!R4S){return;}T4S=this.stx.panels[this.panelName];s4S=R4S.tick - e4S;n4S=R4S.value - O4S;if(R4S.action == q9p){this.setPoint(0,R4S.p0["0" | 0] - s4S,R4S.p0[1] - n4S,T4S.chart);this.adjust();this.render(V4S);}};f1S.Drawing.freeform.prototype.click=function(j4S,G4S,I4S){var B4S,h4S;v9V.E2V();B4S=this.stx.panels[this.panelName];if(!B4S){return;}if(this.penDown === ! !0){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(G4S,B4S.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(B4S,G4S,I4S)));h4S=this.stx.dateFromTick(G4S,B4S.chart,!"");this.d0=f1S.yyyymmddhhmmssmmm(h4S);this.tzo0=h4S.getTimezoneOffset();this.v0=I4S;this.p0=[f1S.ChartEngine.crosshairX - this.startX,f1S.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=B4S.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! !{};return ![];}this.penDown=!{};this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return !"";};f1S.Drawing.freeform.prototype.move=function(x4S,p4S,Y4S){var C4S,L4S;if(!this.penDown){return;}C4S=this.stx.panels[this.panelName];L4S=this.stx.dateFromTick(p4S,C4S.chart,!0);v9V.i2V();this.d1=f1S.yyyymmddhhmmssmmm(L4S);this.tzo1=L4S.getTimezoneOffset();this.v1=Y4S;this.p1=[f1S.ChartEngine.crosshairX - this.startX,C4S.yAxis.flipped?this.startY - f1S.ChartEngine.crosshairY:f1S.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - ("1" << 1739400000)][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;v9V.H9P(0);this.nodes.length-=v9V.j9P(0,"2");}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(x4S);return ! !"";};f1S.Drawing.freeform.prototype.intervalRatio=function(l4S,H4S,a4S,y4S,q4S,A4S){var t4S,Z9p;t4S=0;function v4S(r4S,Z4S){v9V.E2V();return 5;}if(l4S == H4S){t4S=1;}else if(!isNaN(l4S) && !isNaN(H4S)){v9V.d9P(10);t4S=v9V.j9P(l4S,H4S);}else if(isNaN(l4S)){if(l4S == "month"){if(H4S == "week"){t4S=v4S(q4S,A4S);}else if(H4S == "day"){t4S=S4S(q4S,A4S);}else if(!isNaN(H4S)){t4S=S4S(q4S,A4S) * o4S(q4S,A4S) / H4S;}}else if(l4S == "week"){if(H4S == "month"){t4S=+"1" / v4S(q4S,A4S);}if(H4S == "day"){t4S=u4S(q4S,A4S);}else if(!isNaN(H4S)){t4S=u4S(q4S,A4S) * o4S(q4S,A4S) / H4S;}}else if(l4S == "day"){if(H4S == "week"){t4S="1" * 1 / u4S(q4S,A4S);}else if(H4S == "month"){t4S=1 / S4S(q4S,A4S);}else if(!isNaN(H4S)){t4S=o4S(q4S,A4S) / H4S;}}}else if(!isNaN(l4S)){Z9p="d";Z9p+="a";Z9p+="y";if(H4S == "month"){t4S=l4S / (S4S(q4S,A4S) * o4S(q4S,A4S));}else if(H4S == "week"){t4S=l4S / (u4S(q4S,A4S) * o4S(q4S,A4S));}else if(H4S == Z9p){t4S=l4S / o4S(q4S,A4S);}}function u4S(K4S,z4S){v9V.d9P(0);return v9V.P9P(0,"5");}v9V.d9P(10);t4S*=v9V.j9P(a4S,y4S);v9V.i2V();function o4S(f5S,i5S){if(f1S.Market.Symbology.isForexSymbol(i5S)){return 1440;}return 390;}function S4S(U5S,g5S){v9V.H9P(0);return v9V.P9P(0,"30");}return t4S;};f1S.Drawing.freeform.prototype.render=function(k5S){var E5S,c5S,X5S,Q5S,J5S,F5S,d5S,N5S,m5S,P5S,W5S,D5S;E5S=this.stx.panels[this.panelName];if(!E5S){return;}c5S=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,E5S.chart.symbol);if(c5S === 0){return;}X5S=this.stx.layout.candleWidth / this.candleWidth;Q5S=E5S.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,E5S.chart);J5S=this.stx.pixelFromTick(this.p0[0],E5S.chart);F5S=this.stx.pixelFromValueAdjusted(E5S,this.p0[0],this.p0[1]);d5S=[];N5S=this.lineWidth;m5S=this.getLineColor();P5S={pattern:this.pattern,lineWidth:N5S};for(var b5S=0;b5S < this.pNodes.length;b5S++){W5S=c5S * X5S * this.pNodes[b5S][+"0"] + J5S;D5S=Q5S * this.pNodes[b5S]["1" & 2147483647];if(E5S.yAxis.flipped){v9V.H9P(3);D5S=v9V.j9P(D5S,F5S);}else {D5S+=F5S;}d5S.push(W5S,D5S);}if(!d5S.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(d5S,m5S,this.name,k5S,E5S,P5S);}else {this.stx.plotSpline(d5S,this.splineTension,m5S,this.name,k5S,!0,P5S);}};f1S.Drawing.freeform.prototype.adjust=function(){var w5S,O5S,M5S,n5S,V5S,T5S,e5S,s5S;w5S=this.stx.panels[this.panelName];if(!w5S){return;}O5S=[this.nodes[0],this.nodes[1]];this.pNodes=[O5S];v9V.i2V();this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var R5S=2;R5S < this.nodes.length;R5S+=2){v9V.d9P(1);M5S=[this.nodes[R5S],this.nodes[v9V.P9P(1,R5S)]];this.pNodes.push(M5S);this.lowX=Math.min(this.lowX,M5S[+"0"]);this.hiX=Math.max(this.hiX,M5S[0]);this.lowY=Math.max(this.lowY,M5S[1]);this.hiY=Math.min(this.hiY,M5S[1]);}n5S=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,w5S.chart.symbol);if(n5S === 0){return;}V5S=this.stx.layout.candleWidth / this.candleWidth;T5S=w5S.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,w5S.chart);e5S=this.stx.pixelFromTick(this.p0[0],w5S.chart);s5S=this.stx.pixelFromValueAdjusted(w5S,this.p0[0],this.p0["1" * 1]);this.lowX=this.stx.tickFromPixel(Math.floor(n5S * V5S * this.lowX) + e5S,w5S.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(n5S * V5S * this.hiX) + e5S,w5S.chart);if(w5S.yAxis.flipped){this.lowY=this.stx.valueFromPixel(s5S - Math.floor(T5S * this.lowY),w5S);this.hiY=this.stx.valueFromPixel(s5S - Math.ceil(T5S * this.hiY),w5S);}else {this.lowY=this.stx.valueFromPixel(Math.floor(T5S * this.lowY) + s5S,w5S);this.hiY=this.stx.valueFromPixel(Math.ceil(T5S * this.hiY) + s5S,w5S);}};f1S.Drawing.freeform.prototype.serialize=function(){var n7p,u7p,j7p;n7p=-1185195018;u7p=-1838958718;j7p=2;for(var X7p="1" * 1;v9V.f0p(X7p.toString(),X7p.toString().length,"31564" * 1) !== n7p;X7p++){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed("4" << 968944512)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};}if(v9V.f0p(j7p.toString(),j7p.toString().length,57530) !== u7p){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(6)),mlt:Number(this.multiplier.toFixed(+"7")),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};}};f1S.Drawing.freeform.prototype.reconstruct=function(G5S,B5S){this.stx=G5S;this.color=B5S.col;this.panelName=B5S.pnl;this.pattern=B5S.ptrn;this.lineWidth=B5S.lw;this.candleWidth=B5S.cw;this.multiplier=B5S.mlt;this.d0=B5S.d0;this.tzo0=B5S.tzo0;this.v0=B5S.v0;this.interval=B5S.inter;this.periodicity=B5S.pd;this.nodes=B5S.nodes;this.adjust();};f1S.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";v9V.E2V();this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};f1S.inheritsFrom(f1S.Drawing.callout,f1S.Drawing.annotation);f1S.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];f1S.Drawing.callout.prototype.copyConfig=function(h5S){f1S.Drawing.copyConfig(this,h5S);this.borderColor=this.color;};f1S.Drawing.callout.prototype.move=function(I5S,j5S,C5S){v9V.i2V();if(!this.penDown){return;}this.copyConfig();this.p0=[j5S,C5S];this.render(I5S);};f1S.Drawing.callout.prototype.onChange=function(Y5S){var p5S,x5S,L5S;p5S=this.stx.panels[this.panelName];if(!p5S){return;}v9V.E2V();x5S=Y5S.target;this.w=x5S.clientWidth;this.h=x5S.clientHeight;L5S=this.context || this.stx.chart.tempCanvas.context;f1S.clearCanvas(L5S.canvas,this.stx);this.render(L5S);this.edit(L5S);};f1S.Drawing.callout.prototype.render=function(H5S){var I9p,w9p,y5S,i6S,g6S,q5S,t5S,l5S,A5S,r5S,Z5S,a5S,u5S,K5S,S5S,z5S,o5S,p9p,v5S,G1p,X1p,r1p,B9p,u9p,n9p,k9p,F9p,f6S;I9p="au";I9p+="to";w9p="t";w9p+="o";w9p+="p";this.context=H5S;y5S=this.stx.panels[this.panelName];if(!y5S){return;}i6S=this.stx.pixelFromTick(this.p0[0],y5S.chart);g6S=this.stx.pixelFromValueAdjusted(y5S,this.p0[0],this.p0[1]);if(isNaN(g6S)){return;}H5S.font=this.fontString;H5S.textBaseline=w9p;q5S=i6S;t5S=g6S;l5S=this.w / 2;A5S=this.h / 2;if(this.penDown){l5S=this.defaultWidth;A5S=this.defaultHeight;if(!A5S){A5S=this.fontSize;}}r5S=this.lineWidth;if(!r5S){r5S=1.1;}Z5S=this.color;if(Z5S == "auto" || f1S.isTransparent(Z5S)){Z5S=this.stx.defaultColor;}a5S=this.borderColor;if(a5S == I9p || f1S.isTransparent(a5S)){a5S=this.stx.defaultColor;}if(this.highlighted){a5S=this.stx.getCanvasColor("stx_highlight_vector");}o5S=Math.min(Math.min(l5S,A5S) / 2,+"8");if(this.stem){p9p="c";p9p+="m";if(this.stem.t){u5S=this.stx.pixelFromTick(this.stem.t);S5S=this.stx.pixelFromValueAdjusted(y5S,this.stem.t,this.stem.v);}else if(this.stem.x){u5S=q5S;S5S=t5S;q5S+=this.stem.x;t5S+=this.stem.y;}v5S="";if(u5S >= q5S + l5S){v9V.H9P(1);K5S=v9V.P9P(l5S,q5S);v5S=(870.69,380.59) < 494.75?"r":(! !1,!"1");}else if(u5S > q5S - l5S && u5S < q5S + l5S){G1p=-497746506;X1p=614051776;r1p=2;for(var C1p=1;v9V.f0p(C1p.toString(),C1p.toString().length,47237) !== G1p;C1p++){K5S=q5S;r1p+=2;}if(v9V.f0p(r1p.toString(),r1p.toString().length,68079) !== X1p){K5S=q5S;}v5S=(3470,55.65) !== (2076,870.84)?"c":(2730,7198) < (1056,707.59)?("B","V"):("51.86" - 0,"6710" | 54) === (978,8850)?(0x1fe,! !0):+"0x14ac";}else if(u5S <= q5S - l5S){v9V.d9P(3);K5S=v9V.P9P(l5S,q5S);v5S="l";}if(S5S >= t5S + A5S){v9V.d9P(1);z5S=v9V.P9P(A5S,t5S);v5S+=(3160,1940) < 458.35?(+"642.22",979.31):(6320,"514" * 1) != (702,3448)?(5823,947) == (630.87,+"9390")?! !"1":"b":0x206;}else if(S5S > t5S - A5S && S5S < t5S + A5S){z5S=t5S;v5S+="6568" << 1318932384 >= 3305?"m":9340 < 5330?+"5.96e+3":9.72e+3;}else if(S5S <= t5S - A5S){v9V.H9P(3);z5S=v9V.P9P(A5S,t5S);v5S+=574.64 == (+"351.89",7250)?4421 != 6440?("D",4.79e+3):(7.54e+3,"0x2526" << 373934400):"t";}this.stemEntry=v5S;if(v5S != p9p){u5S=Math.round(u5S);K5S=Math.round(K5S);S5S=Math.round(S5S);z5S=Math.round(z5S);}}if(this.highlighted){B9p="st";B9p+="x_annotation_highl";B9p+="ight_bg";this.stx.canvasColor(B9p,H5S);}else {if(this.fillColor){H5S.fillStyle=this.fillColor;H5S.globalAlpha=0.4;}else if(this.stem){H5S.fillStyle=this.stx.containerColor;}}H5S.strokeStyle=a5S;if(H5S.setLineDash){H5S.setLineDash(f1S.borderPatternToArray(r5S,this.pattern));v9V.H9P(0);H5S.lineDashOffset=v9V.j9P(0,"0");;}if(a5S){u9p="no";u9p+="ne";n9p="l";n9p+="t";k9p="l";k9p+="b";F9p="c";F9p+="b";H5S.beginPath();H5S.lineWidth=r5S;v9V.H9P(7);H5S.moveTo(v9V.j9P(l5S,o5S,q5S),v9V.P9P(A5S,t5S,v9V.H9P(3)));if(this.stemEntry != "rt"){v9V.d9P(1);H5S.quadraticCurveTo(v9V.P9P(l5S,q5S),v9V.j9P(A5S,t5S,v9V.H9P(3)),v9V.P9P(l5S,q5S,v9V.H9P(1)),v9V.P9P(A5S,t5S,o5S,v9V.H9P(2)));;}else {H5S.lineTo(u5S,S5S);v9V.d9P(1);H5S.lineTo(v9V.P9P(l5S,q5S),v9V.j9P(A5S,t5S,o5S,v9V.H9P(2)));}v9V.H9P(1);H5S.lineTo(v9V.j9P(l5S,q5S),v9V.j9P(t5S,2,o5S,v9V.H9P(22)));if(this.stemEntry == "rm"){H5S.lineTo(u5S,S5S);}v9V.d9P(1);H5S.lineTo(v9V.j9P(l5S,q5S),v9V.j9P(o5S,t5S,2,v9V.d9P(23)));v9V.H9P(1);H5S.lineTo(v9V.P9P(l5S,q5S),v9V.j9P(A5S,o5S,t5S,v9V.d9P(7)));if(this.stemEntry != "rb"){v9V.d9P(1);H5S.quadraticCurveTo(v9V.j9P(l5S,q5S),v9V.P9P(A5S,t5S,v9V.H9P(1)),v9V.j9P(l5S,o5S,q5S,v9V.H9P(7)),v9V.P9P(A5S,t5S,v9V.H9P(1)));;}else {H5S.lineTo(u5S,S5S);v9V.d9P(7);H5S.lineTo(v9V.P9P(l5S,o5S,q5S),v9V.P9P(A5S,t5S,v9V.H9P(1)));}v9V.H9P(23);H5S.lineTo(v9V.j9P(o5S,q5S,2),v9V.j9P(A5S,t5S,v9V.d9P(1)));if(this.stemEntry == F9p){H5S.lineTo(u5S,S5S);}v9V.H9P(22);H5S.lineTo(v9V.j9P(q5S,2,o5S),v9V.j9P(A5S,t5S,v9V.H9P(1)));v9V.H9P(2);H5S.lineTo(v9V.j9P(l5S,q5S,o5S),v9V.P9P(A5S,t5S,v9V.d9P(1)));if(this.stemEntry != k9p){v9V.d9P(3);H5S.quadraticCurveTo(v9V.P9P(l5S,q5S),v9V.j9P(A5S,t5S,v9V.d9P(1)),v9V.j9P(l5S,q5S,v9V.H9P(3)),v9V.j9P(A5S,o5S,t5S,v9V.H9P(7)));;}else {H5S.lineTo(u5S,S5S);v9V.d9P(3);H5S.lineTo(v9V.j9P(l5S,q5S),v9V.P9P(A5S,o5S,t5S,v9V.d9P(7)));}v9V.H9P(3);H5S.lineTo(v9V.P9P(l5S,q5S),v9V.j9P(o5S,t5S,2,v9V.d9P(23)));if(this.stemEntry == "lm"){H5S.lineTo(u5S,S5S);}v9V.H9P(3);H5S.lineTo(v9V.j9P(l5S,q5S),v9V.j9P(t5S,2,o5S,v9V.d9P(22)));v9V.d9P(3);H5S.lineTo(v9V.P9P(l5S,q5S),v9V.P9P(A5S,t5S,o5S,v9V.H9P(2)));if(this.stemEntry != n9p){v9V.H9P(3);H5S.quadraticCurveTo(v9V.P9P(l5S,q5S),v9V.P9P(A5S,t5S,v9V.d9P(3)),v9V.j9P(l5S,q5S,o5S,v9V.d9P(2)),v9V.P9P(A5S,t5S,v9V.H9P(3)));;}else {H5S.lineTo(u5S,S5S);v9V.d9P(2);H5S.lineTo(v9V.j9P(l5S,q5S,o5S),v9V.j9P(A5S,t5S,v9V.H9P(3)));}v9V.H9P(24);H5S.lineTo(v9V.j9P(q5S,o5S,"2"),v9V.P9P(A5S,t5S,v9V.d9P(3)));if(this.stemEntry == "ct"){H5S.lineTo(u5S,S5S);}v9V.d9P(23);H5S.lineTo(v9V.P9P(o5S,q5S,2),v9V.j9P(A5S,t5S,v9V.d9P(3)));v9V.d9P(7);H5S.lineTo(v9V.P9P(l5S,o5S,q5S),v9V.P9P(A5S,t5S,v9V.d9P(3)));H5S.fill();H5S.globalAlpha=+"1";if(this.pattern != u9p){H5S.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",H5S);}else {H5S.fillStyle=Z5S;}t5S+=this.padding;if(!this.ta){for(var U6S=0;U6S < this.arr.length;U6S++){H5S.fillText(this.arr[U6S],q5S - l5S + this.padding,t5S - A5S);t5S+=this.fontSize;}}H5S.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){f6S=this.highlighted == "p0"?! !"1":![];this.littleCircle(H5S,u5S,S5S,f6S);};};f1S.Drawing.callout.prototype.click=function(d6S,b6S,D6S){var E6S;if(this.stx.overXAxis || this.stx.overYAxis){return;}E6S=this.stx.panels[this.panelName];this.copyConfig();v9V.H9P(0);this.setPoint(v9V.P9P(0,"0"),b6S,D6S,E6S.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !{};this.adjust();return !1;}this.adjust();this.edit(d6S);this.penDown=![];return ! !"";};f1S.Drawing.callout.prototype.reposition=function(Q6S,c6S,k6S,X6S){var F6S,m6S,P6S;if(!c6S){return;}F6S=this.stx.panels[this.panelName];m6S=c6S.tick - k6S;P6S=c6S.value - X6S;v9V.i2V();if(c6S.stem){if(c6S.action == "drag"){this.stem={d:this.stx.dateFromTick(k6S,F6S.chart,! !"1"),v:X6S};}else if(c6S.action == "move"){this.setPoint(0,c6S.p0[0] - m6S,c6S.p0[1] - P6S,F6S.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(c6S.stem.d,F6S.chart) - m6S),v:c6S.stem.v - P6S};}this.adjust();}else {this.setPoint(0,c6S.p0[0] - m6S,c6S.p0[1] - P6S,F6S.chart);}this.render(Q6S);};f1S.Drawing.callout.prototype.lineIntersection=function(h6S,I6S,B6S,G6S){var T6S,J6S,w6S,s6S,n6S,V6S,N6S,M6S,R6S,e6S,O6S,W6S;T6S=this.stx.panels[this.panelName];v9V.E2V();J6S=this.stem;w6S=this.p0;s6S=this.stx;if(!w6S || !J6S || !T6S){return !{};}n6S=J6S.t || this.stx.tickFromDate(J6S.d,T6S.chart);V6S={x0:w6S["0" | 0],x1:n6S,y0:w6S[1],y1:J6S.v};N6S=f1S.convertBoxToPixels(s6S,this.panelName,V6S);M6S=N6S.x0;R6S=N6S.y0;e6S=N6S.x1;O6S=N6S.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf((5485,8300) == 2270?9582 < 9567?0x1e87:7190 < ("333.55" * 1,"4410" - 0)?8.30e+3:3.28e+3:"l") > -1){M6S-=this.w / 2;}else if(this.stemEntry.indexOf(("7730" | 6162,+"4654") === (717,380.26)?(869.98,3.14e+3):("2350" | 2088) != 675.04?"r":"B") > -1){M6S+=this.w / 2;}if(this.stemEntry.indexOf("t") > -1){R6S-=this.h / 2;}else if(this.stemEntry.indexOf(2722 < 1814?(665.36,!""):3884 !== (1185,392.6)?"b":(0x1643,9.07e+3)) > -1){R6S+=this.h / 2;}}W6S=f1S.convertBoxToPixels(s6S,this.panelName,B6S);return f1S.boxIntersects(W6S.x0,W6S.y0,W6S.x1,W6S.y1,M6S,R6S,e6S,O6S,G6S);};f1S.Drawing.callout.prototype.intersected=function(C6S,x6S,j6S){var L6S,p6S,Y6S,H6S,t6S,q6S,A6S,l6S;L6S=this.stx.panels[this.panelName];if(!this.p0){return null;}v9V.i2V();if(this.pointIntersection(this.stem.t,this.stem.v,j6S)){this.highlighted="p0";return {action:"drag",stem:!""};}p6S=this.stx.pixelFromTick(this.p0[0],L6S.chart) - this.w / 2;Y6S=this.stx.pixelFromValueAdjusted(L6S,this.p0[0],this.p0[1]) - this.h / +"2";H6S=p6S + this.w;t6S=Y6S + this.h;if(this.stem && this.stem.x){p6S+=this.stem.x;H6S+=this.stem.x;Y6S+=this.stem.y;t6S+=this.stem.y;}q6S=this.stx.pixelFromTick(C6S,L6S.chart);A6S=this.stx.pixelFromValueAdjusted(L6S,C6S,x6S);if(q6S + j6S.r >= p6S && q6S - j6S.r <= H6S && A6S + j6S.r >= Y6S && A6S - j6S.r <= t6S){this.highlighted=! ![];return {p0:f1S.clone(this.p0),tick:C6S,value:x6S};}l6S=this.lineIntersection(C6S,x6S,j6S,"segment");if(l6S){this.highlighted=! !{};return {action:"move",stem:f1S.clone(this.stem),p0:f1S.clone(this.p0),tick:C6S,value:x6S};}return null;};f1S.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};f1S.inheritsFrom(f1S.Drawing.fibonacci,f1S.Drawing.BaseTwoPoint);f1S.Drawing.fibonacci.mapping={trend:(+"7760",389.3) === (2771,4980)?(4.16e+3,"I"):"t",color:682 <= (936.87,275.03)?(385.10,3.14e+3):3386 === (1396,+"8582")?"m":(207.08,3790) < 3150?0x1567:"c",parameters:"p",pattern:"pt",opacity:3500 < (735.61,5706)?1107 === 641.81?929.76 >= 6522?3.88e+3:9.79e+2:"o":"O",lineWidth:j9p,level:(5930,7637) > 9470?(283.64,! !0):"l",extendLeft:7220 != (+"428.82",2980)?"e":824.98 === (9180,"505" - 0)?0x13f8:(6750,142.37) === 4327?(! !"",668.12):(0x33b,"3.31e+3" ^ 0),printLevels:"pl",printValues:"pv",timezone:"tz",display:(+"874.04",413.63) == 6900?219.31 == 4523?!"1":415.65:"d"};v9V.H9P(15);f1S.Drawing.fibonacci.prototype.recommendedLevels=[-v9V.j9P("0.618",1),-0.382,0,0.382,0.5,0.618,1,1.382,1.618];f1S.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];f1S.Drawing.fibonacci.prototype.initializeSettings=function(a6S){var S6S,u6S;S6S=this.recommendedLevels;if(S6S && !a6S.currentVectorParameters.fibonacci.fibsAlreadySet){u6S=a6S.currentVectorParameters.fibonacci.fibs;for(var o6S=0;o6S < u6S.length;o6S++){delete u6S[o6S].display;for(var v6S="0" * 1;v6S < S6S.length;v6S++){if(u6S[o6S].level == S6S[v6S]){u6S[o6S].display=! !"1";}}}}};f1S.Drawing.fibonacci.prototype.setOuter=function(){v9V.E2V();var y6S,r6S,i7S,f7S,E7S,d7S,b7S,c7S,F7S,K6S,z6S,Z6S,g7S,D7S;y6S=this.stx;r6S=y6S.panels[this.panelName];if(!r6S){return;}i7S=Math.max(this.p0[1],this.p1["1" << 451345504]);f7S=Math.min(this.p0[1],this.p1[1]);v9V.d9P(3);E7S=v9V.P9P(f7S,i7S);this.outer={p0:f1S.clone(this.p0),p1:f1S.clone(this.p1)};d7S=y6S.pixelFromValueAdjusted(r6S,this.p0[0],this.p0[1]);b7S=y6S.pixelFromValueAdjusted(r6S,this.p1[0],this.p1[1]);c7S=y6S.pixelFromTick(this.p0[0],r6S.chart);F7S=y6S.pixelFromTick(this.p1[0],r6S.chart);K6S=0;z6S=1;for(var U7S=0;U7S < this.parameters.fibs.length;U7S++){Z6S=this.parameters.fibs[U7S];if(Z6S.level >= K6S && Z6S.level <= z6S || !Z6S.display)continue;g7S=y6S.pixelFromValueAdjusted(r6S,this.p0["0" * 1],b7S < d7S?i7S - E7S * Z6S.level:f7S + E7S * Z6S.level);D7S=f1S.xIntersection({x0:c7S,x1:F7S,y0:d7S,y1:b7S},g7S);if(Z6S.level < K6S){K6S=Z6S.level;this.outer.p1[1]=y6S.valueFromPixel(g7S,r6S);this.outer.p1[0]=y6S.tickFromPixel(D7S,r6S.chart);}else if(Z6S.level > z6S){z6S=Z6S.level;this.outer.p0[+"1"]=y6S.valueFromPixel(g7S,r6S);this.outer.p0[0]=y6S.tickFromPixel(D7S,r6S.chart);}}};f1S.Drawing.fibonacci.prototype.click=function(X7S,P7S,k7S){var m7S;m7S=this.stx.panels[this.panelName];if(!m7S){return;}this.copyConfig();if(!this.penDown){v9V.d9P(15);this.setPoint(v9V.P9P("0",1),P7S,k7S,m7S.chart);this.penDown=! !{};return ! !"";}if(this.accidentalClick(P7S,k7S)){return this.dragToDraw;}this.setPoint(1,P7S,k7S,m7S.chart);this.setOuter();this.parameters=f1S.clone(this.parameters);this.penDown=!"1";return ! ![];;};f1S.Drawing.fibonacci.prototype.render=function(Q7S){var G9p,J7S,L7S,x7S,p7S,q7S,B7S,e7S,M7S,W7S,A7S,l7S,o7S,a7S,y7S,u7S,r7S,Y7S,G7S,H7S,h7S,O7S,r9p,X9p,s7S,N7S,j7S,n7S,w7S,Z7S,I7S,V7S,R7S,S7S,T7S,v7S,C9p,d9p,K7S,z7S;G9p="s";G9p+="tx_";G9p+="ya";G9p+="xis";J7S=this.stx.panels[this.panelName];if(!J7S){return;}L7S=J7S.yAxis;if(!this.p1){return;}x7S=Math.max(this.p0["1" & 2147483647],this.p1[1]);p7S=Math.min(this.p0[1],this.p1[+"1"]);q7S=L7S.flipped?p7S - x7S:x7S - p7S;B7S=this.stx.pixelFromTick(this.p0[0],J7S.chart);e7S=this.stx.pixelFromTick(this.p1[0],J7S.chart);M7S=this.stx.pixelFromValueAdjusted(J7S,this.p0[0],this.p0[1]);W7S=this.stx.pixelFromValueAdjusted(J7S,this.p1[0],this.p1[1]);A7S=Math.min(W7S,M7S);l7S=Math.max(W7S,M7S);v9V.d9P(3);o7S=v9V.j9P(A7S,l7S);v9V.d9P(25);a7S=v9V.j9P(W7S,0,M7S,B7S,e7S,"0");y7S={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=y7S;}u7S=this.getLineColor(this.parameters.trend.color);Q7S.textBaseline="middle";v9V.i2V();this.stx.canvasFont(G9p,Q7S);r7S=Q7S.measureText("161.8%").width + 10;Y7S=Number.MAX_VALUE;G7S=Number.MAX_VALUE;H7S=Number.MAX_VALUE * -1;h7S=Number.MAX_VALUE * -1;O7S=this.color;if(O7S == "auto" || f1S.isTransparent(O7S)){O7S=this.stx.defaultColor;}this.rays=[];for(var t7S="0" & 2147483647;t7S < this.parameters.fibs.length;t7S++){r9p="a";r9p+="ut";r9p+="o";X9p="au";X9p+="to";Q7S.textAlign="left";Q7S.fillStyle=O7S;s7S=this.parameters.fibs[t7S];if(!s7S.display)continue;N7S=this.stx.pixelFromValueAdjusted(J7S,this.p0[0],W7S < M7S?x7S - q7S * s7S.level:p7S + q7S * s7S.level);j7S=f1S.xIntersection({x0:B7S,x1:e7S,y0:M7S,y1:W7S},N7S);n7S=this.parameters.extendLeft?0:j7S;w7S=J7S.left + J7S.width;if(this.parameters.printLevels){Z7S=Math.round(s7S.level * 1000) / 10 + "%";w7S-=r7S;if(this.parameters.printValues){Q7S.fillStyle=O7S;this.stx.canvasFont("stx_yaxis",Q7S);;}if(w7S < n7S){Q7S.textAlign="right";}Q7S.fillText(Z7S,w7S,N7S);if(w7S < n7S){w7S+=+"5";}else {w7S-=5;}}if(this.parameters.printValues){if(j7S < J7S.width){I7S=this.stx.transformedPriceFromPixel(N7S,J7S);if(L7S.priceFormatter){I7S=L7S.priceFormatter(this.stx,J7S,I7S);}else {I7S=this.stx.formatYAxisPrice(I7S,J7S);}if(Q7S == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(J7S,I7S,N7S,O7S,null,Q7S);if(Q7S == this.stx.chart.context){this.stx.startClip(J7S.name);}}}V7S=s7S.color;if(V7S == "auto" || f1S.isTransparent(V7S)){V7S=this.color;}if(V7S == "auto" || f1S.isTransparent(V7S)){V7S=this.stx.defaultColor;}R7S=s7S.color;if(R7S == X9p || f1S.isTransparent(R7S)){R7S=this.fillColor;}if(R7S == r9p || f1S.isTransparent(R7S)){R7S=this.stx.defaultColor;}Q7S.fillStyle=R7S;S7S=f1S.clone(s7S.parameters);if(this.highlighted){S7S.opacity=1;}this.stx.plotLine(n7S,w7S,N7S,N7S,this.highlighted?u7S:V7S,"segment",Q7S,J7S,S7S);this.rays.push([[n7S,N7S],[w7S,N7S]]);Q7S.globalAlpha=0.05;Q7S.beginPath();Q7S.moveTo(w7S,N7S);Q7S.lineTo(n7S,N7S);if(n7S){Q7S.lineTo(e7S,W7S);}else {Q7S.lineTo(n7S,W7S);}Q7S.lineTo(w7S,W7S);if(typeof R7S != "undefined"){Q7S.fill();}Q7S.globalAlpha=+"1";if(N7S < G7S){Y7S=j7S;G7S=N7S;}if(N7S > h7S){H7S=j7S;h7S=N7S;}}for(var C7S=0;C7S <= 1;C7S++){T7S=a7S?l7S - o7S * C7S:A7S + o7S * C7S;T7S=Math.round(T7S);if(T7S < G7S){Y7S=f1S.xIntersection({x0:B7S,x1:e7S,y0:M7S,y1:W7S},T7S);G7S=T7S;}if(T7S > h7S){H7S=f1S.xIntersection({x0:B7S,x1:e7S,y0:M7S,y1:W7S},T7S);h7S=T7S;}}v7S=f1S.clone(this.parameters.trend.parameters);if(this.highlighted){v7S.opacity=1;}this.stx.plotLine(Y7S,H7S,G7S,h7S,u7S,"segment",Q7S,J7S,v7S);if(this.highlighted){C9p="p";C9p+="1";d9p="p";d9p+="0";K7S=this.highlighted == d9p?! !1:!"1";z7S=this.highlighted == C9p?! !1:!{};this.littleCircle(Q7S,B7S,M7S,K7S);this.littleCircle(Q7S,e7S,W7S,z7S);}};f1S.Drawing.fibonacci.prototype.reposition=function(g8S,U8S,i8S,f8S){if(!U8S){return;}v9V.E2V();f1S.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};f1S.Drawing.fibonacci.prototype.intersected=function(k8S,X8S,Q8S){v9V.E2V();var b8S,D8S,c8S,i9p,F8S,m8S,P8S,Y9p;b8S=this.p0;D8S=this.p1;if(!b8S || !D8S){return null;}c8S={0:b8S,1:D8S};for(var E8S in c8S){if(this.pointIntersection(c8S[E8S][0],c8S[E8S][1],Q8S)){i9p="d";i9p+="ra";i9p+="g";v9V.d9P(1);this.highlighted=v9V.P9P(E8S,"p");return {action:i9p,point:"p" + E8S};}}F8S=this.outer;m8S=this.rays;P8S=F8S && this.lineIntersection(k8S,X8S,Q8S,"segment",F8S.p0,F8S.p1);if(!P8S){for(var d8S=0;d8S < m8S.length;d8S++){if(this.lineIntersection(k8S,X8S,Q8S,"ray",m8S[d8S][0],m8S[d8S][1],! ![])){P8S=! ![];break;}}}if(P8S){Y9p="mov";Y9p+="e";this.highlighted=!"";return {action:Y9p,p0:f1S.clone(b8S),p1:f1S.clone(D8S),tick:k8S,value:X8S};}return null;};f1S.Drawing.fibonacci.prototype.reconstruct=function(N8S,J8S){J8S=f1S.replaceFields(J8S,f1S.reverseObject(f1S.Drawing.fibonacci.mapping));this.stx=N8S;this.parameters=J8S.parameters;if(!this.parameters){this.parameters=f1S.clone(this.stx.currentVectorParameters.fibonacci);}this.color=J8S.col;this.fillColor=J8S.fc;this.panelName=J8S.pnl;this.d0=J8S.d0;v9V.i2V();this.d1=J8S.d1;this.d2=J8S.d2;this.tzo0=J8S.tzo0;this.tzo1=J8S.tzo1;this.tzo2=J8S.tzo2;this.v0=J8S.v0;this.v1=J8S.v1;this.v2=J8S.v2;this.adjust();};f1S.Drawing.fibonacci.prototype.adjust=function(){var W8S;W8S=this.stx.panels[this.panelName];if(!W8S){return;}v9V.i2V();v9V.H9P(19);this.setPoint(v9V.P9P(2145360576,"0"),this.d0,this.v0,W8S.chart);v9V.H9P(15);this.setPoint(v9V.P9P("1",1),this.d1,this.v1,W8S.chart);this.setOuter();};f1S.Drawing.fibonacci.prototype.serialize=function(){var w8S;w8S={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};v9V.i2V();return f1S.replaceFields(w8S,f1S.Drawing.fibonacci.mapping);};f1S.Drawing.retracement=function(){this.name="retracement";};f1S.inheritsFrom(f1S.Drawing.retracement,f1S.Drawing.fibonacci);f1S.Drawing.fibprojection=function(){this.name="fibprojection";v9V.E2V();this.dragToDraw=!{};this.p2=null;};f1S.inheritsFrom(f1S.Drawing.fibprojection,f1S.Drawing.fibonacci);v9V.H9P(26);f1S.Drawing.fibprojection.prototype.recommendedLevels=[v9V.j9P(2147483647,"0"),0.618,1,1.272,+"1.618",2.618,4.236];f1S.Drawing.fibprojection.prototype.click=function(s8S,R8S,T8S){v9V.i2V();var M8S;M8S=this.stx.panels[this.panelName];if(!M8S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,R8S,T8S,M8S.chart);this.penDown=!"";return !1;}if(this.accidentalClick(R8S,T8S)){this.stx.undo();return ! ![];}if(this.p2 !== null){v9V.H9P(3);this.setPoint(v9V.P9P(0,"2"),this.p2[0],this.p2[1],M8S.chart);this.parameters=f1S.clone(this.parameters);return ! !"1";}this.setPoint(1,R8S,T8S,M8S.chart);this.p2=[this.p1[0],this.p1[1]];return ![];;};f1S.Drawing.fibprojection.prototype.render=function(n8S){var J9p,V8S,o8S,S8S,L8S,p8S,H8S,Y8S,t8S,I8S,v8S,q8S,a8S,j8S,N1p,c1p,y1p,v9p,L9p,C8S,e8S,y8S,G8S,O8S,r8S,x8S,h8S,B8S,u8S,l8S,S9p,V9p,Z8S,K8S,z8S;J9p="au";J9p+="to";V8S=this.stx.panels[this.panelName];if(!V8S){return;}o8S=V8S.yAxis;if(!this.p1){return;}S8S=this.p1[1] - this.p0[+"1"];L8S=this.stx.pixelFromTick(this.p0[+"0"],V8S.chart);p8S=this.stx.pixelFromTick(this.p1[0],V8S.chart);H8S=this.stx.pixelFromValueAdjusted(V8S,this.p0[0],this.p0[+"1"]);Y8S=this.stx.pixelFromValueAdjusted(V8S,this.p1[0],this.p1[1]);t8S=null;I8S=null;if(this.p2){t8S=this.stx.pixelFromTick(this.p2[0],V8S.chart);I8S=this.stx.pixelFromValueAdjusted(V8S,this.p2[0],this.p2[1]);}v8S={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=v8S;}q8S=this.getLineColor(this.parameters.trend.color);n8S.textBaseline="middle";this.stx.canvasFont("stx_yaxis",n8S);a8S=n8S.measureText("161.8%").width + "10" * 1;j8S=this.color;if(j8S == J9p || f1S.isTransparent(j8S)){j8S=this.stx.defaultColor;}if(this.p2){N1p=- +"2065445740";c1p=- +"207706091";y1p=2;for(var q1p=1;v9V.f0p(q1p.toString(),q1p.toString().length,92800) !== N1p;q1p++){this.rays=[];y1p+=+"2";}if(v9V.f0p(y1p.toString(),y1p.toString().length,44191) !== c1p){this.rays=[];}this.rays=[];for(var A8S=0;A8S < this.parameters.fibs.length;A8S++){v9p="se";v9p+="gm";v9p+="e";v9p+="nt";L9p="l";L9p+="eft";n8S.textAlign=L9p;n8S.fillStyle=j8S;C8S=this.parameters.fibs[A8S];if(!C8S.display)continue;e8S=this.stx.pixelFromValueAdjusted(V8S,this.p2[0],this.p2["1" ^ 0] + S8S * C8S.level);y8S=f1S.xIntersection({x0:L8S,x1:p8S,y0:H8S,y1:Y8S},e8S);G8S=this.parameters.extendLeft?0:L8S;O8S=V8S.left + V8S.width;if(this.parameters.printLevels){r8S=Math.round(C8S.level * 1000) / ("10" ^ 0) + "%";O8S-=a8S;if(this.parameters.printValues){n8S.fillStyle=j8S;this.stx.canvasFont("stx_yaxis",n8S);;}if(O8S < G8S){n8S.textAlign="right";}n8S.fillText(r8S,O8S,e8S);if(O8S < G8S){O8S+=5;}else {O8S-=+"5";}}if(this.parameters.printValues){if(y8S < V8S.width){x8S=this.stx.transformedPriceFromPixel(e8S,V8S);if(o8S.priceFormatter){x8S=o8S.priceFormatter(this.stx,V8S,x8S);}else {x8S=this.stx.formatYAxisPrice(x8S,V8S);}if(n8S == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(V8S,x8S,e8S,j8S,null,n8S);if(n8S == this.stx.chart.context){this.stx.startClip(V8S.name);}}}h8S=C8S.color;if(h8S == "auto" || f1S.isTransparent(h8S)){h8S=this.color;}if(h8S == "auto" || f1S.isTransparent(h8S)){h8S=this.stx.defaultColor;}B8S=C8S.color;if(B8S == "auto" || f1S.isTransparent(B8S)){B8S=this.fillColor;}if(B8S == "auto" || f1S.isTransparent(B8S)){B8S=this.stx.defaultColor;}n8S.fillStyle=B8S;u8S=f1S.clone(C8S.parameters);if(this.highlighted){u8S.opacity=+"1";}this.stx.plotLine(G8S,O8S,e8S,e8S,this.highlighted?q8S:h8S,v9p,n8S,V8S,u8S);this.rays.push([[G8S,e8S],[O8S,e8S]]);n8S.globalAlpha=0.05;n8S.beginPath();n8S.moveTo(O8S,e8S);n8S.lineTo(G8S,e8S);if(G8S){n8S.lineTo(L8S,I8S);}else {n8S.lineTo(G8S,I8S);}n8S.lineTo(O8S,I8S);if(typeof B8S != "undefined"){n8S.fill();}v9V.H9P(19);n8S.globalAlpha=v9V.P9P(1499378080,"1");}}l8S=f1S.clone(this.parameters.trend.parameters);if(this.highlighted){l8S.opacity=1;}this.stx.plotLine(L8S,p8S,H8S,Y8S,q8S,"segment",n8S,V8S,l8S);if(this.p2){this.stx.plotLine(p8S,t8S,Y8S,I8S,q8S,"segment",n8S,V8S,l8S);}if(this.highlighted){S9p="p";S9p+="2";V9p="p";V9p+="1";Z8S=this.highlighted == "p0"?! !"1":![];K8S=this.highlighted == V9p?! !1:!{};z8S=this.highlighted == S9p?!"":![];this.littleCircle(n8S,L8S,H8S,Z8S);this.littleCircle(n8S,p8S,Y8S,K8S);this.littleCircle(n8S,t8S,I8S,z8S);}};f1S.Drawing.fibprojection.prototype.move=function(i9S,U9S,g9S){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[U9S,g9S];}else {this.p2=[U9S,g9S];}this.render(i9S);};f1S.Drawing.fibprojection.prototype.reposition=function(D9S,f9S,c9S,F9S){var l9p,J7p,L7p,v7p,E9S,d9S,b9S;l9p="mo";l9p+="ve";if(!f9S){return;}J7p=-1125826038;L7p=-2034646381;v9V.E2V();v7p=+"2";for(var S7p=1;v9V.f0p(S7p.toString(),S7p.toString().length,+"27542") !== J7p;S7p++){E9S=this.stx.panels[this.panelName];v7p+=2;}if(v9V.f0p(v7p.toString(),v7p.toString().length,32331) !== L7p){E9S=this.stx.panels[this.panelName];}E9S=this.stx.panels[this.panelName];d9S=f9S.tick - c9S;b9S=f9S.value - F9S;if(f9S.action == l9p){this.setPoint(0,f9S.p0[0] - d9S,f9S.p0["1" << 338218944] - b9S,E9S.chart);this.setPoint(1,f9S.p1[0] - d9S,f9S.p1[1] - b9S,E9S.chart);this.setPoint(2,f9S.p2[0] - d9S,f9S.p2[1] - b9S,E9S.chart);this.render(D9S);}else if(f9S.action == "drag"){this[f9S.point]=[c9S,F9S];this.setPoint(0,this.p0[0],this.p0[1],E9S.chart);this.setPoint(1,this.p1[0],this.p1["1" >> 907360032],E9S.chart);this.setPoint(2,this.p2[0],this.p2[1],E9S.chart);this.render(D9S);}};f1S.Drawing.fibprojection.prototype.intersected=function(J9S,N9S,W9S){var A9p,P9S,m9S,k9S,w9S,M9S,R9S;A9p="segme";A9p+="n";A9p+="t";P9S=this.p0;m9S=this.p1;k9S=this.p2;if(!P9S || !m9S || !k9S){return null;}w9S={0:P9S,1:m9S,2:k9S};for(var X9S in w9S){if(this.pointIntersection(w9S[X9S][+"0"],w9S[X9S][1],W9S)){v9V.d9P(1);this.highlighted=v9V.j9P(X9S,(5090,5790) <= (56.31,+"708.35")?0x10cd:("7179" >> 409571136,223) == (9680,3800)?(1.16e+3,9.95e+3):"p");return {action:"drag",point:"p" + X9S};}}M9S=this.rays;R9S=this.lineIntersection(J9S,N9S,W9S,"segment",P9S,m9S) || this.lineIntersection(J9S,N9S,W9S,A9p,m9S,k9S);if(!R9S){for(var Q9S=0;Q9S < M9S.length;Q9S++){if(this.lineIntersection(J9S,N9S,W9S,"ray",M9S[Q9S][0],M9S[Q9S]["1" ^ 0],! ![])){R9S=! ![];break;}}}if(R9S){this.highlighted=! !1;return {action:"move",p0:f1S.clone(P9S),p1:f1S.clone(m9S),p2:f1S.clone(k9S),tick:J9S,value:N9S};}v9V.E2V();return null;};f1S.Drawing.fibprojection.prototype.adjust=function(){var T9S;T9S=this.stx.panels[this.panelName];if(!T9S){return;}v9V.E2V();this.setPoint(0,this.d0,this.v0,T9S.chart);this.setPoint(1,this.d1,this.v1,T9S.chart);this.setPoint(2,this.d2,this.v2,T9S.chart);};f1S.Drawing.fibarc=function(){this.name="fibarc";;};f1S.inheritsFrom(f1S.Drawing.fibarc,f1S.Drawing.fibonacci);v9V.H9P(27);f1S.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,+"0.618",v9V.P9P("1",564229856)];f1S.Drawing.fibarc.prototype.setOuter=function(){var s9S,n9S,V9S,O9S,B9S,e9S,G9S;s9S=this.stx.panels[this.panelName];if(!s9S){return;}this.outer={p0:f1S.clone(this.p0),p1:f1S.clone(this.p1)};n9S=this.stx.pixelFromValueAdjusted(s9S,this.p0[0],this.p0[1]);V9S=this.stx.pixelFromValueAdjusted(s9S,this.p1[0],this.p1[1]);O9S=this.stx.pixelFromTick(this.p0[0],s9S.chart);B9S=this.stx.pixelFromTick(this.p1[0],s9S.chart);v9V.d9P(28);v9V.i2V();e9S=v9V.P9P(n9S,2,V9S);G9S=f1S.xIntersection({x0:O9S,x1:B9S,y0:n9S,y1:V9S},e9S);this.outer.p0[1]=this.stx.valueFromPixel(e9S,s9S);this.outer.p0[0]=this.stx.tickFromPixel(G9S,s9S.chart);};f1S.Drawing.fibarc.prototype.intersected=function(L9S,H9S,I9S){var s9p,t9S,j9S,C9S,A9S,q9S,o9S,h9S,p9S,l9S,Y9S;s9p="mov";s9p+="e";t9S=this.stx.panels[this.panelName];if(!t9S){return;}j9S=this.p0;C9S=this.p1;A9S=this.outer;if(!j9S || !C9S){return null;}q9S={0:j9S,1:C9S};for(var x9S in q9S){if(this.pointIntersection(q9S[x9S][0],q9S[x9S][1],I9S)){v9V.H9P(1);this.highlighted=v9V.j9P(x9S,"p");return {action:"drag",point:(8536 == 542.23?(822.38,76) == (575.34,200.78)?"G":5130 !== (629.21,"3582" >> 123455712)?"C":("901.02" - 0,! !"1"):"p") + x9S};}}if(this.lineIntersection(L9S,H9S,I9S,"segment",A9S.p0,A9S.p1)){this.highlighted=! ![];return {action:"move",p0:f1S.clone(j9S),p1:f1S.clone(C9S),tick:L9S,value:H9S};}o9S={x0:j9S["0" >> 653675424],x1:C9S[0],y0:j9S["1" - 0],y1:C9S[1]};h9S=f1S.convertBoxToPixels(this.stx,this.panelName,o9S);p9S={x:Math.abs(Math.sqrt(2) * (h9S.x1 - h9S.x0)),y:Math.abs(Math.sqrt("2" >> 1647489408) * (h9S.y1 - h9S.y0))};l9S=this.stx.pixelFromTick(L9S,t9S.chart);Y9S=this.stx.pixelFromValueAdjusted(t9S,L9S,H9S);if(l9S + I9S.r < h9S.x1 - p9S.x || l9S - I9S.r > h9S.x1 + p9S.x){return null;}if(Y9S + I9S.r < h9S.y1 - p9S.y || Y9S - I9S.r > h9S.y1 + p9S.y){return null;}if(h9S.y0 < h9S.y1 && Y9S - I9S.r > h9S.y1){return null;}if(h9S.y0 > h9S.y1 && Y9S + I9S.r < h9S.y1){return null;}this.highlighted=! ![];return {action:s9p,p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:L9S,value:H9S};};f1S.Drawing.fibarc.prototype.render=function(u9S){var S9S,f0c,g0c,y9S,z9S,a9S,d0c,b0c,D0c,z1p,T1p,W1p,t9p,K9S,E9p,f9p,v9S,m0c,c0c,i0c,P0c,e9p,k0c,U0c,r9S,Z9S,F0c,a4p,O4p,X0c,Q0c,s2p,t2p,e2p;v9V.i2V();S9S=this.stx.panels[this.panelName];if(!S9S){return;}f0c=S9S.yAxis;if(!this.p1){return;}g0c=this.stx.pixelFromTick(this.p0[0],S9S.chart);y9S=this.stx.pixelFromTick(this.p1[0],S9S.chart);z9S=this.stx.pixelFromValueAdjusted(S9S,this.p0[0],this.p0[1]);a9S=this.stx.pixelFromValueAdjusted(S9S,this.p1[0],this.p1[1]);v9V.H9P(29);d0c=v9V.P9P(z9S,a9S);v9V.H9P(30);b0c=Math.abs(v9V.P9P(z9S,g0c,y9S,a9S));D0c=this.getLineColor(this.parameters.trend.color);z1p=1829602191;T1p=-1912215334;W1p=2;for(var M1p=1;v9V.f0p(M1p.toString(),M1p.toString().length,94566) !== z1p;M1p++){t9p="stx_y";t9p+="a";t9p+="x";t9p+="is";u9S.textBaseline="stx_yaxis";this.stx.canvasFont(t9p,u9S);W1p+=2;}if(v9V.f0p(W1p.toString(),W1p.toString().length,8866) !== T1p){u9S.textBaseline="middle";this.stx.canvasFont("stx_yaxis",u9S);}K9S=this.color;if(K9S == "auto" || f1S.isTransparent(K9S)){K9S=this.stx.defaultColor;}for(var E0c=0;E0c < this.parameters.fibs.length;E0c++){E9p="a";E9p+="u";E9p+="to";f9p="le";f9p+="ft";u9S.fillStyle=K9S;v9S=this.parameters.fibs[E0c];if(v9S.level < +"0" || !v9S.display)continue;m0c=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * v9S.level;c0c=this.p1[1] + m0c * (d0c?-("1" * 1):1) * (f0c.flipped?-1:1);i0c=this.stx.pixelFromValueAdjusted(S9S,this.p0[0],c0c);P0c=f1S.xIntersection({x0:g0c,x1:y9S,y0:z9S,y1:a9S},i0c);if(this.parameters.printLevels){e9p="cen";e9p+="te";e9p+="r";u9S.textAlign=e9p;k0c=Math.round(v9S.level * +"1000") / 10 + ((45,4460) !== (787.52,"5540" & 2147483647)?(9360,187.38) != 8700?"%":![]:(489.81,![]));if(this.parameters.printValues){u9S.fillStyle=K9S;this.stx.canvasFont("stx_yaxis",u9S);;}u9S.fillText(k0c,y9S,Math.round(i0c - ("5" & 2147483647)));}u9S.textAlign=f9p;if(this.parameters.printValues){if(P0c < S9S.width){U0c=c0c;if(f0c.priceFormatter){U0c=f0c.priceFormatter(this.stx,S9S,U0c);}else {U0c=this.stx.formatYAxisPrice(U0c,S9S);}if(u9S == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(S9S,U0c,i0c,K9S,null,u9S);if(u9S == this.stx.chart.context){this.stx.startClip(S9S.name);}}}r9S=v9S.color;if(r9S == E9p || f1S.isTransparent(r9S)){r9S=this.color;}if(r9S == "auto" || f1S.isTransparent(r9S)){r9S=this.stx.defaultColor;}u9S.strokeStyle=this.highlight?D0c:r9S;Z9S=v9S.color;if(Z9S == "auto" || f1S.isTransparent(Z9S)){Z9S=this.fillColor;}if(Z9S == "auto" || f1S.isTransparent(Z9S)){Z9S=this.stx.defaultColor;}u9S.fillStyle=Z9S;u9S.globalAlpha=this.highlighted?1:v9S.parameters.opacity;u9S.lineWidth=v9S.parameters.lineWidth;if(u9S.setLineDash){u9S.setLineDash(f1S.borderPatternToArray(u9S.lineWidth,v9S.parameters.pattern));u9S.lineDashOffset=0;;}u9S.save();u9S.beginPath();v9V.H9P(10);u9S.scale(v9V.j9P(1,b0c),1);v9V.H9P(15);u9S.arc(v9V.P9P(y9S,b0c),a9S,Math.abs(i0c - a9S),0,Math.PI,!d0c);if(this.pattern != "none"){u9S.stroke();}u9S.globalAlpha=0.05;u9S.fill();u9S.restore();if(u9S.setLineDash){u9S.setLineDash([]);}u9S.globalAlpha=+"1";}u9S.textAlign="left";F0c=f1S.clone(this.parameters.trend.parameters);if(this.highlighted){F0c.opacity=+"1";}v9V.d9P(31);this.stx.plotLine(y9S,v9V.P9P("2",2147483647,g0c,y9S),a9S,v9V.P9P(a9S,1,z9S,"2",v9V.d9P(32)),D0c,"segment",u9S,S9S,F0c);if(this.highlighted){a4p="p";a4p+="1";O4p="p";O4p+="0";X0c=this.highlighted == O4p?! !1:![];Q0c=this.highlighted == a4p?! !{}:!1;this.littleCircle(u9S,g0c,z9S,X0c);s2p=-2012210001;t2p=-1832137212;e2p=2;for(var E2p=1;v9V.f0p(E2p.toString(),E2p.toString().length,2219) !== s2p;E2p++){this.littleCircle(u9S,y9S,a9S,Q0c);v9V.d9P(15);e2p+=v9V.j9P("2",1);}if(v9V.e0p(e2p.toString(),e2p.toString().length,50143) !== t2p){this.littleCircle(u9S,y9S,a9S,Q0c);}this.littleCircle(u9S,y9S,a9S,Q0c);}};f1S.Drawing.fibfan=function(){v9V.E2V();this.name="fibfan";;};f1S.inheritsFrom(f1S.Drawing.fibfan,f1S.Drawing.fibonacci);f1S.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,+"0.5",0.618,1];f1S.Drawing.fibfan.prototype.setOuter=function(){};f1S.Drawing.fibfan.prototype.render=function(J0c){var x4p,h4p,o4p,W0c,Y0c,N0c,T0c,w0c,G0c,H0c,t0c,q0c,l0c,o0c,I0c,j0c,C0c,V0c,U4p,D4p,e0c,R0c,L0c,M0c,O0c,u0c,h0c,s0c,n0c,A0c,B0c,m4p,S0c,v0c;x4p="a";x4p+="u";x4p+="t";x4p+="o";h4p="stx";h4p+="_yaxis";o4p="m";o4p+="iddle";W0c=this.stx.panels[this.panelName];if(!W0c){return;}Y0c=W0c.yAxis;if(!this.p1){return;}N0c=this.stx.pixelFromTick(this.p0[0],W0c.chart);T0c=this.stx.pixelFromTick(this.p1[0],W0c.chart);w0c=this.stx.pixelFromValueAdjusted(W0c,this.p0[0],this.p0[1]);G0c=this.stx.pixelFromValueAdjusted(W0c,this.p1[0],this.p1[1]);H0c=Math.min(G0c,w0c);t0c=Math.max(G0c,w0c);v9V.H9P(3);q0c=v9V.j9P(H0c,t0c);v9V.d9P(33);l0c=v9V.P9P(G0c,T0c,N0c,0,w0c);o0c=this.getLineColor(this.parameters.trend.color);J0c.textBaseline=o4p;this.stx.canvasFont(h4p,J0c);I0c=J0c.measureText("161.8%").width + 10;j0c=Number.MAX_VALUE;C0c=Number.MAX_VALUE * -1;V0c=this.color;if(V0c == x4p || f1S.isTransparent(V0c)){V0c=this.stx.defaultColor;}this.rays=[];for(var p0c=0;p0c < this.parameters.fibs.length;p0c++){U4p="s";U4p+="egm";U4p+="en";U4p+="t";D4p="au";D4p+="to";J0c.fillStyle=V0c;e0c=this.parameters.fibs[p0c];if(!e0c.display)continue;R0c=this.stx.pixelFromValueAdjusted(W0c,this.p0[0],(this.p0[1] - this.p1[1]) * e0c.level + this.p1[1]);L0c=f1S.xIntersection({x0:T0c,x1:T0c,y0:w0c,y1:G0c},R0c);M0c=W0c.left;if(T0c > N0c){M0c+=W0c.width;}v9V.H9P(34);O0c=v9V.P9P(w0c,w0c,L0c,M0c,N0c,R0c,N0c);if(N0c > M0c - (this.parameters.printLevels?I0c + 5:0) && T0c > N0c)continue;else if(N0c < M0c + (this.parameters.printLevels?I0c + 5:0) && T0c < N0c)continue;if(this.parameters.printLevels){u0c=Math.round(e0c.level * 1000) / 10 + (4600 == +"2674"?"3.44e+3" >> 1925940832:("2317" >> 317683712,3000) < (1890,257.46)?9224 < (351,220)?(596.50,615.07):(0x21e2,! !1):"%");if(T0c > N0c){M0c-=I0c;J0c.textAlign="left";}else {M0c+=I0c;J0c.textAlign="right";}if(this.parameters.printValues){J0c.fillStyle=V0c;this.stx.canvasFont("stx_yaxis",J0c);;}v9V.H9P(34);O0c=v9V.j9P(w0c,w0c,L0c,M0c,N0c,R0c,N0c);J0c.fillText(u0c,M0c,O0c);if(T0c > N0c){v9V.H9P(0);M0c-=v9V.P9P(0,"5");}else {M0c+=5;}}J0c.textAlign="left";if(this.parameters.printValues){if(L0c < W0c.width){h0c=this.stx.transformedPriceFromPixel(R0c,W0c);if(Y0c.priceFormatter){h0c=Y0c.priceFormatter(this.stx,W0c,h0c);}else {h0c=this.stx.formatYAxisPrice(h0c,W0c);}if(J0c == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(W0c,h0c,R0c,V0c,null,J0c);if(J0c == this.stx.chart.context){this.stx.startClip(W0c.name);}}}s0c=e0c.color;if(s0c == "auto" || f1S.isTransparent(s0c)){s0c=this.color;}if(s0c == D4p || f1S.isTransparent(s0c)){s0c=this.stx.defaultColor;}n0c=e0c.color;if(n0c == "auto" || f1S.isTransparent(n0c)){n0c=this.fillColor;}if(n0c == "auto" || f1S.isTransparent(n0c)){n0c=this.stx.defaultColor;}J0c.fillStyle=n0c;if(this.parameters.printLevels){v9V.d9P(34);O0c=v9V.P9P(w0c,w0c,L0c,M0c,N0c,R0c,N0c);}A0c=f1S.clone(e0c.parameters);if(this.highlighted){A0c.opacity=1;}this.stx.plotLine(N0c,M0c,w0c,O0c,this.highlighted?o0c:s0c,U4p,J0c,W0c,A0c);this.rays.push([[N0c,w0c],[M0c,O0c]]);v9V.d9P(3);J0c.globalAlpha=v9V.j9P(0,"0.05");J0c.beginPath();J0c.moveTo(M0c,O0c);J0c.lineTo(N0c,w0c);J0c.lineTo(M0c,w0c);J0c.fill();J0c.globalAlpha=1;if(R0c < j0c){j0c=R0c;}if(R0c > C0c){C0c=R0c;}}for(var x0c="0" - 0;x0c <= 1;x0c++){B0c=l0c?t0c - q0c * x0c:H0c + q0c * x0c;B0c=Math.round(B0c);if(B0c < j0c){j0c=B0c;}if(B0c > C0c){C0c=B0c;}}if(this.highlighted){m4p="p";m4p+="0";S0c=this.highlighted == m4p?! ![]:!{};v0c=this.highlighted == "p1"?!0:! !"";this.littleCircle(J0c,N0c,w0c,S0c);this.littleCircle(J0c,T0c,G0c,v0c);}};f1S.Drawing.fibtimezone=function(){var Q4p;Q4p="fib";Q4p+="timezone";v9V.i2V();this.name=Q4p;;};f1S.inheritsFrom(f1S.Drawing.fibtimezone,f1S.Drawing.fibonacci);f1S.Drawing.fibtimezone.prototype.render=function(a0c){var b4p,R4p,y0c,r0c,f1c,L1c,p1c,R1c,l1c,i2c,z1c,P1c,Z0c,U2c,d1c,F1c,K0c,z0c,j1c,f2c,E2c,g2c;b4p="l";b4p+="e";b4p+="f";b4p+="t";R4p="a";R4p+="u";R4p+="t";R4p+="o";y0c=this.stx.panels[this.panelName];if(!y0c){return;}if(!this.p1){return;}r0c=this.stx.pixelFromTick(this.p0[0],y0c.chart);f1c=this.stx.pixelFromTick(this.p1[0],y0c.chart);L1c=this.stx.pixelFromValueAdjusted(y0c,this.p0[0],this.p0[1]);p1c=this.stx.pixelFromValueAdjusted(y0c,this.p1[0],this.p1[1]);R1c=[1,0];l1c=this.getLineColor(this.parameters.trend.color);a0c.textBaseline="middle";this.stx.canvasFont("stx_yaxis",a0c);i2c=20;z1c=this.p1[0] - this.p0[0];P1c=this.color;if(P1c == R4p || f1S.isTransparent(P1c)){P1c=this.stx.defaultColor;}a0c.textAlign="center";Z0c=r0c;U2c=y0c.yAxis.top;d1c=y0c.yAxis.bottom;F1c=0;K0c=this.parameters.timezone.color;if(K0c == "auto" || f1S.isTransparent(K0c)){K0c=this.color;}if(K0c == "auto" || f1S.isTransparent(K0c)){K0c=this.stx.defaultColor;}z0c=this.parameters.timezone.color;if(z0c == "auto" || f1S.isTransparent(z0c)){z0c=this.fillColor;}if(z0c == "auto" || f1S.isTransparent(z0c)){z0c=this.stx.defaultColor;}if(this.parameters.printLevels){v9V.H9P(3);d1c-=v9V.j9P(7,i2c);}j1c=f1S.clone(this.parameters.timezone.parameters);if(this.highlighted){j1c.opacity=1;}do {Z0c=this.stx.pixelFromTick(this.p0[0] + F1c * z1c,y0c.chart);if(r0c < f1c && Z0c > y0c.left + y0c.width)break;else if(r0c > f1c && Z0c < y0c.left)break;if(this.parameters.printLevels){a0c.fillStyle=P1c;a0c.fillText(f1c > r0c?F1c:F1c * -1,Z0c,d1c + 7);}a0c.fillStyle=z0c;this.stx.plotLine(Z0c,Z0c,0,d1c,this.highlighted?l1c:K0c,"segment",a0c,y0c,j1c);a0c.globalAlpha=0.05;a0c.beginPath();a0c.moveTo(r0c,U2c);a0c.lineTo(Z0c,U2c);a0c.lineTo(Z0c,d1c);a0c.lineTo(r0c,d1c);a0c.fill();a0c.globalAlpha=1;F1c=R1c[0] + R1c[+"1"];R1c.unshift(F1c);}while(z1c);a0c.textAlign=b4p;this.stx.plotLine(r0c,f1c,L1c,p1c,l1c,"segment",a0c,y0c,j1c);if(this.highlighted){f2c=this.highlighted == "p0"?! !{}:![];E2c=this.highlighted == "p1"?!"":! !0;this.littleCircle(a0c,r0c,L1c,f2c);this.littleCircle(a0c,f1c,p1c,E2c);}else {g2c=this.stx.valueFromPixel(y0c.height / 2,y0c);this.setPoint(0,this.p0[0],g2c,y0c.chart);this.setPoint(1,this.p1[0],g2c,y0c.chart);}};f1S.Drawing.fibtimezone.prototype.intersected=function(m2c,P2c,D2c){var d2c,c2c,k2c,F2c,H4p,X2c;d2c=this.p0;c2c=this.p1;k2c=this.stx.panels[this.panelName];if(!d2c || !c2c || !k2c){return null;}F2c={0:d2c,1:c2c};for(var b2c in F2c){if(this.pointIntersection(F2c[b2c][0],F2c[b2c][1],D2c)){H4p="dr";H4p+="a";H4p+="g";v9V.H9P(1);this.highlighted=v9V.j9P(b2c,(1280,4690) >= (5559,689.28)?4070 <= (1080,"734.28" - 0)?"l":"p":"S");return {action:H4p,point:"p" + b2c};}}X2c=this.lineIntersection(m2c,P2c,D2c,"segment");if(X2c || D2c.x0 <= this.p0[0] && D2c.x1 >= d2c[0]){this.highlighted=!0;return {action:"move",p0:f1S.clone(d2c),p1:f1S.clone(c2c),tick:m2c,value:P2c};}return null;};f1S.Drawing.arrow_v0=function(){this.name="arrow";v9V.i2V();this.dimension=[11,11];v9V.H9P(15);this.points=[["M",3,+"0",(658.44,+"4896") > (2207,119)?"L":("c",0x14f0),7,0,8240 === (4802,"376" << 937546368)?0x36e:"L",v9V.P9P("7",1),5,"L",10,5,7785 === (+"1750","8482" >> 357866496)?(+"9440",2950) < (192.52,4030)?281.71:0xf6c:"L",5,10,"L",0,v9V.P9P("5",1,v9V.d9P(15)),"L",3,v9V.j9P(1779508576,"5",v9V.H9P(19)),"L",+"3",+"0"]];};f1S.inheritsFrom(f1S.Drawing.arrow_v0,f1S.Drawing.shape);f1S.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];v9V.H9P(3);this.points=[["M",1,0,"L",+"3",v9V.P9P(0,"2"),944.11 > "137" - 0?"L":"G",5,0,+"6086" <= 535.77?762.41:(194,230.94) == ("4800" | 512,2682)?("B",0x126c):95.11 !== (353.09,+"5005")?"L":(4.25e+3,! !1),6,1,"L",4,3,3230 < (867.48,7750)?5437 > (3960,"9310" << 2080999744)?(0x2280,0x1eb1):350.73 != 1460?"L":"542.92" - 0:(756.07,+"5.74e+3"),6,5,(9140,138.79) <= 4342?"L":("3217" - 0,9370) > "135.86" * 1?2.19e+3:("E",3.53e+3),5,6,414 === +"7646"?(! !{},"t"):(288.84,856.77) == (5557,1020)?(1.91e+3,! !""):"L",3,+"4",9750 == 8160?0x121b:"L",1,6,(516.49,6188) >= (109.71,"5940" >> 1967765120)?"L":9944 != 7830?(2032,6920) !== (719,1570)?!"1":"l":![],0,+"5",(5270,579.77) !== (2780,1530)?"L":(! ![],0xda5),2,+"3","L",0,+"1","L",v9V.P9P(0,"1"),0]];v9V.E2V();;};f1S.inheritsFrom(f1S.Drawing.xcross,f1S.Drawing.shape);f1S.Drawing.check=function(){var g4p;g4p="c";g4p+="he";v9V.E2V();g4p+="c";g4p+="k";this.name=g4p;this.dimension=[8,9];v9V.d9P(0);this.points=[[1479 != (678.16,+"2407")?"M":(889.51,0x1f16),1,5,"L",0,6,(57,4640) == (4825,54.47)?("X",978.21):"L",2,8,"L",7,1,(194.24,9830) === (+"300.96",6.86)?(! ![],957.13):"L",6,0,5660 === 848?(+"5.38e+3","t"):"L",2,6,("9707" >> 947560480,5095) == (400.94,"65.29" - 0)?(5.88e+3,! !1):(2860,4774) > (414.63,+"9980")?"Z":"L",1,v9V.j9P(0,"5")]];;};f1S.inheritsFrom(f1S.Drawing.check,f1S.Drawing.shape);f1S.Drawing.star=function(){this.name="star";this.dimension=[12,12];v9V.H9P(19);this.points=[["M",0,4,894.98 <= (521.38,9562)?"L":1464 === 9250?+"159.80":4640 < (460.29,3710)?("1.77e+3" << 350974976,"Q"):768.72,4,4,("546.19" * 1,+"109.16") == 1830?0x9c0:(4165,2950) > (1349,5930)?(!{},6.85e+3):"L",5.5,0,(455,785) >= (6110,3212)?! !"":"L",7,4,"L",11,v9V.P9P(570921888,"4"),6420 >= 51.85?"L":("168.39" * 1,4402) >= +"520"?976.03:("x",! !0),v9V.j9P(2147483647,"8",v9V.H9P(26)),v9V.P9P(2147483647,"7",v9V.d9P(26)),"L",9,11,2230 == (855.31,598.92)?("F",3.10e+3):"L",5.5,9,8286 == (6457,3180)?("0x1083" - 0,552.00):1377 < (493,401.78)?(0x24da,!{}):"L",2,11,"L",3,7,(2132,1580) !== (4730,6470)?+"31.91" == (+"5179",5669)?(240.15,"d"):(607.82,+"212.3") !== +"5697"?"L":(7.21e+3,![]):(991.02,100.38),0,4]];;};f1S.inheritsFrom(f1S.Drawing.star,f1S.Drawing.shape);f1S.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];v9V.d9P(15);this.points=[[(9310,2322) >= (+"423.56","1200" ^ 0)?"M":("435.38" - 0,3162) < (2450,930.79)?(2.85e+3,0x184f):(672.16,+"9.89e+3"),11,3,1660 != 5550?"B":401.27 !== +"5715"?"107.78" - 0 == (1470,9060)?(0x12c7,"V"):0x24d4:"u",11,+"2.4",10,0,6,0,(+"291.16",78.81) < (1500,+"6408")?225.36 > (4910,8070)?45.92 <= (2560,6704)?(! !1,0x1bfb):8.90e+3:"B":("d","E"),0,+"0",0,7.5,+"0",7.5,3168 !== 6530?"B":"F",0,11,4,15.4,11,19,7545 <= ("1609" & 2147483647,"5500" ^ 0)?(0x894,"F"):"B",18,15.4,+"22",v9V.P9P("11",1),22,+"7.5","B",22,7.5,22,0,16,+"0",9139 >= 1480?"B":"T",13,0,11,2.4,11,3]];v9V.E2V();;};f1S.inheritsFrom(f1S.Drawing.heart,f1S.Drawing.shape);f1S.Drawing.focusarrow=function(){var z4p;z4p="fo";z4p+="cusar";z4p+="r";v9V.E2V();z4p+="ow";this.name=z4p;this.dimension=[7,5];this.points=[["M",0,0,(2450,2420) >= "3050" << 1651379744?("H","u"):(6686,2760) >= 498.7?(2640,2340) < +"4010"?"L":"m":(0x1358,9.62e+3),2,2,(3.73,8304) >= (8722,2950)?5210 === 415.8?(990,9323) <= (260.78,781.36)?(0x25f1,0x1c03):(712,657.10):"L":!{},0,+"4",(+"1360",1908) >= (108,2720)?("A",1.95e+3):"L",0,+"0"],["M",6,0,(6580,318.45) < 10?!"":"4060" << 2135991648 !== (628.82,2727)?"L":7.49e+3,4,2,7140 != 7577?8850 >= (813.68,3120)?"L":(1380,6520) == (920.36,2293)?(0xd04,61.18):("E","k"):"B",6,4,3190 <= +"329"?(6742,+"2210") > (+"8450",4604)?(977.34,! !""):+"8.77e+3":"L",+"6",0]];;};f1S.inheritsFrom(f1S.Drawing.focusarrow,f1S.Drawing.shape);f1S.Drawing.crossline=function(){var T4p;T4p="crosslin";T4p+="e";this.name=T4p;};f1S.inheritsFrom(f1S.Drawing.crossline,f1S.Drawing.horizontal);f1S.extend(f1S.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(Q2c,J2c){v9V.E2V();return !1;},adjust:function(){var N2c;N2c=this.stx.panels[this.panelName];if(!N2c){return;}this.setPoint(0,this.d0,this.v0,N2c.chart);this.p1=f1S.clone(this.p0);},intersected:function(w2c,M2c,R2c){var W2c,W4p;if(!this.p0 || !this.p1){return null;}this.p1[0]+=+"1";v9V.i2V();W2c=this.lineIntersection(w2c,M2c,R2c,"line");this.p1=f1S.clone(this.p0);if(!W2c){W4p="lin";W4p+="e";this.p1[+"1"]+=1;W2c=this.lineIntersection(w2c,M2c,R2c,W4p);this.p1=f1S.clone(this.p0);if(!W2c){return null;}}this.highlighted=! ![];if(this.pointIntersection(this.p0["0" ^ 0],this.p0[+"1"],R2c)){this.highlighted="p0";}return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:w2c,value:M2c};},render:function(I2c){var T2c,V2c,e2c,B2c,j2c,n2c,s2c,O2c,R8p,b8p,H8p,C2c,G2c,h2c,K4p,L2c;T2c=this.stx.panels[this.panelName];if(!T2c){return;}V2c=this.stx.pixelFromTick(this.p0[0],T2c.chart);e2c=this.stx.pixelFromValueAdjusted(T2c,this.p0["0" - 0],this.p0[1]);B2c=this.getLineColor();j2c={pattern:this.pattern,lineWidth:this.lineWidth};v9V.H9P(1);this.stx.plotLine(V2c,v9V.P9P(100,V2c),e2c,e2c,B2c,"horizontal",I2c,T2c,j2c);v9V.H9P(35);this.stx.plotLine(V2c,V2c,e2c,v9V.P9P(e2c,"100"),B2c,"vertical",I2c,T2c,j2c);if(this.axisLabel && !this.repositioner){this.stx.endClip();n2c=this.p0[1];if(T2c.chart.transformFunc){n2c=T2c.chart.transformFunc(this.stx,T2c.chart,n2c);}if(T2c.yAxis.priceFormatter){n2c=T2c.yAxis.priceFormatter(this.stx,T2c,n2c);}else {n2c=this.stx.formatYAxisPrice(n2c,T2c);}this.stx.createYAxisLabel(T2c,n2c,e2c,B2c);this.stx.startClip(T2c.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){s2c=this.stx.dateFromTick(this.p0[0],T2c.chart,!0);if(!f1S.ChartEngine.isDailyInterval(this.stx.layout.interval)){R8p=1684383333;b8p=1935691924;H8p=2;for(var z8p=1;v9V.e0p(z8p.toString(),z8p.toString().length,65374) !== R8p;z8p++){C2c=s2c.getSeconds() % 1532 - s2c.getMilliseconds();H8p+=2;}if(v9V.e0p(H8p.toString(),H8p.toString().length,"69458" * 1) !== b8p){C2c=s2c.getSeconds() % 1532 - s2c.getMilliseconds();}C2c=s2c.getSeconds() * +"1000" + s2c.getMilliseconds();if(E1S.Date && this.stx.displayZone){O2c=new E1S.Date(s2c.getTime(),this.stx.displayZone);s2c=new Date(O2c.getFullYear(),O2c.getMonth(),O2c.getDate(),O2c.getHours(),O2c.getMinutes());s2c=new Date(s2c.getTime() + C2c);}}else {v9V.H9P(0);s2c.setHours(+"0",v9V.P9P(0,"0"),0,0);}G2c=f1S.mmddhhmm(f1S.yyyymmddhhmm(s2c));if(T2c.chart.xAxis.formatter){G2c=T2c.chart.xAxis.formatter(s2c,this.name,null,null,G2c);}else if(this.stx.internationalizer){if(s2c.getHours() !== 0 || s2c.getMinutes() !== +"0"){h2c=this.stx.internationalizer.monthDay.format(s2c);h2c+=("3550" - 0 == 525?("d","n"):" ") + this.stx.internationalizer.hourMinute.format(s2c);}else {h2c=this.stx.internationalizer.yearMonthDay.format(s2c);}G2c=h2c;}this.stx.endClip();this.stx.createXAxisLabel({panel:T2c,txt:G2c,x:V2c,backgroundColor:B2c,color:null,pointed:! ![],padding:2});this.stx.startClip(T2c.name);}}if(this.highlighted){K4p="p";K4p+="0";L2c=this.highlighted == K4p?! ![]:! !0;this.littleCircle(I2c,V2c,e2c,L2c);}}},! !{});f1S.Drawing.speedarc=function(){var M4p;M4p="sp";M4p+="e";v9V.E2V();M4p+="edarc";this.name=M4p;this.printLevels=!0;};f1S.inheritsFrom(f1S.Drawing.speedarc,f1S.Drawing.segment);f1S.extend(f1S.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:[N4p,"fillColor","lineWidth",c4p],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;v9V.i2V();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(x2c,p2c,o2c){var H2c,u2c,t2c,q2c,A2c,l2c;if(!this.p0 || !this.p1){return null;}H2c={0:this.p0,1:this.p1};for(var Y2c in H2c){if(this.pointIntersection(H2c[Y2c][0],H2c[Y2c][1],o2c)){v9V.d9P(1);this.highlighted=v9V.P9P(Y2c,"p");return {action:"drag",point:"p" + Y2c};}}u2c=this.lineIntersection(x2c,p2c,o2c,this.name);if(u2c){this.highlighted=!"";return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:x2c,value:p2c};}t2c=this.p1[0] - (this.p0[0] - this.p1[0]);q2c=this.p0[0];A2c=this.p1[1];l2c=this.p0[1];if(x2c > Math.max(t2c,q2c) || x2c < Math.min(t2c,q2c)){return null;}if(p2c > Math.max(l2c,A2c) || p2c < Math.min(l2c,A2c)){return null;}this.highlighted=! ![];return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:x2c,value:p2c};},render:function(S2c){var v2c,z2c,y2c,Z2c,a2c,g3c,i3c,U3c,r2c,y4p,E3c,d3c,f3c,P4p,b3c,D3c,q4p,c3c,F3c;v2c=this.stx.panels[this.panelName];if(!v2c){return;}if(!this.p1){return;}z2c=this.stx.pixelFromTick(this.p0[0],v2c.chart);y2c=this.stx.pixelFromTick(this.p1["0" >> 1345527808],v2c.chart);Z2c=this.stx.pixelFromValueAdjusted(v2c,this.p0[0],this.p0[1]);a2c=this.stx.pixelFromValueAdjusted(v2c,this.p1[0],this.p1[+"1"]);v9V.H9P(29);g3c=v9V.j9P(Z2c,a2c);v9V.d9P(30);i3c=Math.abs(v9V.P9P(Z2c,z2c,y2c,a2c));U3c=this.getLineColor();S2c.strokeStyle=U3c;r2c=this.fillColor;if(r2c == "auto" || f1S.isTransparent(r2c)){r2c=this.stx.defaultColor;}S2c.fillStyle=r2c;if(S2c.setLineDash){S2c.setLineDash(f1S.borderPatternToArray(this.lineWidth,this.pattern));S2c.lineDashOffset=+"0";;}this.stx.canvasFont("stx_yaxis",S2c);for(var K2c=1;K2c < 3;K2c++){y4p="n";y4p+="o";y4p+="n";y4p+="e";E3c=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * K2c / +"3";d3c=this.p1[1] + E3c * (g3c?-1:"1" & 2147483647) * (v2c.yAxis.flipped?-1:"1" >> 2102816640);f3c=this.stx.pixelFromValueAdjusted(v2c,this.p0["0" * 1],d3c);S2c.save();S2c.beginPath();v9V.d9P(36);S2c.scale(v9V.j9P(i3c,"1"),v9V.P9P(0,"1",v9V.H9P(0)));v9V.d9P(15);S2c.arc(v9V.j9P(y2c,i3c),a2c,Math.abs(f3c - a2c),0,Math.PI,!g3c);S2c.globalAlpha=this.highlighted?+"1":this.defaultOpacity;if(this.pattern != y4p){S2c.stroke();}S2c.globalAlpha=0.1;S2c.fill();S2c.restore();S2c.globalAlpha=1;if(this.printLevels){P4p="/";P4p+="3";S2c.fillStyle=U3c;S2c.textAlign="center";v9V.d9P(1);b3c=v9V.j9P(P4p,K2c);S2c.fillText(b3c,y2c,Math.round(f3c - 5));S2c.fillStyle=r2c;}}S2c.textAlign="left";D3c={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(z2c,y2c,Z2c,a2c,U3c,"segment",S2c,v2c,D3c);if(S2c.setLineDash){S2c.setLineDash([]);}if(this.highlighted){q4p="p";q4p+="1";c3c=this.highlighted == "p0"?! !{}:! !0;F3c=this.highlighted == q4p?! !"1":!{};this.littleCircle(S2c,z2c,Z2c,c3c);this.littleCircle(S2c,y2c,a2c,F3c);}},reconstruct:function(P3c,m3c){this.stx=P3c;this.color=m3c.col;this.fillColor=m3c.fc;this.panelName=m3c.pnl;this.pattern=m3c.ptrn;this.lineWidth=m3c.lw;this.d0=m3c.d0;this.d1=m3c.d1;this.tzo0=m3c.tzo0;this.tzo1=m3c.tzo1;this.v0=m3c.v0;this.v1=m3c.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !{});f1S.Drawing.speedline=function(){this.name="speedline";v9V.i2V();this.printLevels=! !{};};f1S.inheritsFrom(f1S.Drawing.speedline,f1S.Drawing.speedarc);f1S.extend(f1S.Drawing.speedline.prototype,{intersected:function(w3c,M3c,R3c){var Q3c,J3c,N3c,Z4p,W3c;Q3c=this.p0;J3c=this.p1;if(!Q3c || !J3c){return null;}N3c={0:Q3c,1:J3c};for(var k3c in N3c){if(this.pointIntersection(N3c[k3c][0],N3c[k3c]["1" | 0],R3c)){Z4p="dra";Z4p+="g";v9V.d9P(1);this.highlighted=v9V.j9P(k3c,(885.63,864.31) !== (5750,7252)?4160 <= +"850"?0x17d:(+"476.77",190) >= ("456" & 2147483647)?(9.07e+3,"3.83e+2" << 1404977248):"p":"g");return {action:Z4p,point:(8830 != (6546,6540)?5127 == (53.32,6123)?0x1d8c:2802 !== (736.57,9400)?"p":("0x54f" | 1282,5.81e+3):(+"5.65e+3",0x2021)) + k3c};}}W3c=this.rays;for(var X3c=0;X3c < W3c.length;X3c++){if(this.lineIntersection(w3c,M3c,R3c,"ray",W3c[X3c][0],W3c[X3c]["1" * 1],! ![])){this.highlighted=! !1;return {action:"move",p0:f1S.clone(Q3c),p1:f1S.clone(J3c),tick:w3c,value:M3c};}}return null;},render:function(T3c){var I4p,w4p,O3c,s3c,V3c,n3c,B3c,A3c,I3c,C3c,l3c,o3c,u3c,t3c,q3c,e3c,G3c,j3c,p3c,h3c,x3c,Y3c,H3c,S3c,v3c;I4p="mid";I4p+="dle";w4p="3/";w4p+="2";O3c=this.stx.panels[this.panelName];if(!O3c){return;}if(!this.p1){return;}s3c=this.stx.pixelFromTick(this.p0[0],O3c.chart);V3c=this.stx.pixelFromTick(this.p1[0],O3c.chart);n3c=this.stx.pixelFromValueAdjusted(O3c,this.p0[0],this.p0[+"1"]);B3c=this.stx.pixelFromValueAdjusted(O3c,this.p1[0],this.p1[+"1"]);this.stx.canvasFont("stx_yaxis",T3c);A3c=this.getLineColor();I3c=this.color;if(I3c == "auto" || f1S.isTransparent(I3c)){I3c=this.stx.defaultColor;}T3c.strokeStyle=I3c;C3c=this.fillColor;if(C3c == "auto" || f1S.isTransparent(C3c)){C3c=this.stx.defaultColor;}T3c.fillStyle=C3c;l3c={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};t3c=[(994.25,1294) != 4533?(99.33,981.34) <= 4140?"1":4510 < 641.2?(! ![],118.80):"c":(!1,+"837.30"),"2/3","1/3",w4p,"3"];v9V.H9P(13);q3c=[v9V.j9P("1",1),v9V.P9P(3,"2",v9V.H9P(36)),v9V.P9P("3",1,3,v9V.H9P(5)),v9V.P9P(3,2,v9V.H9P(10)),3];e3c=[];this.rays=[];for(var L3c=0;L3c < q3c.length;L3c++){G3c=q3c[L3c];if(G3c > 1 && !this.extension)continue;j3c=this.stx.pixelFromValueAdjusted(O3c,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * G3c);if(G3c > 1){p3c=f1S.xIntersection({x0:s3c,x1:V3c,y0:n3c,y1:j3c},B3c);e3c.push(p3c);}else {p3c=f1S.xIntersection({x0:V3c,x1:V3c,y0:n3c,y1:B3c},j3c);e3c.push(j3c);}h3c=G3c > 1?p3c:V3c;x3c=G3c > "1" >> 426306432?B3c:j3c;if(!this.confineToGrid){h3c=O3c.left;if(V3c > s3c){h3c+=O3c.width;}v9V.H9P(34);x3c=v9V.P9P(n3c,n3c,V3c,h3c,s3c,j3c,s3c);}if(this.printLevels){if(G3c != 1 || this.extension){T3c.fillStyle=I3c;Y3c=0;H3c=+"0";if(n3c > B3c){H3c=-5;T3c.textBaseline="bottom";}else {H3c=5;T3c.textBaseline="top";}if(s3c > V3c){v9V.d9P(19);Y3c=v9V.j9P(1436026208,"5");T3c.textAlign="right";}else {Y3c=-5;T3c.textAlign="left";}if(G3c > 1){T3c.fillText(t3c[L3c],p3c + (this.confineToGrid?0:Y3c),B3c);}else {T3c.fillText(t3c[L3c],V3c,j3c + (this.confineToGrid?0:H3c));}T3c.fillStyle=C3c;}}this.stx.plotLine(s3c,h3c,n3c,x3c,this.highlighted?A3c:I3c,"segment",T3c,O3c,l3c);if(G3c == 1){o3c=h3c;u3c=x3c;}this.rays.push([[s3c,n3c],[h3c,x3c]]);T3c.globalAlpha=0.1;T3c.beginPath();T3c.moveTo(h3c,x3c);T3c.lineTo(s3c,n3c);T3c.lineTo(o3c,u3c);T3c.fill();T3c.globalAlpha=1;}T3c.textAlign="left";T3c.textBaseline=I4p;if(this.confineToGrid){T3c.globalAlpha=0.3;T3c.beginPath();v9V.d9P(3);T3c.strokeRect(s3c,n3c,v9V.P9P(s3c,V3c),v9V.P9P(n3c,B3c));T3c.moveTo(s3c,e3c["1" - 0]);T3c.lineTo(V3c,e3c[1]);T3c.moveTo(s3c,e3c[2]);T3c.lineTo(V3c,e3c[2]);if(this.extension){T3c.moveTo(e3c[3],n3c);T3c.lineTo(e3c[3],B3c);T3c.moveTo(e3c[4],n3c);T3c.lineTo(e3c[4],B3c);}T3c.stroke();T3c.globalAlpha=1;}if(this.highlighted){S3c=this.highlighted == "p0"?!"":![];v3c=this.highlighted == "p1"?!0:!"1";this.littleCircle(T3c,s3c,n3c,S3c);this.littleCircle(T3c,V3c,B3c,v3c);}}},!0);f1S.Drawing.gannfan=function(){var B2p,F2p,k2p,p4p;B2p=- +"2045085393";F2p=-206605827;k2p=2;v9V.i2V();for(var u2p=1;v9V.e0p(u2p.toString(),u2p.toString().length,93342) !== B2p;u2p++){this.name="";this.printLevels=!{};k2p+=2;}if(v9V.e0p(k2p.toString(),k2p.toString().length,1577) !== F2p){p4p="g";p4p+="an";p4p+="n";p4p+="fan";this.name=p4p;this.printLevels=! !{};}};f1S.inheritsFrom(f1S.Drawing.gannfan,f1S.Drawing.speedline);f1S.extend(f1S.Drawing.gannfan.prototype,{render:function(a3c){var u4p,B4p,Z3c,y3c,K3c,r3c,f5c,m5c,z3c,i5c,P5c,k5c,X5c,c5c,n4p,U5c,Q5c,F5c,g5c,E5c,b5c,D5c,F4p,k4p,j4p,J5c,N5c;u4p="l";u4p+="e";u4p+="f";u4p+="t";B4p="a";B4p+="u";B4p+="to";Z3c=this.stx.panels[this.panelName];if(!Z3c){return;}if(!this.p1){return;}y3c=this.stx.pixelFromTick(this.p0[0],Z3c.chart);K3c=this.stx.pixelFromTick(this.p1[0],Z3c.chart);r3c=this.stx.pixelFromValueAdjusted(Z3c,this.p0[0],this.p0[1]);f5c=this.stx.pixelFromValueAdjusted(Z3c,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",a3c);m5c=this.getLineColor();z3c=this.color;if(z3c == "auto" || f1S.isTransparent(z3c)){z3c=this.stx.defaultColor;}a3c.strokeStyle=z3c;i5c=this.fillColor;if(i5c == B4p || f1S.isTransparent(i5c)){i5c=this.stx.defaultColor;}a3c.fillStyle=i5c;P5c={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};v9V.d9P(10);c5c=[1,2,3,4,8,v9V.P9P(1,2),v9V.j9P(1,3,v9V.d9P(10)),v9V.j9P(4,"1",v9V.d9P(36)),v9V.P9P("1","8",v9V.H9P(37))];this.rays=[];for(var d5c=0;d5c < c5c.length;d5c++){n4p="s";n4p+="eg";n4p+="m";n4p+="ent";U5c=c5c[d5c];v9V.H9P(38);Q5c=v9V.P9P(y3c,y3c,U5c,K3c);v9V.H9P(39);F5c=v9V.P9P(U5c,r3c,r3c,f5c);g5c=Z3c.left;if(K3c > y3c){g5c+=Z3c.width;}v9V.d9P(34);E5c=v9V.P9P(r3c,r3c,K3c,g5c,y3c,F5c,y3c);if(this.printLevels){a3c.fillStyle=z3c;v9V.d9P(19);b5c=v9V.P9P(344243488,"0");D5c=0;if(r3c > f5c){D5c=5;a3c.textBaseline="top";}else {D5c=-5;a3c.textBaseline="bottom";}if(y3c > K3c){b5c=5;a3c.textAlign="left";}else {F4p="r";F4p+="i";F4p+="gh";F4p+="t";b5c=-5;a3c.textAlign=F4p;}if(U5c > 1){k4p="x";k4p+="1";v9V.d9P(1);a3c.fillText(v9V.P9P(k4p,U5c),v9V.P9P(b5c,Q5c),f5c);}else {v9V.d9P(23);a3c.fillText(v9V.j9P(1,"1x",U5c),K3c,v9V.P9P(D5c,F5c,v9V.H9P(1)));}a3c.fillStyle=i5c;}this.stx.plotLine(y3c,g5c,r3c,E5c,this.highlighted?m5c:z3c,n4p,a3c,Z3c,P5c);this.rays.push([[y3c,r3c],[g5c,E5c]]);if(U5c == +"1"){k5c=g5c;X5c=E5c;}a3c.globalAlpha=0.1;a3c.beginPath();a3c.moveTo(g5c,E5c);a3c.lineTo(y3c,r3c);a3c.lineTo(k5c,X5c);a3c.fill();a3c.globalAlpha=1;}a3c.textAlign=u4p;a3c.textBaseline="middle";if(this.highlighted){j4p="p";j4p+="1";J5c=this.highlighted == "p0"?! ![]:! !0;N5c=this.highlighted == j4p?! !{}:!"1";this.littleCircle(a3c,y3c,r3c,J5c);this.littleCircle(a3c,K3c,f5c,N5c);}}},!0);f1S.Drawing.timecycle=function(){var G4p;G4p="timecycl";G4p+="e";this.name=G4p;this.printLevels=! !1;};f1S.inheritsFrom(f1S.Drawing.timecycle,f1S.Drawing.speedarc);f1S.extend(f1S.Drawing.timecycle.prototype,{intersected:function(s5c,n5c,M5c){var X4p,W5c,R5c,V5c,T5c,e5c;X4p="seg";X4p+="men";X4p+="t";v9V.i2V();W5c=this.p0;R5c=this.p1;V5c=this.stx.panels[this.panelName];if(!W5c || !R5c || !V5c){return null;}T5c={0:W5c,1:R5c};for(var w5c in T5c){if(this.pointIntersection(T5c[w5c][0],T5c[w5c][1],M5c)){v9V.d9P(1);this.highlighted=v9V.j9P(w5c,+"9350" >= 500.64?"p":("0x1190" * 1,2.12e+3));return {action:"drag",point:(8590 < (788.55,1271)?(871.72,"5190" & 2147483647) < (604.37,3714)?! ![]:(! ![],1.04e+3):"p") + w5c};}}e5c=this.lineIntersection(s5c,n5c,M5c,X4p);if(e5c || M5c.x0 <= this.p0[+"0"] && M5c.x1 >= W5c[+"0"]){this.highlighted=! !{};return {action:"move",p0:f1S.clone(W5c),p1:f1S.clone(R5c),tick:s5c,value:n5c};}return null;},render:function(O5c){var C4p,d4p,r4p,B5c,h5c,x5c,t5c,q5c,Y5c,A5c,v5c,l5c,G5c,o5c,C5c,L5c,p5c,u5c,I5c,H5c,a5c,y5c,r5c,S5c;C4p="segm";C4p+="ent";d4p="au";d4p+="to";r4p="st";r4p+="x_yaxis";B5c=this.stx.panels[this.panelName];if(!B5c){return;}if(!this.p1){return;}h5c=this.stx.pixelFromTick(this.p0[0],B5c.chart);x5c=this.stx.pixelFromTick(this.p1[0],B5c.chart);t5c=this.stx.pixelFromValueAdjusted(B5c,this.p0[0],this.p0[1]);q5c=this.stx.pixelFromValueAdjusted(B5c,this.p1[0],this.p1["1" - 0]);Y5c=0;A5c=this.getLineColor();O5c.textBaseline="middle";this.stx.canvasFont(r4p,O5c);v5c=20;l5c=this.p1["0" * 1] - this.p0[0];O5c.textAlign="center";G5c=h5c;o5c=B5c.yAxis.top;C5c=B5c.yAxis.bottom;L5c=this.color;if(L5c == d4p || f1S.isTransparent(L5c)){L5c=this.stx.defaultColor;}p5c=this.fillColor;if(p5c == "auto" || f1S.isTransparent(p5c)){p5c=this.stx.defaultColor;}if(this.printLevels){v9V.H9P(3);C5c-=v9V.j9P(7,v5c);}u5c={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};I5c=[];O5c.save();O5c.fillStyle=p5c;O5c.globalAlpha=0.05;do {G5c=this.stx.pixelFromTick(this.p0[0] + Y5c * l5c,B5c.chart);Y5c++;if(h5c < x5c && G5c > B5c.left + B5c.width)break;else if(h5c > x5c && G5c < B5c.left)break;else if(G5c < B5c.left || G5c > B5c.left + B5c.width)continue;O5c.beginPath();O5c.moveTo(h5c,o5c);O5c.lineTo(G5c,o5c);O5c.lineTo(G5c,C5c);O5c.lineTo(h5c,C5c);O5c.fill();I5c.push({c:Y5c,x:G5c});}while(l5c);O5c.globalAlpha=+"1";v9V.d9P(13);H5c=v9V.j9P("0",0);for(var j5c=0;j5c < I5c.length;j5c++){this.stx.plotLine(I5c[j5c].x,I5c[j5c].x,+"0",C5c,this.highlighted?A5c:L5c,"segment",O5c,B5c,u5c);if(this.printLevels){O5c.fillStyle=L5c;a5c=this.stx.chart.context.measureText(I5c[j5c].c).width + +"3";if(a5c < this.stx.layout.candleWidth + H5c){O5c.fillText(I5c[j5c].c,I5c[j5c].x,C5c + 7);H5c=0;}else {H5c+=this.stx.layout.candleWidth;}}}O5c.restore();O5c.textAlign="left";this.stx.plotLine(h5c,x5c,t5c,q5c,A5c,C4p,O5c,B5c,u5c);v9V.i2V();if(this.highlighted){y5c=this.highlighted == "p0"?!"":! !"";r5c=this.highlighted == "p1"?!"":! !"";this.littleCircle(O5c,h5c,t5c,y5c);this.littleCircle(O5c,x5c,q5c,r5c);}else {S5c=this.stx.valueFromPixel(B5c.height / 2,B5c);this.setPoint(0,this.p0[0],S5c,B5c.chart);this.setPoint(1,this.p1[0],S5c,B5c.chart);}}},! !{});f1S.Drawing.regression=function(){this.name="regression";};f1S.inheritsFrom(f1S.Drawing.regression,f1S.Drawing.segment);f1S.extend(f1S.Drawing.regression.prototype,{configs:[i4p,"lineWidth",Y4p,J4p,L4p,"lineWidth1","pattern1",v4p,"color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(K5c){var Z5c;f1S.Drawing.copyConfig(this,K5c);Z5c=this.stx.currentVectorParameters;this.active1=! !Z5c.active1;this.active2=! !Z5c.active2;this.active3=! !Z5c.active3;this.color1=Z5c.color1 || "auto";this.color2=Z5c.color2 || "auto";this.color3=Z5c.color3 || "auto";this.lineWidth1=Z5c.lineWidth1;this.lineWidth2=Z5c.lineWidth2;this.lineWidth3=Z5c.lineWidth3;this.pattern1=Z5c.pattern1;this.pattern2=Z5c.pattern2;this.pattern3=Z5c.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]',V4p],click:function(D6c,g6c,i6c){var U6c,z5c,f6c,E6c;if(g6c < 0){return;}this.copyConfig();U6c=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(+"0",g6c,i6c,U6c.chart);this.penDown=!0;z5c=this.stx;this.field=z5c.highlightedDataSetField;if(!this.field && U6c != z5c.chart.panel){for(var d6c in z5c.chart.seriesRenderers){f6c=z5c.chart.seriesRenderers[d6c];if(f6c.params.panel == U6c.name){this.field=f6c.seriesParams[0].field;break;}}for(var b6c in z5c.layout.studies){E6c=z5c.layout.studies[b6c];if(E6c.panel == U6c.name){this.field=Object.keys(E6c.outputMap)[0];break;}}}return ![];}if(this.accidentalClick(g6c,i6c)){return this.dragToDraw;}this.setPoint(1,g6c,i6c,U6c.chart);this.penDown=! !0;return !"";;},getYValue:function(Q6c){var m6c,P6c,k6c,J6c,F6c,c6c,X6c,e8p,f8p,E8p;m6c=this.stx.chart.dataSet[Q6c];P6c=this.stx.chart.dataSet[Q6c];if(!m6c){return null;}k6c=this.stx.panels[this.panelName];J6c=this.stx.getYAxisByField(k6c,this.field) || k6c.yAxis;if(this.stx.charts[k6c.name] && k6c.chart.transformFunc && J6c == k6c.yAxis){P6c=m6c.transform;}if(!P6c){return null;}F6c=null;c6c=null;X6c=this.stx.defaultPlotField || "Close";v9V.E2V();if(this.field){c6c=f1S.existsInObjectChain(P6c,this.field);if(!c6c){return null;}F6c=c6c=c6c.obj[c6c.member];if(m6c != P6c){F6c=f1S.existsInObjectChain(m6c,this.field);F6c=F6c.obj[F6c.member];}if(typeof c6c == "object"){e8p=1860462873;f8p=1353188387;E8p=2;for(var a2p=1;v9V.f0p(a2p.toString(),a2p.toString().length,55411) !== e8p;a2p++){c6c=c6c[X6c];v9V.d9P(15);E8p+=v9V.P9P("2",1);}if(v9V.e0p(E8p.toString(),E8p.toString().length,"29816" * 1) !== f8p){c6c=c6c[X6c];}F6c=F6c[X6c];}}else {c6c=P6c[X6c];F6c=m6c[X6c];}return {transformed:c6c,untransformed:F6c};},render:function(n6c){var S4p,W6c,M6c,R6c,L6c,V6c,x6c,e6c,G6c,A6c,l6c,o6c,u6c,h6c,p6c,N6c,T6c,S6c,v6c,I6c,j6c,a6c,C6c,Y6c,H6c,O6c,B6c,t6c,q6c,r6c,y6c,Z6c,s6c,A4p,l4p,K6c,z6c;S4p="se";S4p+="g";S4p+="me";S4p+="nt";W6c=this.stx.panels[this.panelName];if(!W6c){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}M6c=this.stx.pixelFromTick(this.p0[0],W6c.chart);R6c=this.stx.pixelFromTick(this.p1[0],W6c.chart);if(M6c < W6c.left && R6c < W6c.left){return;}if(M6c > W6c.right && R6c > W6c.right){return;}L6c=this.stx.getYAxisByField(W6c,this.field);V6c=[];x6c=[];e6c=0;G6c=0;A6c=0;l6c=+"0";o6c=Math.min(this.p1[+"0"],this.p0[0]);u6c=Math.max(this.p1["0" | 0],this.p0[0]) + +"1";v9V.H9P(3);h6c=v9V.j9P(o6c,u6c);for(var w6c=o6c;w6c < u6c;w6c++){p6c=this.getYValue(w6c);if(p6c){V6c.push(p6c.transformed);x6c.push(p6c.untransformed);}}N6c=V6c.length;v9V.H9P(40);T6c=v9V.P9P(N6c,N6c,2,1);S6c=Math.pow(T6c,2);v9V.d9P(41);v6c=v9V.P9P(N6c,1,3,2,T6c);for(w6c=0;w6c < N6c;w6c++){A6c+=N6c * V6c[w6c] - e6c;e6c+=V6c[w6c];l6c+=N6c * x6c[w6c] - G6c;G6c+=x6c[w6c];}v9V.H9P(42);I6c=v9V.P9P(v6c,A6c,e6c,N6c,S6c,T6c,N6c);v9V.d9P(43);j6c=v9V.j9P(N6c,e6c,I6c,T6c);v9V.H9P(42);a6c=v9V.P9P(v6c,l6c,G6c,N6c,S6c,T6c,N6c);v9V.H9P(43);C6c=v9V.P9P(N6c,G6c,I6c,T6c);if(this.p0[+"0"] < this.p1[+"0"]){Y6c=j6c;v9V.H9P(44);H6c=v9V.P9P(h6c,j6c,I6c);this.p0[1]=C6c;v9V.H9P(44);this.p1[1]=v9V.j9P(h6c,C6c,a6c);}else {v9V.H9P(44);Y6c=v9V.P9P(h6c,j6c,I6c);H6c=j6c;v9V.H9P(44);this.p0[1]=v9V.j9P(h6c,C6c,a6c);this.p1[1]=C6c;}O6c=this.stx.pixelFromTransformedValue(Y6c,W6c,L6c);B6c=this.stx.pixelFromTransformedValue(H6c,W6c,L6c);t6c=this.getLineColor();q6c={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(M6c,R6c,O6c,B6c,t6c,"segment",n6c,W6c,q6c);v9V.H9P(3);v9V.i2V();this.stx.plotLine(M6c,M6c,v9V.j9P(20,O6c),v9V.j9P(20,O6c,v9V.H9P(1)),t6c,"segment",n6c,W6c,q6c);v9V.H9P(3);this.stx.plotLine(R6c,R6c,v9V.j9P(20,B6c),v9V.j9P(20,B6c,v9V.H9P(1)),t6c,S4p,n6c,W6c,q6c);if(this.active1 || this.active2 || this.active3){v9V.d9P(10);r6c=v9V.j9P(e6c,N6c);y6c=0;for(w6c=0;w6c < N6c;w6c++){y6c+=Math.pow(V6c[w6c] - r6c,"2" * 1);}v9V.H9P(10);Z6c=Math.sqrt(v9V.P9P(y6c,N6c));s6c={context:n6c,panel:W6c,points:{0:{x:M6c,v:Y6c},1:{x:R6c,v:H6c}},stddev:Z6c,yAxis:L6c};this.lines={};if(this.active1){this.renderStddev(("4062" >> 1957548640,+"923") < (6000,1270)?"1":(846.26,390) == 109?0x22a3:498.07 <= (3380,+"312.2")?![]:! !{},"p",s6c);this.renderStddev(("8030" | 4360) != "368.05" - 0?2760 !== (2086,390)?"1":96:("k",0xd2a),"n",s6c);}if(this.active2){this.renderStddev(+"4490" !== "9994" << 615610400?458.52 == (7903,8118)?! !"":"2":("k",61.31),"p",s6c);this.renderStddev((1360,6884) == (+"8530",740.81)?137.86:(+"706.88",5809) < (2560,5731)?1165 <= 327?1.26e+3:(!"1",527.70):"2","n",s6c);}if(this.active3){this.renderStddev(259.11 === 3220?3.27e+3:"3",(739,"7790" << 1182941344) > 3030?"p":(446.33,131.89) !== +"5810"?5070 == 5170?(!{},0x1fa):(![],759.38):(+"815.78",0x83a),s6c);this.renderStddev((263.55,3640) < (272.98,5180)?572 !== (466.73,"50" & 2147483647)?3067 != 39.86?"3":(!"1",0x187b):0x8ef:2.47e+3,"n",s6c);}}if(!this.highlighted){this.pixelX=[M6c,R6c];this.pixelY=[O6c,B6c];}else {A4p="p";A4p+="1";l4p="p";l4p+="0";K6c=this.highlighted == l4p?! !1:!{};z6c=this.highlighted == A4p?!"":![];this.littleCircle(n6c,M6c,O6c,K6c);this.littleCircle(n6c,R6c,B6c,z6c);}},renderStddev:function(b7c,N7c,D7c){var s4p,k7c,W7c,w7c,M7c,c7c,X7c,Q7c,m7c,P7c,f7c,g7c,F7c,U7c,i7c,E7c,d7c,R7c,T7c,J7c,s7c;s4p="mi";s4p+="ddle";v9V.H9P(45);k7c=v9V.j9P(N7c,b7c,"stddev");v9V.H9P(1);W7c=v9V.P9P(b7c,"color");v9V.d9P(1);w7c=v9V.P9P(b7c,"pattern");v9V.d9P(1);M7c=v9V.P9P(b7c,"lineWidth");c7c=D7c.points;X7c=c7c[0].v;Q7c=c7c[1].v;m7c=D7c.stddev;P7c=N7c === (151.63 > ("1766" & 2147483647,382.1)?(813.01,503) <= (3652,757.84)?(!0,280.53):(8.92e+3,"5.11e+3" >> 2048696448):"n")?b7c * - +"1":b7c * 1;f7c=this.stx;g7c=D7c.panel;F7c=D7c.yAxis;U7c={name:k7c,color:this.getLineColor(this[W7c]),type:"segment",y0:f7c.pixelFromTransformedValue(X7c + m7c * P7c,g7c,F7c),y1:f7c.pixelFromTransformedValue(Q7c + m7c * P7c,g7c,F7c),params:{pattern:this[w7c],lineWidth:this[M7c]}};if(this.lines){this.lines[k7c]=U7c;}i7c=D7c.context;E7c=c7c[0].x;d7c=c7c[1].x;f7c.plotLine(E7c,d7c,U7c.y0,U7c.y1,U7c.color,U7c.type,i7c,g7c,U7c.params);f7c.plotLine(E7c,E7c,U7c.y0 - 10,U7c.y0 + 10,U7c.color,U7c.type,i7c,g7c,U7c.params);f7c.plotLine(d7c,d7c,U7c.y1 - 10,U7c.y1 + +"10",U7c.color,U7c.type,i7c,g7c,U7c.params);v9V.d9P(1);R7c=v9V.P9P((146.69,4520) >= 704.95?"\u03c3":(8040,1015) > 2024?1.17e+3:8531 == "794.29" - 0?3.63e+3:(+"0x1249","p"),b7c);T7c=Math.max(E7c,d7c) + 5;J7c=E7c < d7c?U7c.y1:U7c.y0;i7c.fillStyle=U7c.color;i7c.save();i7c.textBaseline=s4p;i7c.fillText(R7c,T7c,J7c);i7c.restore();if(D7c.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(E7c >= g7c.chart.left && E7c <= g7c.chart.right || d7c >= g7c.chart.left && d7c <= g7c.chart.right){v9V.H9P(11);s7c=v9V.P9P(P7c,E7c < d7c?Q7c:X7c,m7c);f7c.endClip();f7c.createYAxisLabel(g7c,D7c.formatPrice(s7c,F7c),J7c,U7c.color,null,i7c,F7c);f7c.startClip(g7c.name);}}},intersected:function(e7c,O7c,j7c){var B7c,G7c,h7c,C7c,L7c,I7c,V7c,t4p;v9V.i2V();if(!this.pixelX || !this.pixelY){return null;}B7c=this.repositionIntersection(e7c,O7c);if(B7c){return B7c;}G7c={0:this.pixelX,1:this.pixelY};for(var n7c=0;n7c < 2;n7c++){if(this.pointIntersection(G7c[0][n7c],G7c[1][n7c],j7c,! ![])){v9V.H9P(1);this.highlighted=v9V.P9P(n7c,3763 === 5144?("7.66e+3" >> 16510304,793.10):(116.73,2561) <= 5985?"p":"c");return {action:"drag",point:(7622 > 888.31?"p":(5859,"2501" & 2147483647) !== (734.39,583.2)?(1.47e+3,4.37e+3):("0xaf3" * 1,7.65e+3)) + n7c};}}h7c=this;C7c=this.pixelX[0];v9V.d9P(27);L7c=this.pixelX[v9V.j9P("1",886196320)];I7c=function(p7c){var Y7c,H7c;Y7c=[C7c,p7c.y0];H7c=[L7c,p7c.y1];return h7c.lineIntersection(e7c,O7c,j7c,h7c.name,Y7c,H7c,! !"1");};V7c=I7c({y0:this.pixelY[0],y1:this.pixelY[1]});if(!V7c && this.lines){for(var x7c in this.lines){if(I7c(this.lines[x7c])){V7c=! !1;break;}}}if(V7c){t4p="mo";t4p+="v";t4p+="e";this.highlighted=! ![];return {action:t4p,p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:e7c,value:O7c};}return null;},repositionIntersection:function(t7c,q7c){if(!this.p0 || !this.p1){return ! !"";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !""){return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:t7c,value:q7c};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(r7c,Z7c,v7c,a7c,l7c,o7c,y7c){var e4p,S7c,A7c,u7c;if(!y7c){e4p=" lineIntersection must accept p0 and p";e4p+="1 in pixels.  Please verify and set isPixels=true.";v9V.H9P(1);console.log(v9V.j9P(e4p,a7c));return !{};}if(!l7c){l7c=this.p0;}if(!o7c){o7c=this.p1;}if(!(l7c && o7c)){return !{};}S7c=this.stx;A7c=f1S.convertBoxToPixels(S7c,this.panelName,v7c);if(A7c.x0 === undefined){return !1;}u7c={x0:l7c[0],x1:o7c[0],y0:l7c[1],y1:o7c[+"1"]};return f1S.boxIntersects(A7c.x0,A7c.y0,A7c.x1,A7c.y1,u7c.x0,u7c.y0,u7c.x1,u7c.y1);},boxIntersection:function(z7c,U0g,K7c){v9V.E2V();if(K7c.cx0 > Math.max(this.pixelX["0" | 0],this.pixelX[1]) || K7c.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ![];}if(!this.stx.repositioningDrawing && (K7c.cy1 < this.pixelY["0" ^ 0] || K7c.cy0 > this.pixelY[1])){return ![];}return !0;},reconstruct:function(i0g,g0g){this.stx=i0g;this.color=g0g.col;this.color1=g0g.col1;this.color2=g0g.col2;this.color3=g0g.col3;this.active1=g0g.dev1;this.active2=g0g.dev2;this.active3=g0g.dev3;this.panelName=g0g.pnl;this.pattern=g0g.ptrn;this.pattern1=g0g.ptrn1;this.pattern2=g0g.ptrn2;this.pattern3=g0g.ptrn3;this.lineWidth=g0g.lw;this.lineWidth1=g0g.lw1;this.lineWidth2=g0g.lw2;this.lineWidth3=g0g.lw3;this.d0=g0g.d0;this.d1=g0g.d1;this.tzo0=g0g.tzo0;this.tzo1=g0g.tzo1;this.field=g0g.fld;this.adjust();},serialize:function(){v9V.E2V();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);f1S.Drawing.trendline=function(){v9V.E2V();this.name="trendline";};f1S.inheritsFrom(f1S.Drawing.trendline,f1S.Drawing.segment);f1S.Drawing.trendline.prototype.configs=[f4p,E4p,"lineWidth","pattern",O6p];f1S.Drawing.trendline.prototype.measure=function(){;};f1S.Drawing.trendline.prototype.reconstruct=function(f0g,E0g){f1S.Drawing.segment.prototype.reconstruct.call(this,f0g,E0g);this.callout=new f1S.Drawing.callout();this.callout.reconstruct(f0g,E0g.callout);};f1S.Drawing.trendline.prototype.serialize=function(){v9V.E2V();var d0g;d0g=f1S.Drawing.segment.prototype.serialize.call(this);d0g.callout=this.callout.serialize();return d0g;};f1S.Drawing.trendline.prototype.render=function(k0g){var b0g,M0g,F0g,m0g,D0g,c0g,X0g,P0g,Q0g,R0g,J0g,T0g,s0g,N0g,W0g,w0g,n0g,V0g,e0g,O0g;b0g=this.stx.panels[this.panelName];if(!b0g){return;}f1S.Drawing.segment.prototype.render.call(this,k0g);if(!this.callout){this.callout=new f1S.Drawing.callout();M0g=f1S.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,M0g);}this.callout.p0=f1S.clone(this.p0);F0g=this.stx.pixelFromTick(this.p0[0],b0g.chart);m0g=this.stx.pixelFromTick(this.p1[0],b0g.chart);D0g=this.stx.pixelFromValueAdjusted(b0g,this.p0[+"0"],this.p0[+"1"]);c0g=this.stx.pixelFromValueAdjusted(b0g,this.p1[0],this.p1[1]);if(!isFinite(D0g) || !isFinite(c0g)){return;}v9V.H9P(6);X0g=v9V.P9P(2,m0g,F0g);v9V.d9P(46);P0g=v9V.P9P(D0g,"2",0,c0g);this.fontSize=f1S.stripPX(this.font && this.font.size || 13);Q0g=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?0:50);R0g=Math.sqrt(Math.pow(m0g - F0g,2) + Math.pow(c0g - D0g,2));J0g=Q0g / (R0g || Q0g) * (this.p1[+"1"] < this.p0["1" << 1371275104]?+"1":-1);v9V.d9P(47);T0g=v9V.P9P(X0g,c0g,J0g,P0g);v9V.d9P(48);v9V.E2V();s0g=v9V.j9P(P0g,J0g,m0g,X0g);this.callout.p0[+"0"]=this.stx.tickFromPixel(T0g,b0g.chart);this.callout.p0[1]=this.stx.priceFromPixel(s0g,b0g);v9V.d9P(27);this.callout.v0=this.callout.p0[v9V.j9P("1",658246880)];this.callout.p1=f1S.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !"1";N0g=this.p1[1] - this.p0["1" - 0];this.callout.text="" + Number(N0g).toFixed("2" - 0) + (this.p0[1] === 0?"":" (" + Number(100 * N0g / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0["0" >> 1324221120]) + " Bars";W0g=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < +"20"){n0g=this.stx.pixelFromTick(W0g,b0g.chart);v9V.d9P(49);V0g=v9V.P9P(D0g,c0g,m0g,F0g,n0g,F0g,D0g);w0g=this.stx.priceFromPixel(V0g,b0g) || P0g;}else {w0g=this.stx.priceFromPixel(P0g,b0g);}this.callout.stem={t:W0g,v:w0g};this.callout.renderText();this.callout.render(k0g);if(this.highlighted){e0g=this.highlighted == "p0"?!"":! !0;O0g=this.highlighted == "p1"?! !"1":!"1";this.littleCircle(k0g,F0g,D0g,e0g);this.littleCircle(k0g,m0g,c0g,O0g);}};f1S.Drawing.trendline.prototype.lineIntersection=function(B0g,G0g,h0g,j0g){var a6p;v9V.E2V();a6p="seg";a6p+="ment";return f1S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,B0g,G0g,h0g,a6p);};f1S.Drawing.trendline.prototype.intersected=function(p0g,Y0g,t0g){var H0g,C2p,i2p,Y2p,L0g;if(!this.p0 || !this.p1){return null;}H0g=this.callout.intersected(p0g,Y0g,t0g);C2p=-2027105943;v9V.H9P(3);i2p=v9V.j9P(0,"282924357");Y2p=2;for(var L2p="1" | 1;v9V.e0p(L2p.toString(),L2p.toString().length,1771) !== C2p;L2p++){L0g=f1S.Drawing.segment.prototype.intersected.call(this,p0g,Y0g,t0g);this.callout.highlighted=~ +(H0g && L0g);Y2p+=2;}if(v9V.f0p(Y2p.toString(),Y2p.toString().length,"83243" >> 1075097984) !== i2p){L0g=f1S.Drawing.segment.prototype.intersected.call(this,p0g,Y0g,t0g);this.callout.highlighted=! !(H0g || L0g);}if(L0g){return L0g;}else if(H0g){return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:p0g,value:Y0g};}return null;};f1S.Drawing.average=function(){var o6p;o6p="ave";o6p+="ra";v9V.i2V();o6p+="g";o6p+="e";this.name=o6p;};f1S.inheritsFrom(f1S.Drawing.average,f1S.Drawing.regression);f1S.extend(f1S.Drawing.average.prototype,{configs:f1S.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){v9V.i2V();var U6p,D6p,x6p,h6p,q0g,l0g,u0g,S0g,o0g,A0g;if(this.p0 && this.p1){U6p=".mStickyInt";U6p+="erior";D6p=".m";D6p+="M";D6p+="easur";D6p+="e";x6p=",";x6p+=" ";h6p="&e";h6p+="n";h6p+="s";h6p+="p;";this.stx.setMeasure(0,!1,this.p0[+"0"],this.p1[+"0"],! ![],this.name);q0g=[];l0g="";if(this.active1){q0g.push("1");}if(this.active2){q0g.push("2");}if(this.active3){q0g.push((875,934.55) == ("1190" * 1,995.24)?("6218" >> 1665270272,549.18) > (607,5470)?(9.81e+2,!1):(+"933.48",+"2014") < ("488.98" * 1,80.56)?"R":(0x22cd,0x64e):"3");}if(q0g.length){l0g=h6p + q0g.join(x6p) + " &sigma;";}u0g=(this.stx.drawingContainer || document).querySelector(D6p);S0g=this.stx.controls.mSticky;o0g=S0g && S0g.querySelector(U6p);if(u0g){u0g.innerHTML+=l0g;}if(o0g){A0g=[];A0g.push(f1S.capitalize(this.name));A0g.push(this.field || this.stx.defaultPlotField || "Close");A0g.push(o0g.innerHTML + l0g);o0g.innerHTML=A0g.join("<br>");}}},render:function(z0g){var m6p,v0g,y0g,r0g,f1g,Z0g,c1g,F1g,N1g,m1g,b1g,K0g,g1g,E1g,i1g,a0g,d1g,D1g,f7p,E7p,O1p,P1g,X1g,U1g,Q1g,J1g;m6p="se";m6p+="gm";m6p+="e";m6p+="nt";v0g=this.stx.panels[this.panelName];if(!v0g){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}y0g=this.stx.pixelFromTick(this.p0["0" >> 949878688],v0g.chart);r0g=this.stx.pixelFromTick(this.p1[0],v0g.chart);if(y0g < v0g.left && r0g < v0g.left){return;}if(y0g > v0g.right && r0g > v0g.right){return;}f1g=this.stx.getYAxisByField(v0g,this.field);Z0g=this.stx;c1g=Math.min(this.p1[0],this.p0[0]);F1g=Math.max(this.p1[0],this.p0[0]) + ("1" & 2147483647);v9V.d9P(3);N1g=v9V.j9P(c1g,F1g);m1g=0;b1g=[];for(K0g=c1g;K0g < F1g;K0g++){g1g=this.getYValue(K0g);if(g1g !== null){m1g+=g1g.transformed;b1g.push(g1g);}}E1g=b1g.length;if(!E1g){return;}v9V.H9P(10);i1g=v9V.j9P(m1g,E1g);a0g=Z0g.pixelFromTransformedValue(i1g,v0g,f1g);d1g=this.getLineColor();D1g={pattern:this.pattern,lineWidth:this.lineWidth};Z0g.plotLine(y0g,r0g,a0g,a0g,d1g,m6p,z0g,v0g,D1g);v9V.d9P(3);Z0g.plotLine(y0g,y0g,v9V.j9P(20,a0g),v9V.j9P(20,a0g,v9V.d9P(1)),d1g,"segment",z0g,v0g,D1g);v9V.d9P(3);Z0g.plotLine(r0g,r0g,v9V.j9P(20,a0g),v9V.j9P(20,a0g,v9V.d9P(1)),d1g,"segment",z0g,v0g,D1g);if(this.axisLabel && !this.highlighted && !this.penDown){if(y0g >= v0g.chart.left && y0g <= v0g.chart.right || r0g >= v0g.chart.left && r0g <= v0g.chart.right){f7p=-825787859;E7p=120344631;O1p=2;for(var o1p=1;v9V.f0p(o1p.toString(),o1p.toString().length,34991) !== f7p;o1p++){Z0g.endClip();Z0g.createYAxisLabel(v0g,k1g(i1g,f1g),a0g,d1g,1,z0g,f1g);O1p+=2;}if(v9V.e0p(O1p.toString(),O1p.toString().length,60834) !== E7p){Z0g.endClip();Z0g.createYAxisLabel(v0g,k1g(i1g,f1g),a0g,d1g,null,z0g,f1g);}Z0g.startClip(v0g.name);}}if(this.active1 || this.active2 || this.active3){v9V.d9P(0);P1g=v9V.P9P(0,"0");for(K0g=0;K0g < E1g;K0g++){g1g=b1g[K0g];P1g+=Math.pow(g1g.transformed - i1g,2);}v9V.H9P(10);X1g=Math.sqrt(v9V.P9P(P1g,E1g));U1g={context:z0g,formatPrice:k1g,panel:v0g,points:{0:{x:y0g,v:i1g},1:{x:r0g,v:i1g}},stddev:X1g,yAxis:f1g};this.lines={};if(this.active1){this.renderStddev((937,5270) > 432?(573.09,916.54) < 174.24?("j","F"):"1":(0x2370,![]),("489.6" - 0,7482) != (6450,127.98)?(+"3635",+"888") === (311.16,260)?691.13:(608.01,380.25) != 8390?"p":(6.09e+3,"G"):(0x1f5c,7.01e+3),U1g);this.renderStddev("1","n",U1g);}if(this.active2){this.renderStddev("2",7760 < (+"7104",874.41)?4.80e+3:"p",U1g);this.renderStddev("2","n",U1g);}if(this.active3){this.renderStddev("3",(7040,419.96) <= 8375?8320 != 889.47?"p":346.45:0x1a3a,U1g);this.renderStddev(1689 != (3701,6230)?"3":765 !== 8240?(561,727.92) !== 110.79?(0x1229,0x2008):(0xc07,8.07e+3):!{},(63,9983) === 462.98?("C",!0):"n",U1g);}}if(!this.highlighted){this.pixelX=[y0g,r0g];this.pixelY=[a0g,a0g];}else {Q1g=this.highlighted == "p0"?! !{}:!{};J1g=this.highlighted == "p1"?! ![]:!"1";this.littleCircle(z0g,y0g,a0g,Q1g);this.littleCircle(z0g,r0g,a0g,J1g);}function k1g(W1g,w1g){if(w1g && w1g.priceFormatter){W1g=w1g.priceFormatter(Z0g,v0g,W1g);}else {W1g=Z0g.formatYAxisPrice(W1g,v0g,null,w1g);}v9V.i2V();return W1g;}},reconstruct:function(R1g,M1g){v9V.i2V();this.axisLabel=M1g.al;f1S.Drawing.regression.prototype.reconstruct.call(this,R1g,M1g);},serialize:function(){var T1g;T1g=f1S.Drawing.regression.prototype.serialize.call(this);T1g.al=this.axisLabel;return T1g;}},! !{});f1S.Drawing.quadrant=function(){this.name="quadrant";};f1S.inheritsFrom(f1S.Drawing.quadrant,f1S.Drawing.regression);f1S.extend(f1S.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;v9V.E2V();this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(e1g){var g6p,H6p,b6p,R6p,n1g,s1g,V1g,O1g,j1g,B1g,G1g,x1g,C1g,Y1g,H1g,p1g,A1g,l1g,L1g,h1g,t1g,I1g,Q6p,o1g,q2p,Z2p,w2p,u1g;v9V.i2V();g6p="t";g6p+="iro";g6p+="ne";H6p="s";H6p+="eg";H6p+="ment";b6p="s";b6p+="eg";b6p+="ment";R6p="tiro";R6p+="ne";n1g=this.stx;s1g=n1g.panels[this.panelName];if(!s1g){return;}if(!this.p1){return;}V1g=n1g.pixelFromTick(this.p0[+"0"],s1g.chart);O1g=n1g.pixelFromTick(this.p1[0],s1g.chart);if(V1g < s1g.left && O1g < s1g.left){return;}if(V1g > s1g.right && O1g > s1g.right){return;}j1g=this.stx.getYAxisByField(s1g,this.field);B1g=null;G1g=null;for(var q1g=Math.min(this.p1[0],this.p0[0]);q1g <= Math.max(this.p1[0],this.p0[0]);q1g++){x1g=this.getYValue(q1g);if(x1g !== null){if(B1g === null || x1g.transformed > B1g){B1g=x1g.transformed;}if(G1g === null || x1g.transformed < G1g){G1g=x1g.transformed;}}}C1g=n1g.pixelFromTransformedValue(B1g,s1g,j1g);v9V.d9P(50);Y1g=n1g.pixelFromTransformedValue(v9V.j9P(4,B1g,G1g,"3"),s1g,j1g);v9V.H9P(50);H1g=n1g.pixelFromTransformedValue(v9V.P9P(3,B1g,G1g,"2"),s1g,j1g);v9V.H9P(21);p1g=n1g.pixelFromTransformedValue(v9V.P9P("2",B1g,G1g),s1g,j1g);v9V.H9P(51);A1g=n1g.pixelFromTransformedValue(v9V.P9P("3",G1g,B1g,2,541283392),s1g,j1g);v9V.H9P(52);l1g=n1g.pixelFromTransformedValue(v9V.j9P(B1g,G1g,4,3),s1g,j1g);L1g=n1g.pixelFromTransformedValue(G1g,s1g,j1g);this.p0[1]=0;this.p1[1]=![];h1g=this.getLineColor();t1g=this.fillColor;if(t1g == "auto" || f1S.isTransparent(t1g)){t1g=n1g.defaultColor;}e1g.fillStyle=t1g;I1g={pattern:this.pattern,lineWidth:this.lineWidth};n1g.plotLine(V1g,O1g,C1g,C1g,h1g,"segment",e1g,s1g,I1g);n1g.plotLine(V1g,O1g,L1g,L1g,h1g,"segment",e1g,s1g,I1g);if(this.name == "quadrant"){Q6p="s";Q6p+="e";Q6p+="gment";n1g.plotLine(V1g,O1g,Y1g,Y1g,h1g,"segment",e1g,s1g,I1g);n1g.plotLine(V1g,O1g,l1g,l1g,h1g,Q6p,e1g,s1g,I1g);}else if(this.name == R6p){n1g.plotLine(V1g,O1g,H1g,H1g,h1g,"segment",e1g,s1g,I1g);n1g.plotLine(V1g,O1g,A1g,A1g,h1g,"segment",e1g,s1g,I1g);}n1g.plotLine(V1g,V1g,C1g,L1g,h1g,"segment",e1g,s1g,I1g);n1g.plotLine(O1g,O1g,C1g,L1g,h1g,b6p,e1g,s1g,I1g);n1g.plotLine(V1g,O1g,p1g,p1g,h1g,H6p,e1g,s1g,f1S.extend(I1g,{opacity:this.name == g6p?0.2:1}));e1g.globalAlpha=0.1;e1g.beginPath();v9V.H9P(3);e1g.fillRect(V1g,C1g,v9V.j9P(V1g,O1g),v9V.j9P(C1g,L1g));if(this.name == "quadrant"){v9V.d9P(3);e1g.fillRect(V1g,Y1g,v9V.P9P(V1g,O1g),v9V.j9P(Y1g,l1g));}else if(this.name == "tirone"){v9V.H9P(3);e1g.fillRect(V1g,H1g,v9V.j9P(V1g,O1g),v9V.j9P(H1g,A1g));}e1g.globalAlpha=1;if(!this.highlighted){this.pixelX=[V1g,O1g];this.pixelY=[C1g,L1g];if(s1g.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(p1g);}else {o1g=this.highlighted == "p0"?! !"1":!"1";q2p=1431118926;Z2p=-515978847;w2p=2;for(var p2p=1;v9V.e0p(p2p.toString(),p2p.toString().length,50699) !== q2p;p2p++){u1g=this.highlighted == "p1"?!"":! !0;w2p+=2;}if(v9V.e0p(w2p.toString(),w2p.toString().length,39808) !== Z2p){u1g=this.highlighted !== ""?! !"":! !1;}this.littleCircle(e1g,V1g,p1g,o1g);this.littleCircle(e1g,O1g,p1g,u1g);}},intersected:function(a1g,y1g,r1g){var v1g,z6p;v9V.E2V();if(!this.pixelX || !this.pixelY){return null;}v1g=this.repositionIntersection(a1g,y1g);if(v1g){return v1g;}for(var S1g=+"0";S1g < 2;S1g++){if(this.pointIntersection(this.pixelX[S1g],this.pixelY[2],r1g,! !{})){z6p="d";z6p+="ra";z6p+="g";v9V.d9P(1);this.highlighted=v9V.P9P(S1g,7660 == (792.3,1200)?(899.7,4370) !== 4170?9210 !== ("2265" & 2147483647,1560)?"7.42e+3" * 1:("E",4.24e+3):"3.75e+3" & 2147483647:"p");return {action:z6p,point:"p" + S1g};}}if(this.boxIntersection(null,null,r1g)){this.highlighted=!0;return {action:"move",p0:f1S.clone(this.p0),p1:f1S.clone(this.p1),tick:a1g,value:y1g};}return null;},reconstruct:function(K1g,Z1g){var Z1p,w1p,I1p;this.stx=K1g;this.color=Z1g.col;this.fillColor=Z1g.fc;this.panelName=Z1g.pnl;this.pattern=Z1g.ptrn;this.lineWidth=Z1g.lw;this.d0=Z1g.d0;this.d1=Z1g.d1;this.tzo0=Z1g.tzo0;this.tzo1=Z1g.tzo1;this.field=Z1g.fld;Z1p=-1222845700;w1p=1060853517;I1p=2;for(var B1p=+"1";v9V.e0p(B1p.toString(),B1p.toString().length,"98628" & 2147483647) !== Z1p;B1p++){this.adjust();I1p+=2;}v9V.E2V();if(v9V.f0p(I1p.toString(),I1p.toString().length,26884) !== w1p){this.adjust();}},serialize:function(){v9V.i2V();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});f1S.Drawing.tirone=function(){v9V.i2V();this.name="tirone";};f1S.inheritsFrom(f1S.Drawing.tirone,f1S.Drawing.quadrant);f1S.Drawing.elliottwave=function(){var T6p;T6p="ell";T6p+="iottwave";this.name=T6p;this.lastPoint=+"0";this.points=[];this.pts=[];this.dx=0;v9V.H9P(15);this.dy=-v9V.j9P("20",1);this.dragToDraw=!"1";this.annotationPoints=[];this.edit=null;};f1S.inheritsFrom(f1S.Drawing.elliottwave,f1S.Drawing.annotation);f1S.Drawing.elliottwave.defaultTemplate={impulse:[(4697,8850) >= (32.15,+"44")?"I":"J","II","III",W6p,(+"1290",5909) === 8880?8530 >= 5500?0x8d3:! !0:"V"],corrective:[8910 > 7630?463.11 < +"5210"?(14.96,3891) >= (129.53,9310)?(! !0,0x84d):"A":+"0x2455":(3.13e+3,!""),(321,4312) == (875,612)?(939,+"7860") == (242,"797.12" - 0)?"B":301.41 < (2594,933)?(+"0xcc6",!{}):+"3.62e+3":"B",(9270,324.12) == (398.82,227.78)?1.22e+3:"C"],decoration:"enclosed",showLines:!""};f1S.Drawing.elliottwave.prototype.initializeSettings=function(z1g){v9V.i2V();z1g.currentVectorParameters.waveParameters=f1S.clone(f1S.Drawing.elliottwave.defaultTemplate);};f1S.Drawing.elliottwave.prototype.configs=[K6p,"lineWidth","lineColor",M6p,"font","waveParameters"];f1S.Drawing.elliottwave.prototype.$controls=[N6p,"cq-wave-parameters"];f1S.Drawing.elliottwave.prototype.construct=function(U2g,E2g){var f2g;this.stx=U2g;this.panelName=E2g.name;f2g=U2g.currentVectorParameters;Object.assign(this,f2g.waveParameters);};f1S.Drawing.elliottwave.prototype.serialize=function(){v9V.E2V();var D2g;D2g={};for(var d2g=0;d2g < this.points.length;d2g++){v9V.d9P(1);D2g[v9V.P9P(d2g,"d")]=this[v9V.P9P(d2g,8444 == +"314.57"?(4.69e+3,0xe39):"d")];v9V.d9P(1);D2g[v9V.j9P(d2g,"tzo")]=this[v9V.P9P(d2g,"tzo")];v9V.H9P(1);D2g[v9V.j9P(d2g,(4980,8290) === 152.3?! !{}:"v")]=this[v9V.P9P(d2g,(3400,902.59) < (7140,208.55)?(0x2ec,"A"):(+"448",+"2211") < (6605,8660)?"v":(8648,8750) > (7135,"432.83" - 0)?(3.92e+3,6.61e+3):(62.95,413.83))];}D2g.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:f1S.removeNullValues(f1S.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},D2g);};f1S.Drawing.elliottwave.prototype.reconstruct=function(m2g,c2g){var c6p;c6p="we";c6p+="i";c6p+="g";v9V.E2V();c6p+="ht";this.stx=m2g;this.color=c2g.col;this.panelName=c2g.pnl;this.pattern=c2g.ptrn;this.lineWidth=c2g.lw;this.font=f1S.replaceFields(c2g.fnt,{st:"style",sz:"size",wt:c6p,fl:"family"});this.decoration=c2g.decor;this.showLines=c2g.show;this.dx=c2g.dx;this.dy=c2g.dy;this.trend=c2g.trend;this.annotationPoints=c2g.annotations.split(",");if(c2g.decor === "enclosed"){this.calculateRadius(m2g.chart.tempCanvas.context);}this.maxSegments=c2g.mxSeg;this.reconstructPoints(c2g);this.adjust();};f1S.Drawing.elliottwave.prototype.reconstructPoints=function(k2g){var Q2g,J2g,N2g;v9V.i2V();Q2g=this.stx.panels[this.panelName];if(!Q2g){return;}for(var P2g=0;P2g < this.annotationPoints.length;P2g++){v9V.d9P(1);this[v9V.j9P(P2g,"d")]=k2g[v9V.j9P(P2g,(6750,299.42) === "1.17" - 0?8.41e+3:"d")];v9V.H9P(1);this[v9V.j9P(P2g,5129 == 191?(6717,1436) != 7640?0x1241:("N","0x13e7" >> 339040192):"v")]=k2g[v9V.j9P(P2g,4270 !== +"1212"?(1800,+"405.5") <= +"8089"?"v":305:(1.53e+3,343.79))];v9V.H9P(1);this[v9V.j9P(P2g,"tzo")]=k2g[v9V.P9P(P2g,"tzo")];J2g=f1S.strToDateTime(k2g[(2260 < ("268.54" - 0,4860)?"d":"7.16e+3" >> 2060705312) + P2g]);N2g=this.stx.tickFromDate(J2g,Q2g.chart);this.points.push([N2g,k2g["v" + P2g]]);}};f1S.Drawing.elliottwave.prototype.calculateRadius=function(n2g){var W2g,T2g;this.getFontString();n2g.font=this.fontString;W2g=+"0";for(var M2g="0" << 497455168;M2g < this.annotationPoints.length;M2g++){T2g=n2g.measureText(this.annotationPoints[M2g]).width;if(W2g < T2g){W2g=T2g;}}this.enclosedRadius=W2g;};f1S.Drawing.elliottwave.prototype.check=function(B2g,h2g,V2g){var e2g,O2g;if(V2g === 1 && this.points.length === 2){return !0;}v9V.d9P(53);e2g=this.points[v9V.P9P(V2g,"1",1)];if(e2g && B2g <= e2g[0]){return ! !"";}v9V.H9P(18);O2g=this.points[v9V.j9P("1",V2g,0)];if(O2g && B2g >= O2g[0]){return !1;}function G2g(C2g){for(var I2g=2;I2g < C2g.length;I2g++){if(Math.sign(C2g[I2g][1] - C2g[I2g - 1]["1" | 0]) == Math.sign(C2g[I2g - 1][1] - C2g[I2g - "2" * 1][1])){return !1;}}return ! !{};}if(!G2g(this.points)){return ! !"";}return ! !1;};f1S.Drawing.elliottwave.prototype.move=function(L2g,x2g,p2g){this.copyConfig();this.points[this.lastPoint + 1]=[x2g,p2g];this.render(L2g);};f1S.Drawing.elliottwave.prototype.adjust=function(){v9V.i2V();var H2g,t2g;H2g=this.stx.panels[this.panelName];if(!H2g){return;}for(var Y2g=0;this.maxSegments + 1 > Y2g;Y2g++){v9V.H9P(1);t2g=this[v9V.P9P(Y2g,235.89 >= 8899?7395 !== (7597,2620)?(! !"",!{}):(! !"1",0x12d2):"d")];this.setPoint(Y2g,t2g,this["v" + Y2g],H2g.chart);this.points[Y2g][0]=this.stx.tickFromDate(f1S.strToDateTime(t2g),H2g.chart);v9V.d9P(3);this.points[Y2g][v9V.j9P(0,"1")]=this[v9V.P9P(Y2g,808.07 < 3930?288.39 === (6035,9660)?+"2709" <= (4167,77.27)?(984.76,"A"):(!1,471.73):"v":(751.45,0x1d89),v9V.H9P(1))];}};f1S.Drawing.elliottwave.prototype.click=function(u2g,A2g,l2g){var o2g,y7p,P7p,q7p;o2g=this.stx.panels[this.panelName];if(!o2g){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,A2g,l2g,o2g.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((8455,"5570" ^ 0) === ("736.61" - 0,"567.26" - 0)?789.10:"0");if(this.decoration === "enclosed"){this.calculateRadius(u2g);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return ! !0;}v9V.i2V();if(this.accidentalClick(A2g,l2g)){this.penDown=!"";return !{};}if(this.check(A2g,l2g,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,A2g,l2g,o2g.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=! !0;return !"";}}v9V.H9P(3);y7p=v9V.j9P(0,"469099033");v9V.H9P(19);P7p=-v9V.j9P(2140901312,"800098458");q7p=2;for(var w7p=1;v9V.e0p(w7p.toString(),w7p.toString().length,"5274" >> 1543260768) !== y7p;w7p++){return ![];}if(v9V.e0p(q7p.toString(),q7p.toString().length,27266) !== P7p){return ! !{};}};f1S.Drawing.elliottwave.prototype.render=function(S2g){var a2g,D9g,X9g,Q9g,J9g,c9g,F9g,Z2g,K2g,m9g,z2g,r2g,K6g,g9g,d6g,i9g,f9g,N9g,W9g,E9g,d9g,U9g,P9g,k9g,w9g,b9g;v9V.E2V();a2g=this.stx.panels[this.panelName];if(!a2g){return;}D9g=this.stx;X9g=this.annotationPoints;Q9g=this.pattern?f1S.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();S2g.font=this.fontString;S2g.textAlign="center";S2g.textBaseline="middle";S2g.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(S2g);}this.lastFontString=this.fontString;J9g=this.getLineColor();S2g.fillStyle=S2g.strokeStyle=J9g;S2g.save();S2g.setLineDash(Q9g);c9g=this.dx;F9g=this.dy;Z2g=this.points;K2g=this.pts;m9g=!this.showLines && this.highlighted;z2g=Z2g.length;if(this.penDown && this.segment){r2g=this.trend * (z2g % 2 - 0.5) < 0;if(a2g.yAxis.flipped){r2g=!r2g;}this.drawDropZone(S2g,Z2g[z2g - 2][1],this.stx.priceFromPixel(a2g.yAxis[r2g?"top":"bottom"]),Z2g[z2g - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){K6g=parseInt(this.highlighted.substring("1" * 1,this.highlighted.length),10);r2g=this.trend * (K6g % 2 - 0.5) > 0;v9V.d9P(3);g9g=Z2g[v9V.P9P(1,K6g)];v9V.H9P(54);d6g=Z2g[v9V.j9P(369473088,"1",K6g)];i9g=K6g > 0?g9g[1]:d6g[1];if(d6g){i9g=Math[r2g?"max":"min"](i9g,d6g[1]);}if(a2g.yAxis.flipped){r2g=!r2g;}this.drawDropZone(S2g,i9g,this.stx.priceFromPixel(a2g.yAxis[r2g?"top":"bottom"]),g9g?g9g[0]:null,d6g?d6g[0]:null);}for(var v2g=0;v2g < z2g;v2g++){f9g=Z2g[v2g];N9g=D9g.pixelFromTick(f9g[0],a2g.chart);W9g=D9g.pixelFromValueAdjusted(a2g,f9g[0],f9g[1]);K2g[v2g]=[N9g,W9g];}v2g=0;if(this.showLines || m9g){S2g.beginPath();if(m9g){S2g.globalAlpha=0.3;}for(;v2g < K2g.length;v2g++){S2g.lineTo(K2g[v2g][0],K2g[v2g][1]);}S2g.stroke();v9V.H9P(26);v2g=v9V.j9P(2147483647,"0");}S2g.restore();for(;v2g < z2g;v2g++){E9g=v2g % 2?c9g:-c9g;d9g=v2g % 2?F9g:-F9g;E9g*=this.trend;d9g*=this.trend;if(a2g.yAxis.flipped){E9g*=-1;d9g*=-1;}U9g=K2g[v2g];P9g=U9g[2]=U9g[0] + E9g;k9g=U9g[3]=U9g[1] + d9g;w9g=this.enclosedRadius || 8;b9g=X9g[v2g];if(this.decoration === "parentheses"){v9V.d9P(45);b9g=v9V.j9P(")",b9g,(410.75,378.12) >= ("8530" - 0,1230)?"1.15e+3" | 40:+"909.72" === 2227?651.07:"(");}S2g.fillText(b9g,P9g,k9g);if(this.decoration === "enclosed"){S2g.beginPath();S2g.arc(P9g,k9g,w9g,+"0",2 * Math.PI,![]);S2g.stroke();}if(this.highlighted){S2g.save();this.littleCircle(S2g,this.pts[v2g][0],this.pts[v2g][1],this.highlighted === ((349,1089) !== (5572,"5070" >> 338193472)?"p":"U") + v2g);S2g.restore();}}};f1S.Drawing.elliottwave.prototype.reposition=function(h9g,M9g,s9g,n9g){var y6p,e9g,O9g,B9g,T9g,V9g,G9g;y6p="d";y6p+="r";y6p+="a";y6p+="g";v9V.i2V();if(!M9g){return;}e9g=this.stx.panels[this.panelName];O9g=M9g.tick - s9g;B9g=M9g.value - n9g;if(M9g.action === "move"){for(var R9g="0" * 1;M9g.points.length > R9g;R9g++){T9g=M9g.points[R9g];this.setPoint(R9g,T9g[0] - O9g,T9g[1] - B9g,e9g.chart);this.points[R9g]=[T9g[0] - O9g,T9g[+"1"] - B9g];}}if(M9g.action === y6p){V9g=M9g.point;G9g=this.points;G9g[V9g]=[s9g,n9g];if(this.check(s9g,n9g,V9g)){this.setPoint(V9g,s9g,n9g,e9g.chart);;};}this.render(h9g);};f1S.Drawing.elliottwave.prototype.intersected=function(C9g,L9g,x9g){var M2p,N2p,c2p,p9g,j9g;if(!this.p0 || !this.p1){return null;}M2p=646928882;v9V.E2V();N2p=-1570584159;c2p=2;for(var P2p=1;v9V.f0p(P2p.toString(),P2p.toString().length,57709) !== M2p;P2p++){c2p+=2;}if(v9V.e0p(c2p.toString(),c2p.toString().length,60209) !== N2p){}for(var I9g=0;this.points.length > I9g;I9g++){j9g=this.points[I9g];if(this.pointIntersection(j9g[0],j9g[1],x9g)){v9V.d9P(1);this.highlighted=v9V.j9P(I9g,"p");return {action:"drag",point:I9g,tick:C9g,value:L9g};}if(this.points[I9g + 1] && this.lineIntersection(C9g,L9g,x9g,"segment",j9g,this.points[I9g + 1])){this.highlighted=! ![];p9g={action:"move",points:f1S.clone(this.points),tick:C9g,value:L9g};}}return p9g;};f1S.Drawing.elliottwave.prototype.measure=function(){var P6p,Y9g,q9g,t9g,H9g;v9V.E2V();if(this.points.length >= 2){P6p=".mSticky";P6p+="Interi";P6p+="or";Y9g=this.points;this.stx.setMeasure(Y9g[0][1],Y9g[Y9g.length - 1][1],Y9g[0][0],Y9g[Y9g.length - 1][+"0"],! !{});q9g=this.stx.controls.mSticky;t9g=q9g && q9g.querySelector(P6p);if(t9g){H9g=[];H9g.push(f1S.capitalize("Elliott Wave"));if(this.getYValue){H9g.push(this.field || this.stx.defaultPlotField || "Close");}H9g.push(t9g.innerHTML);t9g.innerHTML=H9g.join("<br>");}}};f1S.Drawing.printProjection=function(y9g,c0A,A9g){var o9g,u9g,f0A,r9g,E0A,Z9g,d0A,K9g,a9g,g0A,v9g,b0A,i0A,U0A,l9g,D0A;v9V.i2V();o9g=c0A.arr;if(o9g.length > 1){u9g=o9g[0][0];f0A=Math.round(y9g.chart.maxTicks * 0.75);for(var S9g=1;S9g < o9g.length;S9g++){v9V.d9P(3);r9g=o9g[v9V.P9P(1,S9g)][0];E0A=o9g[S9g][0];Z9g=f1S.strToDateTime(r9g);d0A=f1S.strToDateTime(E0A).getTime();K9g=y9g.standardMarketIterator(Z9g);a9g=0;while(Z9g.getTime() < d0A){Z9g=K9g.next();a9g+=1;}g0A=f1S.strToDateTime(r9g).getTime();if(g0A > f1S.strToDateTime(A9g[A9g.length - ("1" & 2147483647)].Date).getTime()){v9g=A9g.length - 1;a9g+=+"1";}else {for(v9g=A9g.length - +"1";v9g >= 0;v9g--){if(g0A <= f1S.strToDateTime(A9g[v9g].Date).getTime())break;}}b0A={x0:0,x1:a9g,y0:A9g[v9g].Close,y1:o9g[S9g][1]};u9g=f1S.strToDateTime(r9g);K9g=y9g.standardMarketIterator(u9g);i0A=![];for(var z9g=0;z9g <= a9g;z9g++){if(!i0A){i0A=!0;}else {u9g=K9g.next();}if(u9g.getTime() <= A9g[A9g.length - 1].DT.getTime())continue;U0A=f1S.yIntersection(b0A,z9g);if(!U0A){U0A=+"0";}l9g=Math.round(U0A * 10000) / 10000;if(l9g === 0){l9g=o9g[S9g][1];}D0A={Date:f1S.yyyymmddhhmmssmmm(u9g),DT:u9g,Open:l9g,Close:l9g,High:l9g,Low:l9g,Volume:0,Adj_Close:l9g,Split_Close:l9g,projection:! ![]};if(y9g.layout.interval == "minute")if(f0A-- < 0)break;A9g[A9g.length]=D0A;}}}};}};g5K=m0A=>{d2XX.E2V();var F0A;F0A=typeof _CIQ !== "undefined"?_CIQ:m0A.CIQ;if(!F0A.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {F0A.formatEquation=function(W0A){var g5V=d2XX;var X0A,J0A,P0A,Q0A,k0A,h1p,x1p,D1p;X0A="";J0A=[];P0A="";Q0A=!{};g5V.E2V();for(var N0A=1;N0A < W0A.length;N0A++){k0A=W0A[N0A].toUpperCase();if(k0A == ((9790,4843) <= (+"1610",7318)?"[":448.24 <= 278.12?(! ![],"h"):(5.71,7071) <= "5457" >> 471945472?(8.07e+3,6.15e+3):("7.16e+3" - 0,!{})) && !Q0A){Q0A=! !{};}else if(k0A == ((6357,"4397" << 982454784) >= (3500,517.27)?"]":"j") && Q0A){Q0A=![];if(P0A !== ""){J0A.push(P0A);g5V.d9P(45);X0A+=g5V.j9P(1913 !== 3136?"]":(344,5210) == "253.34" * 1?!{}:+"1290" === (591.56,"4166" >> 215551584)?1.47e+3:+"5.10e+3",P0A,"421" >> 1263007968 !== 8045?"[":(0x24d9,580.27));}P0A="";}else if(Q0A){P0A+=k0A;}else if(k0A == ((623.04,+"8472") == (6450,188.19)?4.65e+3:"+") || k0A == "-" || k0A == ((9010,9325) !== 786.33?(8128,+"808.56") > (6096,"9180" | 580)?("V",129):"*":(! !0,"N")) || k0A == (("7300" >> 1740613440,55) != (334.52,319.76)?682 < 5550?3324 >= (2795,7460)?0x72:"/":0x205e:2.44e+3) || k0A == ((807,172.73) === +"476"?(0x987,159.05):97 !== (3460,592.97)?":":!"1") || k0A == (+"8776" !== 878.14?"%":! ![]) || k0A == "(" || k0A == (("5290" * 1,1144) > 3740?5.18e+3:5460 >= (1915,"492" | 64)?")":7355 <= 4600?630.24:"824.36" * 1)){if(P0A !== "" && isNaN(P0A)){J0A.push(P0A);g5V.d9P(45);X0A+=g5V.j9P("]",P0A,7522 >= 9748?0x277:(4017,5960) == (7110,77.66)?!0:(2188,362.25) >= (6665,4120)?(751.28,"b"):"[");}else {X0A+=P0A;}if(k0A == ((1740,540.13) != ("205.09" * 1,620)?625 > +"7622"?0x18cd:3640 != "1542" * 1?":":"K":! ![])){k0A="/";}X0A+=k0A;P0A="";}else if(k0A != ((+"592.05",5972) !== (8936,271)?" ":(242.36,3941) < "904.68" * 1?(7.67e+3,0xb9c):"Z")){P0A+=k0A;}}if(P0A !== "" && isNaN(P0A)){J0A.push(P0A);g5V.d9P(45);X0A+=g5V.j9P((8650,6800) < 2710?(0x1885,! ![]):"3710" * 1 >= (784.7,600)?+"779.01" != (+"1070",692.19)?"]":(0x1bb9,2.79e+3):(358.23,! ![]),P0A,("115.6" * 1,817) != (911.42,7550)?8020 <= 3750?(9.14e+3,596.24):"[":(2.19e+3,82.49));}else {X0A+=P0A;}h1p=+"229776342";x1p=-630367003;D1p=2;for(var m1p=1;g5V.e0p(m1p.toString(),m1p.toString().length,55696) !== h1p;m1p++){return {equation:X0A,symbols:J0A};}if(g5V.f0p(D1p.toString(),D1p.toString().length,+"58822") !== x1p){return {equation:X0A,symbols:J0A};}};F0A.fetchEquationChart=function(w0A,e0A){var T0A,s0A,n0A,V0A,R0A;T0A=F0A.formatEquation(w0A.symbol);s0A=T0A.symbols;n0A=[];V0A=w0A.stx;w0A.stx=null;for(var M0A=0;M0A < s0A.length;M0A++){R0A=F0A.shallowClone(w0A);R0A.stx=V0A;R0A.symbol=s0A[M0A];R0A.symbolObject={symbol:s0A[M0A]};n0A.push(R0A);}w0A.stx=V0A;V0A.quoteDriver.multiFetch(n0A,function(C0A){var I0A,O0A,B0A,G0A,L0A;I0A={};w0A.loadMoreReplace=! !"1";O0A={charge:+"0"};for(var h0A=0;h0A < C0A.length;h0A++){B0A=C0A[h0A];if(B0A.dataCallback.error){e0A({error:B0A.dataCallback.error});return;}I0A[B0A.params.symbol]=B0A.dataCallback.quotes;w0A.loadMoreReplace=w0A.loadMoreReplace && B0A.params.loadMoreReplace;w0A.moreToLoad=w0A.moreToLoad || B0A.dataCallback.moreAvailable;G0A=B0A.dataCallback.attribution;if(G0A){if(G0A.charge){O0A.charge+=G0A.charge;}O0A.source=G0A.source;if(O0A.exchange === undefined){O0A.exchange=G0A.exchange;}else if(O0A.exchange != G0A.exchange){O0A.exchange="";};}}if(n0A.length || !(w0A.loadMore || w0A.update)){try{L0A=F0A.computeEquationChart(T0A.equation,I0A);e0A({quotes:L0A,moreAvailable:w0A.moreToLoad,attribution:O0A});}catch(x0A){var q6p,j0A;q6p="In";q6p+="valid equatio";q6p+="n:";q6p+=" ";j0A={error:q6p + T0A.equation};if(x0A.name && x0A.name == "NoException"){j0A.suppressAlert=! !"1";}e0A(j0A);}}});};}};i5K=Y0A=>{var p0A;p0A=typeof _CIQ !== "undefined"?_CIQ:Y0A.CIQ;d2XX.E2V();if(!p0A.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {p0A.ChartEngine.prototype.removeDOMMarker=function(H0A){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");p0A.Marker.Performance.prototype.removeDOMMarker.call(H0A.params.node,H0A);};p0A.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");d2XX.E2V();p0A.Marker.Performance.drawMarkers(this);};p0A.ChartEngine.prototype.calculateMarkerStyles=function(t0A,q0A){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");p0A.Marker.Performance.calculateMarkerStyles(this,t0A,q0A);};p0A.ChartEngine.prototype.drawCircleMarker=function(A0A,l0A,o0A){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");d2XX.E2V();p0A.Marker.Performance.drawCircleMarker(A0A,l0A,o0A);};p0A.ChartEngine.prototype.drawSquareMarker=function(u0A,S0A,v0A){d2XX.E2V();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");p0A.Marker.Performance.drawSquareMarker(u0A,S0A,v0A);};p0A.ChartEngine.prototype.drawCalloutMarker=function(a0A,y0A,r0A){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");p0A.Marker.Performance.drawCalloutMarker(a0A,y0A,r0A);};p0A.ChartEngine.prototype.drawMarkerStem=function(Z0A,K0A,z0A){d2XX.i2V();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");p0A.Marker.Performance.drawMarkerStem(Z0A,K0A,z0A);};p0A.ChartEngine.prototype.positionDOMMarkers=function(){var Z6p;Z6p="CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a ";d2XX.i2V();Z6p+="future release\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(Z6p);p0A.Marker.Performance.drawMarkers(this);};p0A.Marker.Performance=function(i1A){var F6p,B6p,p6p,I6p,w6p,g1A,U1A,E1A,b1A,f1A,d1A,D1A,k6p,c1A;F6p=".";F6p+="stx-";F6p+="m";F6p+="arker";B6p="<div class=\"st";B6p+="x-stem\"";B6p+="></div>";p6p="<";p6p+="/";p6p+="div";p6p+=">";I6p="</";I6p+="d";I6p+="iv";I6p+=">";w6p="<div class=\"stx";w6p+="-mark";w6p+="er-content\">";this.params={displayCategory:!"",displayStem:! ![],invert:![],story:"",headline:""};p0A.extend(this.params,i1A);g1A=this.template=document.createElement("TEMPLATE");d2XX.H9P(55);g1A.innerHTML=d2XX.j9P("</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-visual">',B6p,p6p,I6p,w6p,'<div class="stx-marker highlight">');U1A=this.template.content.cloneNode(!0);E1A=U1A.querySelector(F6p,g1A);E1A.classList.add(i1A.type);E1A.classList.add(i1A.category);b1A=U1A.querySelector(".stx-visual",g1A);f1A=U1A.querySelector(".stx-marker-expand");d1A=U1A.querySelector("h4",g1A);D1A=U1A.querySelector((5100,2590) >= 83.98?"p":+"6720" !== (8032,"569.75" - 0)?(0xb68,!"1"):(0x3b4,0xdf),g1A);d1A.innerText=this.params.headline;D1A.innerText=this.params.story;this.hasText=! !i1A.headline || ! !i1A.story;this.deferAttach=!0;d2XX.i2V();this.node=U1A.firstChild;this.node.params=this.params;this.visual=b1A;this.expand=f1A;if(i1A.type === "callout"){k6p=".stx-";k6p+="marker-content";c1A=f1A.removeChild(d1A);U1A.querySelector(k6p,g1A).insertBefore(c1A,f1A);}};p0A.inheritsFrom(p0A.Marker.Performance,p0A.Marker.NodeCreator,! !0);p0A.Marker.Performance.consolidateExpanded=function(J1A){var F1A,m1A,X1A,n6p,k1A,Q1A;F1A=J1A.markerHelper.highlighted;if(!F1A.length){return;}m1A=F1A[F1A.length - 1];X1A=m1A.params.node;if(!m1A.consolidated){m1A.consolidated=[];}function N1A(R1A){var w1A,W1A,M1A;w1A=R1A.params.node;W1A=w1A.expand;if(!W1A){return "";}M1A=W1A.style.display !== "none"?W1A.innerHTML:"";return M1A;}for(var P1A=F1A.length - 2;P1A >= 0;P1A--){n6p="<consolidate";n6p+="d>";k1A=N1A(F1A[P1A]);d2XX.H9P(45);Q1A=d2XX.j9P("</consolidated>",k1A,n6p);if(k1A.length){X1A.expand.innerHTML+=Q1A;}}m1A.stxNodeCreator.quickCache(m1A);};p0A.Marker.Performance.reconstituteExpanded=function(V1A){var T1A,e1A,O1A,n1A;d2XX.i2V();T1A=V1A.markerHelper.highlighted;if(!T1A.length || !V1A.activeMarker){return;}T1A=[V1A.activeMarker];for(var s1A=T1A.length - 1;s1A >= 0;s1A--){e1A=T1A[s1A];O1A=e1A.params.node;n1A=O1A.expand;while(n1A.lastElementChild.nodeName === "CONSOLIDATED"){n1A.removeChild(n1A.lastElementChild);}}};p0A.Marker.Performance.drawMarkers=function(C1A){d2XX.E2V();var j1A,B1A,h1A,I1A,L1A,x1A;j1A=C1A.getMarkerArray("all");B1A=C1A.chart;for(var G1A="0" & 2147483647;G1A < j1A.length;G1A++){h1A=j1A[G1A];I1A=h1A.stxNodeCreator;L1A=B1A.dataSegment[0].tick;x1A=B1A.dataSegment[B1A.dataSegment.length - 1].tick;if(L1A <= h1A.tick <= x1A){if(I1A && I1A.drawMarker){I1A.drawMarker(h1A);}}}};p0A.Marker.Performance.calculateMarkerStyles=function(Y1A,H1A,A1A){var p1A,u6p,t1A,q1A;p1A=document.querySelector(".stx-marker-templates");if(!p1A){u6p="-";u6p+="10";u6p+="00";u6p+="px";p1A=document.createElement("DIV");p1A.style.visibility="hidden";p1A.style.left=u6p;document.body.append(p1A);}p1A.appendChild(H1A.node);t1A=getComputedStyle(H1A.stxNodeCreator.visual);d2XX.E2V();if(!Y1A.styles.stx_marker_stem){q1A=getComputedStyle(document.querySelector(".stx-stem",H1A.node));Y1A.styles.stx_marker_stem=Y1A.cloneStyle(q1A);}Y1A.styles[A1A]=Y1A.cloneStyle(t1A);p1A.removeChild(H1A.node);};p0A.Marker.Performance.drawCircleMarker=function(v1A,z1A,o1A){var n5V=d2XX;var Z1A,K1A,l1A,u1A,S1A,a1A,y1A,r1A,G6p,j6p;Z1A=v1A.params.stx;K1A=Z1A.chart;l1A=K1A.context;u1A=o1A.x;S1A=o1A.y;a1A=o1A.radius;y1A=o1A.label;r1A=o1A.color?o1A.color:z1A.backgroundColor;l1A.beginPath();l1A.setLineDash([]);l1A.lineWidth=1;l1A.fillStyle=r1A;l1A.strokeStyle=r1A;l1A.font="normal bold 12px Roboto, Helvetica, sans-serif";n5V.E2V();n5V.d9P(27);l1A.arc(u1A,S1A,a1A,n5V.j9P("0",820078976),2 * Math.PI,![]);l1A.fill();l1A.stroke();l1A.closePath();if(y1A){G6p="w";G6p+="h";G6p+="it";G6p+="e";j6p="bl";j6p+="a";j6p+="c";j6p+="k";l1A.fillStyle=p0A.colorsEqual("white",l1A.fillStyle)?j6p:G6p;l1A.fillText(y1A.charAt(+"0").toUpperCase(),u1A - 4,S1A + +"1");}if(v1A.highlight || v1A.active){l1A.beginPath();n5V.d9P(56);l1A.arc(u1A,S1A,n5V.j9P("4",a1A,0),0,2 * Math.PI,!"1");l1A.stroke();l1A.closePath();}};p0A.Marker.Performance.drawSquareMarker=function(b2A,P2A,g2A){var A5V=d2XX;var F2A,m2A,U2A,E2A,d2A,i2A,D2A,c2A,f2A;F2A=b2A.params.stx;m2A=F2A.chart;U2A=m2A.context;E2A=g2A.x;d2A=g2A.y;i2A=g2A.half;D2A=g2A.label;c2A=g2A.color?g2A.color:P2A.backgroundColor;A5V.d9P(57);f2A=A5V.j9P(i2A,"2");U2A.beginPath();U2A.setLineDash([]);U2A.lineWidth=1;U2A.fillStyle=c2A;U2A.strokeStyle=c2A;U2A.font="normal bold 12px Roboto, Helvetica, sans-serif";A5V.H9P(3);U2A.rect(A5V.j9P(i2A,E2A),A5V.P9P(i2A,d2A),f2A,f2A);U2A.fill();if(b2A.highlight || b2A.active){A5V.d9P(58);U2A.rect(A5V.P9P(4,E2A,i2A),A5V.j9P(4,d2A,i2A,A5V.H9P(58)),A5V.j9P(8,f2A,A5V.H9P(1)),A5V.P9P(8,f2A,A5V.d9P(1)));}U2A.stroke();A5V.i2V();U2A.closePath();if(D2A){U2A.fillStyle=p0A.colorsEqual("white",U2A.fillStyle)?"black":"white";U2A.fillText(D2A.charAt(0).toUpperCase(),E2A - 4,d2A + 1);}};p0A.Marker.Performance.drawCalloutMarker=function(J2A,B2A,X2A){var V2A,e2A,k2A,Q2A,G2A,W2A,w2A,M2A,R2A,T2A,O2A,N2A,s2A,n2A;V2A=J2A.params.stx;e2A=V2A.chart;k2A=e2A.context;Q2A=J2A.params;G2A=X2A.x;W2A=X2A.y;w2A=X2A.half;M2A=X2A.midWidth;R2A=X2A.headline;T2A=X2A.color?X2A.color:B2A.backgroundColor;O2A=w2A * 2 || 25;N2A=Math.round(k2A.measureText(R2A).width);s2A=M2A?M2A * 2:N2A + 8;k2A.beginPath();k2A.setLineDash([]);k2A.lineWidth=1;k2A.fillStyle=T2A;k2A.strokeStyle=T2A;k2A.font="normal bold 12px Roboto, Helvetica, sans-serif";k2A.rect(Q2A.box.x0,Q2A.box.y0,s2A,O2A);k2A.fill();k2A.stroke();k2A.closePath();k2A.beginPath();k2A.fillStyle=J2A.highlight || J2A.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";d2XX.H9P(59);n2A=d2XX.j9P(s2A,2,20,N2A);k2A.rect(Q2A.box.x0 + n2A,W2A - w2A,N2A + 40,22);k2A.fill();k2A.stroke();k2A.closePath();k2A.fillStyle="black";k2A.fillText(R2A,Q2A.box.x0 + n2A + 10,W2A);};p0A.Marker.Performance.drawMarkerStem=function(I2A,x2A,j2A){var p2A,Y2A,h2A,C2A,q2A,L2A,H2A,t2A;p2A=I2A.params.stx;Y2A=p2A.chart;h2A=Y2A.context;C2A=j2A.x;q2A=j2A.y;h2A.beginPath();d2XX.E2V();h2A.strokeStyle=x2A.borderLeftColor;h2A.setLineDash([1,1]);L2A=p0A.stripPX(x2A.height);H2A=j2A.invert?I2A.params.box.y0:I2A.params.box.y1;t2A=j2A.invert?I2A.params.box.y0 - L2A:I2A.params.box.y1 + L2A;h2A.moveTo(C2A,H2A);h2A.lineTo(C2A,t2A);h2A.stroke();h2A.closePath();};p0A.Marker.Performance.prototype.drawMarker=function(A2A){var x5V=d2XX;var r6p,X6p,z2A,o2A,b3A,D3A,f3A,u2A,y2A,r2A,c3A,E3A,U3A,d3A,g3A,S2A,i3A,l2A,Z2A,K2A,F3A,m3A,v2A,a2A,C6p,d6p;r6p="squ";r6p+="a";r6p+="r";r6p+="e";X6p="stx_marker";X6p+="_";z2A=A2A.params;o2A=A2A.params.stx;if(!o2A){return;}b3A=o2A.chart;D3A=b3A.dataSegment;if(!D3A.length){return;}f3A=o2A.panels[A2A.params.panelName];u2A=A2A.stxNodeCreator.params;y2A=u2A.type;r2A=u2A.category;c3A=u2A.headline;E3A=u2A.displayCategory;U3A=u2A.color;d3A=u2A.invert;x5V.H9P(60);g3A=x5V.P9P(r2A,y2A,X6p,(851.56,858.51) === (+"7099",643.2)?! !1:"_");if(!o2A.styles[g3A]){p0A.Marker.Performance.calculateMarkerStyles(o2A,A2A,g3A);}S2A=A2A.style=o2A.styles[g3A];i3A=o2A.styles.stx_marker_stem;l2A=parseInt(S2A.height,10) / 2;Z2A=parseInt(S2A.width,10) / 2;K2A=u2A.displayStem?parseInt(i3A.height,10) + parseInt(i3A.marginBottom,10):+"0";F3A=K2A + parseInt(S2A.height,10);m3A=K2A?K2A + l2A:0;v2A=o2A.pixelFromDate(z2A.x);a2A=z2A.node.calculateYPosition({marker:A2A,panel:f3A,height:F3A,half:l2A,offset:m3A,inverted:d3A});if(!A2A.tick && A2A.tick !== 0){return;}z2A.box={x0:v2A - (Z2A || l2A),y0:a2A - l2A,x1:v2A + (Z2A || l2A),y1:a2A + l2A,midY:l2A,midX:Z2A || l2A,stemHeight:K2A};if(!E3A){r2A=E3A;}o2A.startClip(f3A.name);if(y2A === "circle"){p0A.Marker.Performance.drawCircleMarker(A2A,S2A,{x:v2A,y:a2A,radius:l2A,label:r2A,color:U3A});}else if(y2A === r6p){p0A.Marker.Performance.drawSquareMarker(A2A,S2A,{x:v2A,y:a2A,half:l2A,label:r2A,color:U3A});}else if(y2A === "callout"){p0A.Marker.Performance.drawCalloutMarker(A2A,S2A,{x:v2A,y:a2A,half:l2A,midWidth:Z2A,headline:c3A,color:U3A});}else {C6p=" is unsupported with canvas markers!\nSuppo";C6p+="rted Styles are Square, Circle, and Callout.";d6p="Marker ";d6p+="type:";d6p+=" ";x5V.d9P(45);console.warn(x5V.P9P(C6p,y2A,d6p));}if(u2A.displayStem){p0A.Marker.Performance.drawMarkerStem(A2A,i3A,{x:v2A,y:a2A,invert:d3A});}o2A.endClip();if(A2A.attached){this.positionPopUpNode(A2A);}};p0A.Marker.Performance.prototype.positionPopUpNode=function(k3A){var Y6p,i6p,w3A,Q3A,P3A,M3A,N3A,X3A,R3A,e3A,O3A,B3A,G3A,T3A,J3A,V3A,s3A,W3A,n3A,h3A;Y6p="px) tra";Y6p+="nslat";Y6p+="eY(";i6p="tra";i6p+="nslateX(";if(!k3A.attached || !k3A.params.box){return;}w3A=k3A.params;Q3A=w3A.stx;P3A=w3A.box;M3A=k3A.params.node.expand;N3A=Q3A.chart.dataSet;X3A=Q3A.chart.dataSegment;if(k3A.tick){e3A=[N3A[X3A[0] && X3A[0].tick - 1],N3A[X3A["0" & 2147483647] && X3A[0].tick - ("2" << 826855040)]];O3A=Q3A.getFirstLastDataRecord(e3A.concat(X3A),"Date");B3A=[N3A[X3A[X3A.length - 1].tick + 1],N3A[X3A[X3A.length - 1].tick + 2]];G3A=Q3A.getFirstLastDataRecord(X3A.concat(B3A),"Date",! !{});R3A=O3A.DT <= N3A[k3A.tick].DT && N3A[k3A.tick].DT <= G3A.DT;}else {R3A=! !"";}if(!k3A.highlight && !k3A.active){R3A=!{};}M3A.style.visibility=R3A?"":"hidden";if(!R3A){return;}T3A=Q3A.panels[w3A.panelName];J3A=M3A.rects;V3A=J3A.height / +"2";W3A=k3A.node.params.infoOffset || +"0";if(k3A.node.params.infoOnLeft){s3A=P3A.x0 - J3A.width - W3A < T3A.left?P3A.x1 + W3A:P3A.x0 - J3A.width - W3A;}else {s3A=P3A.x0 + J3A.width > T3A.right?P3A.x0 - J3A.width - W3A:P3A.x1 + W3A;}s3A-=Q3A.chart.left;n3A=P3A.y0 - V3A >= T3A.top?P3A.y0 + P3A.midY - V3A:P3A.y0;if(!w3A.avoidFlush && P3A.y1 + P3A.stemHeight === T3A.yAxis.bottom && J3A.height > P3A.y1 - P3A.y0 + P3A.stemHeight){n3A=P3A.y1 - J3A.height + P3A.stemHeight;}n3A-=Q3A.chart.panel.top;h3A=i6p + Math.floor(s3A) + Y6p + Math.floor(n3A) + "px) translateZ(0)";M3A.style.transform=h3A;M3A.transform={translateX:s3A,translateY:n3A};};p0A.Marker.Performance.prototype.quickCache=function(C3A){d2XX.i2V();var L3A,I3A,j3A,x3A;L3A=C3A.params.node;I3A=L3A.expand;j3A=C3A.style;x3A=p0A.stripPX(j3A.marginLeft) + p0A.stripPX(j3A.marginRight) + p0A.stripPX(j3A.borderRight) + p0A.stripPX(j3A.borderLeft);I3A.rects=I3A.getBoundingClientRect();I3A.scrollBarWidth=I3A.rects.width - I3A.clientWidth - x3A;};p0A.Marker.Performance.prototype.calculateYPosition=function(l3A){var L6p,J6p,A3A,Y3A,S3A,o3A,q3A,v3A,H3A,a3A,y3A,t3A,u3A,r3A,p3A,Z3A,K3A;L6p="o";L6p+="n_";L6p+="candl";L6p+="e";J6p="abo";J6p+="ve_cand";J6p+="l";J6p+="e";A3A=l3A.marker;Y3A=l3A.panel;S3A=l3A.height;o3A=l3A.half;q3A=l3A.offset;v3A=l3A.inverted;H3A=A3A.params.stx;a3A=H3A.chart;y3A=H3A.chart.highLowBars;t3A=a3A.dataSet[A3A.tick];if(!t3A){return;}d2XX.i2V();u3A=y3A?t3A.High:t3A.Close;r3A=A3A.params.yPositioner;switch(r3A){case "value":if(A3A.params.y || A3A.params.y === 0){p3A=H3A.pixelFromPrice(A3A.params.y,Y3A) - S3A * 0.5 + o3A;}else {p3A=H3A.pixelFromPrice(u3A,Y3A) - q3A;}break;case J6p:p3A=H3A.pixelFromPrice(u3A,Y3A) - q3A;break;case "below_candle":p3A=H3A.pixelFromPrice(t3A.Low || u3A,Y3A);if(v3A && q3A){p3A+=q3A;}else {p3A+=o3A;}break;case L6p:(Z3A=t3A.High || t3A.Close,K3A=t3A.Low || t3A.Low === 0 || t3A.Close);p3A=H3A.pixelFromPrice((Z3A + K3A) / 2,Y3A) - S3A * 0.5 + o3A;break;case "top":p3A=H3A.pixelFromPrice(Y3A.yAxis.high,Y3A);if(v3A && q3A){p3A+=q3A;}else {p3A+=o3A;}break;case "bottom":p3A=H3A.pixelFromPrice(Y3A.yAxis.low,Y3A) - (q3A || o3A);break;default:break;}return p3A;};p0A.Marker.Performance.prototype.prepareForHolder=function(U4A){var z3A,g4A;z3A=this.expand;g4A=U4A.params.stx;z3A.classList.add(this.params.type);g4A.markerHelper.domMarkers.push(U4A);return z3A;};p0A.Marker.Performance.prototype.addToHolder=function(E4A){var f4A,i4A;f4A=this.expand;i4A=E4A.params.stx;p0A.Marker.Performance.reconstituteExpanded(i4A);p0A.Marker.Performance.consolidateExpanded(i4A);d2XX.E2V();this.quickCache(E4A);if(f4A.clickClosure){return;}f4A.addEventListener("mousedown",d4A);f4A.addEventListener("touchstart",d4A);f4A.clickClosure=d4A;function d4A(b4A){i4A.activeMarker=E4A;i4A.activeMarker.click({cx:b4A.clientX,cy:b4A.clientY,panel:i4A.currentPanel});b4A.stopPropagation();}};p0A.Marker.Performance.prototype.remove=function(c4A){var D4A,m4A,P4A,F4A;D4A=c4A.params.stx;if(!D4A){return;}if(!D4A.markerHelper.domMarkers){return;}m4A=D4A.markerHelper.domMarkers.indexOf(c4A);if(m4A != -1){D4A.markerHelper.domMarkers.splice(m4A,1);}if(c4A.attached){P4A=D4A.panels[c4A.params.panelName];F4A=c4A.params.node.expand;if(F4A.parentNode === P4A.subholder){P4A.subholder.removeChild(F4A);}F4A.removeEventListener("click",F4A.clickClosure);}};p0A.Marker.Performance.prototype.click=function(N4A){var Q4A,W4A,X4A;if(!this.hasText){return;}if(typeof arguments[+"0"] === "number"){N4A={cx:arguments["0" | 0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:J4A, cy:w4A, marker:k4A, panel:M4A}=N4A;Q4A=k4A.params.stx;if(k4A.attached){X4A=this.expand;if(X4A.rects.width - X4A.scrollBarWidth + X4A.transform.translateX < Q4A.backOutX(J4A) && Q4A.backOutX(J4A) < X4A.rects.width + X4A.transform.translateX){return;}this.remove(k4A);}else {Q4A.addToHolder(k4A);W4A=! !{};}k4A.attached=!k4A.attached;k4A.active=!k4A.active;if(W4A){k4A.stxNodeCreator.positionPopUpNode(k4A);}};}};f5K=T4A=>{var R4A;R4A=typeof _CIQ !== "undefined"?_CIQ:T4A.CIQ;R4A.Renderer.OHLC.requestNew=function(j4A,s4A){var n4A,e4A,O4A,B4A,G4A,h4A,V6p,v6p,I4A,S6p,l6p;n4A=null;e4A=s4A.hlc;O4A=s4A.colored;B4A=s4A.hollow;d2XX.E2V();G4A=s4A.volume;h4A=s4A.histogram;for(var V4A=0;V4A < j4A.length;V4A++){V6p="histogr";V6p+="am";v6p="colo";v6p+="red";I4A=j4A[V4A];switch(I4A){case "bar":case "candle":n4A=I4A;break;case "volume":G4A=! !1;break;case "hollow":B4A=! ![];break;case v6p:O4A=! ![];break;case V6p:S6p="ca";S6p+="n";S6p+="d";S6p+="le";h4A=! !"1";n4A=S6p;break;case "hlc":l6p="b";l6p+="ar";e4A=! !"1";n4A=l6p;break;default:return null;}}if(n4A === null){return null;}return new R4A.Renderer.OHLC({params:R4A.extend(s4A,{type:n4A,hlc:e4A,colored:O4A,hollow:B4A,volume:G4A,histogram:h4A})});};R4A.Renderer.OHLC.getChartParts=function(q4A,t4A){var Z3p,q3p,P3p,y3p,c3p,N3p,M3p,K3p,W3p,T3p,z3p,g3p,H3p,b3p,R3p,Q3p,m3p,U3p,D3p,x3p,h3p,o3p,a3p,O3p,E6p,f6p,e6p,t6p,s6p,A6p,x4A,p4A,Y4A,C4A,L4A,H4A;Z3p="border_col";Z3p+="or_even";q3p="fill_";q3p+="c";q3p+="o";d2XX.E2V();q3p+="lor_up";P3p="ca";P3p+="nd";P3p+="l";P3p+="e";y3p="fi";y3p+="ll_color_e";y3p+="ven";c3p="hol";c3p+="l";c3p+="o";c3p+="w";N3p="ca";N3p+="n";N3p+="dle";M3p="fi";M3p+="ll";M3p+="_color_up";K3p="s";K3p+="tx_h";K3p+="ollow_candle_";K3p+="even";W3p="h";W3p+="o";W3p+="ll";W3p+="ow";T3p="stx_holl";T3p+="ow_c";T3p+="andle_do";T3p+="wn";z3p="ho";z3p+="ll";z3p+="ow";g3p="s";g3p+="tx_holl";g3p+="ow_candl";g3p+="e_up";H3p="b";H3p+="order_c";H3p+="o";H3p+="lor_down";b3p="st";b3p+="x_candle_down";R3p="can";R3p+="d";R3p+="le";Q3p="cand";Q3p+="le";m3p="stx_candle_shad";m3p+="ow_even";U3p="s";U3p+="hado";U3p+="w";D3p="border_color_dow";D3p+="n";x3p="sh";x3p+="a";x3p+="dow";h3p="shad";h3p+="o";h3p+="w";o3p="ca";o3p+="n";o3p+="dle";a3p="s";a3p+="tx";a3p+="_candle_shad";a3p+="ow";O3p="cand";O3p+="le";E6p="bord";E6p+="er_co";E6p+="l";E6p+="or_even";f6p="border_";f6p+="c";f6p+="olor_up";e6p="st";e6p+="x_bar_c";e6p+="ha";e6p+="rt";t6p="ba";t6p+="r";s6p="fill_colo";s6p+="r";s6p+="_up";A6p="histog";A6p+="ra";A6p+="m";x4A=+"1";p4A=2;Y4A=4;C4A=8;L4A=16;H4A=32;return [{type:"histogram",drawType:A6p,style:"stx_histogram_up",condition:C4A,fill:s6p,border:"border_color_up",useColorInMap:! ![],useBorderStyleProp:! !"1"},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:L4A,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !"1",useBorderStyleProp:! !1},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:H4A,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !{},useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:t6p,drawType:"bar",style:q4A || e6p,border:"border_color",useColorInMap:! !{}},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:t4A?C4A:x4A,border:f6p,useColorInMap:! ![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:t4A?L4A:p4A,border:"border_color_down",useColorInMap:!""},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:t4A?H4A:Y4A,border:E6p,skipIfPass:! !1,useColorInMap:! !{}},{type:O3p,drawType:"shadow",style:a3p,border:"border_color_up"},{type:o3p,drawType:h3p,style:"stx_candle_shadow_up",condition:C4A,border:"border_color_up"},{type:"candle",drawType:x3p,style:"stx_candle_shadow_down",condition:L4A,border:D3p},{type:"candle",drawType:U3p,style:m3p,condition:H4A,border:"border_color_even",skipIfPass:! !"1"},{type:Q3p,drawType:"candle",style:"stx_candle_up",condition:C4A,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:! !1},{type:R3p,drawType:"candle",style:b3p,condition:L4A,fill:"fill_color_down",border:H3p,useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"hollow",drawType:"shadow",style:g3p,condition:x4A,border:"border_color_up"},{type:z3p,drawType:"shadow",style:T3p,condition:p4A,border:"border_color_down"},{type:W3p,drawType:"shadow",style:K3p,condition:Y4A,border:"border_color_even",skipIfPass:! !1},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:x4A | L4A,fill:M3p,border:"border_color_up",useColorInMap:! !{}},{type:"hollow",drawType:N3p,style:"stx_hollow_candle_down",condition:p4A | L4A,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{}},{type:c3p,drawType:"candle",style:"stx_hollow_candle_even",condition:Y4A | L4A,fill:y3p,border:"border_color_even",skipIfPass:! !{},useColorInMap:! !1},{type:"hollow",drawType:P3p,style:"stx_hollow_candle_up",condition:x4A | C4A,fill:q3p,border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:p4A | C4A,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:Y4A | C4A,fill:"fill_color_even",border:Z3p}];;};R4A.Renderer.Bars=function(l4A){var A4A;this.construct(l4A);A4A=this.params;d2XX.i2V();A4A.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];A4A.hlc=A4A.volume=A4A.hollow=A4A.histogram=! !0;};R4A.inheritsFrom(R4A.Renderer.Bars,R4A.Renderer.OHLC,! !"");R4A.Renderer.HLC=function(u4A){var o4A;this.construct(u4A);o4A=this.params;o4A.type="bar";o4A.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};d2XX.E2V();o4A.volume=o4A.hollow=o4A.histogram=!1;};R4A.inheritsFrom(R4A.Renderer.HLC,R4A.Renderer.Bars,![]);R4A.Renderer.Shading=function(S4A){var w3p;w3p="rangechan";w3p+="ne";d2XX.E2V();w3p+="l";this.construct(S4A);this.beenSetup=! !0;this.errTimeout=null;this.params.useChartLegend=! !0;this.shading=[];if(this.params.type == w3p){this.highLowBars=!"";}};R4A.inheritsFrom(R4A.Renderer.Shading,R4A.Renderer.Lines,![]);R4A.Renderer.Shading.requestNew=function(y4A,Z4A){var v4A,r4A;v4A=null;for(var a4A=0;a4A < y4A.length;a4A++){r4A=y4A[a4A];if(r4A == "rangechannel"){v4A="rangechannel";}}if(v4A === null){return null;}return new R4A.Renderer.Shading({params:R4A.extend(Z4A,{type:v4A})});};R4A.Renderer.Shading.prototype.setShading=function(K4A){if(K4A.constructor != Array){K4A=[K4A];}this.shading=K4A;};R4A.Renderer.Shading.prototype.draw=function(){var X9V=d2XX;var F3p,g5A,i5A,F1p,k1p,n1p,B3p,p3p,I3p,k5A,E5A,X5A,D5A,Q5A,f5A,U5A,c5A,k3p,F5A,J5A,j3p,u3p,n3p,z4A,b5A,m5A,P5A,d5A;function N5A(M5A){var W5A,R5A,w5A;W5A=f5A[M5A];if(W5A){R5A=W5A.parameters.field;w5A=W5A.parameters.subField;X9V.d9P(1);return X9V.P9P(w5A?(+"8386" > 932.19?".":(712,918.08) <= 8750?7440 <= (169.2,2829)?! !"1":(+"13.19",8.52e+3):(8.60e+3,811.76)) + w5A:"",R5A);}return M5A;}X9V.E2V();F3p="ran";F3p+="gecha";F3p+="n";F3p+="nel";g5A=this.stx;i5A=g5A.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){F1p=-608913028;k1p=-335447444;n1p=2;for(var j1p=+"1";X9V.e0p(j1p.toString(),j1p.toString().length,28413) !== F1p;j1p++){if(this.seriesParams.length < 6){this.removeSeries(this.seriesParams[+"9"].id);}n1p+=2;}if(X9V.e0p(n1p.toString(),n1p.toString().length,46252) !== k1p){if(this.seriesParams.length < ("6" ^ 0)){this.removeSeries(this.seriesParams[9].id);}}if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams["2" - 0].id);}}else {B3p="Sh";B3p+="adin";B3p+="g";p3p="Hig";p3p+="h";I3p="au";I3p+="t";I3p+="o";this.beenSetup=! ![];this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;k5A=this.seriesParams["0" ^ 0].color || I3p;E5A=this.seriesParams[0].symbol;X5A="";if(E5A){X9V.d9P(1);X5A=X9V.j9P(("69.03" - 0,9805) >= (1275,13.86)?(5481,556.48) < 7910?".":809.21 > (2100,"153" - 0)?![]:![]:!0,E5A);}this.removeAllSeries(! !{});D5A=this.params.name;g5A.addSeries(null,{symbol:E5A,loadData:! !E5A,field:p3p,renderer:"Shading",name:D5A,style:"stx_line_up",display:this.params.display,shareYAxis:! !1});g5A.addSeries(null,{symbol:E5A,loadData:! !E5A,field:"Low",renderer:B3p,name:D5A,style:"stx_line_down",display:this.params.display,shareYAxis:! !"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:k5A});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");Q5A=this;this.errTimeout=setTimeout(function(){Q5A.errTimeout=null;},10000);}}f5A={};for(U5A=0;U5A < this.seriesParams.length;U5A++){c5A={};if(i5A.series[this.seriesParams[U5A].id]){c5A=R4A.clone(i5A.series[this.seriesParams[U5A].id].parameters);}f5A[this.seriesParams[U5A].id]={parameters:R4A.extend(R4A.extend(c5A,this.params),this.seriesParams[U5A]),yValueCache:this.caches[this.seriesParams[U5A].id]};}g5A.drawSeries(i5A,f5A,this.params.yAxis,this);if(i5A.legend && this.params.type == F3p){k3p="s";k3p+="tx_";k3p+="l";k3p+="ine_up";if(!i5A.legend.colorMap){i5A.legend.colorMap={};}F5A=this.params.display;J5A=[g5A.getCanvasColor(k3p),g5A.getCanvasColor("stx_line_down")];i5A.legend.colorMap[F5A]={color:J5A,display:F5A,isBase:this == g5A.mainSeriesRenderer};;}for(U5A in f5A){this.caches[U5A]=f5A[U5A].yValueCache;}for(U5A=0;U5A < this.shading.length;U5A++){j3p="C";j3p+="l";j3p+="o";j3p+="se";u3p="C";u3p+="l";u3p+="ose";n3p="Clo";n3p+="s";n3p+="e";z4A=this.shading[U5A];b5A=z4A.color;if(z4A.color == "auto"){b5A=g5A.defaultColor;}if(!z4A.primary){z4A.primary=n3p;}if(!z4A.secondary && this.seriesParams[0]){z4A.secondary=this.seriesParams["0" - 0].field;}if(!z4A.secondary)continue;else if(!f5A[z4A.primary] && z4A.primary != "Close")continue;else if(!f5A[z4A.secondary])continue;else if(z4A.primary == u3p && this.params.yAxis && this.params.yAxis != i5A.yAxis)continue;m5A=N5A(z4A.primary).split(9033 >= (2941,789.12)?(6068,6430) !== 8380?".":! !"":! ![]);P5A=N5A(z4A.secondary).split((9911,972.45) < (445.65,675)?(0x767,6.77e+3):(9650,3640) > (8490,"6184" >> 536801408)?597.73:".");d5A={topBand:m5A[0],topSubBand:m5A[1],topColor:z4A.greater || b5A || g5A.containerColor,topAxis:this.params.yAxis,bottomBand:P5A[0],bottomSubBand:P5A[1],bottomColor:z4A.lesser || b5A || g5A.containerColor,bottomAxis:z4A.primary == j3p?null:this.params.yAxis,tension:this.params.tension || i5A.tension,opacity:0.1};if(!d5A.topColor && !d5A.bottomColor)continue;if(!this.params.highlight && g5A.highlightedDraggable){d5A.opacity*=0.3;}R4A.fillIntersecting(g5A,this.params.panel,d5A);}};R4A.Renderer.Histogram=function(T5A){var k8p,n8p,u8p;this.construct(T5A);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !{};if(this.params.yAxis){k8p=2077648936;n8p=1032563351;u8p=2;for(var G8p=1;d2XX.f0p(G8p.toString(),G8p.toString().length,76288) !== k8p;G8p++){this.params.bindToYAxis=! ![];u8p+=2;}if(d2XX.e0p(u8p.toString(),u8p.toString().length,92939) !== n8p){this.params.bindToYAxis=!1;}if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};R4A.inheritsFrom(R4A.Renderer.Histogram,R4A.Renderer,![]);R4A.Renderer.Histogram.prototype.adjustYAxis=function(){var s5A;s5A=this.params.yAxis;d2XX.i2V();if(!s5A || s5A.baseline){return;}s5A.min=0;s5A.highValue/=this.params.heightPercentage || 1;};R4A.Renderer.Histogram.prototype.draw=function(){var G3p,n5A,V5A,r3p,X3p,e5A,O5A;G3p="sta";G3p+="cked";n5A=R4A.clone(this.params);n5A.type=n5A.subtype;this.useSum=n5A.subtype == G3p;if(!n5A.yAxis || n5A.yAxis == this.stx.chart.yAxis){n5A.bindToYAxis=!0;}this.stx.drawHistogram(n5A,this.seriesParams);V5A=n5A.yAxis && n5A.yAxis.baseline;if(V5A && V5A.color){r3p="destinati";r3p+="on-ove";r3p+="r";X3p="l";X3p+="i";X3p+="n";X3p+="e";e5A=this.stx.panels[this.params.panel];O5A=this.stx.pixelFromPrice(V5A.value,e5A,this.params.yAxis) - 0.5;this.stx.plotLine({x0:e5A.left,x1:e5A.right,y0:O5A,y1:O5A,color:V5A.color,type:X3p,context:e5A.chart.context,confineToPanel:e5A,pattern:V5A.pattern || "solid",lineWidth:V5A.lineWidth || +"1",opacity:V5A.opacity || 0.8,globalCompositeOperation:r3p});}};R4A.Renderer.Histogram.prototype.getBasis=function(j5A,C5A,L5A){var h5A,d3p,I5A,B5A;h5A=0;if(j5A && this.useSum){for(var G5A=0;G5A < this.seriesParams.length;G5A++){d3p="C";d3p+="los";d3p+="e";I5A=this.seriesParams[G5A].field;if(I5A === C5A)break;B5A=j5A[I5A];if(B5A && typeof B5A === "object"){B5A=B5A[L5A || this.seriesParams[G5A].subField || this.stx.chart.defaultPlotField || d3p];}if(B5A){h5A+=B5A;}}}return h5A;};R4A.Renderer.Heatmap=function(x5A){d2XX.E2V();this.construct(x5A);this.params.type="heatmap";this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! ![];};R4A.inheritsFrom(R4A.Renderer.Heatmap,R4A.Renderer,! !0);R4A.Renderer.Heatmap.requestNew=function(H5A,q5A){var p5A,t5A;p5A=null;for(var Y5A=0;Y5A < H5A.length;Y5A++){t5A=H5A[Y5A];if(t5A == "heatmap"){p5A="heatmap";}}if(p5A === null){return null;}d2XX.i2V();return new R4A.Renderer.Heatmap({params:R4A.extend(q5A,{type:p5A})});};R4A.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(R4A.clone(this.params),this.seriesParams);};R4A.Renderer.Scatter=function(A5A){this.construct(A5A);this.standaloneBars=this.barsHaveWidth=!0;this.bounded=! ![];};R4A.inheritsFrom(R4A.Renderer.Scatter,R4A.Renderer.Lines,!1);d2XX.E2V();R4A.Renderer.Scatter.requestNew=function(u5A,v5A){var l5A,S5A;l5A=null;for(var o5A=0;o5A < u5A.length;o5A++){S5A=u5A[o5A];if(S5A == "scatterplot"){l5A="scatter";}}if(l5A === null){return null;}return new R4A.Renderer.Scatter({params:R4A.extend(v5A,{type:l5A})});};R4A.Renderer.Scatter.prototype.drawIndividualSeries=function(Z5A,y5A){d2XX.i2V();var r5A,a5A;r5A=this.stx.panels[y5A.panel] || Z5A.panel;a5A={colors:[]};if(this.stx.scatter){a5A=this.stx.scatter(r5A,y5A);}else {console.warn("Error, Scatter renderer requires customChart.js");}return a5A;};};E5K=z5A=>{var K5A;d2XX.E2V();K5A=typeof _CIQ !== "undefined"?_CIQ:z5A.CIQ;if(!K5A.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {K5A.Studies.calculateAccumulationDistribution=function(D6A,f6A){var b6A,C3p,U6A,i6A,E6A,d6A;b6A=f6A.chart.scrubbed;for(var g6A=f6A.startFrom;g6A < b6A.length;g6A++){C3p="Use";C3p+=" Volum";C3p+="e";if(!g6A)continue;U6A=b6A[g6A];if(U6A.futureTick)break;d2XX.H9P(3);i6A=b6A[d2XX.P9P(1,g6A)];E6A=0;if(U6A.Close > i6A.Close){E6A=U6A.Close - Math.min(U6A.Low,i6A.Close);}else if(U6A.Close < i6A.Close){E6A=U6A.Close - Math.max(U6A.High,i6A.Close);}if(f6A.inputs[C3p]){E6A*=U6A.Volume;}d6A=i6A["Result " + f6A.name];if(!d6A){d6A=0;}d6A+=E6A;if(!isNaN(U6A.Close)){U6A["Result " + f6A.name]=d6A;}}};K5A.Studies.studyLibrary=K5A.extend(K5A.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:K5A.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !""}}});}};d5K=F6A=>{var i3p,c6A,a5p,o5p,h5p,O03,E3p;i3p="u";i3p+="ndefi";i3p+="ned";c6A=typeof _CIQ !== i3p?_CIQ:F6A.CIQ;if(!c6A.Studies){console.error("adx feature requires first activating studies feature.");}else {c6A.Studies.calculateADX=function(B6A,m6A){var E5V=d2XX;var X6A,Q6A,J6A,M6A,R6A,T6A,s6A,P6A,v3p,L3p,J3p,N6A,W6A,Y3p,n6A,V6A,e6A,V3p,S3p,l3p,t3p,s3p,A3p,O6A;c6A.Studies.calculateStudyATR(B6A,m6A);X6A=m6A.chart.scrubbed;Q6A=m6A.days;J6A=parseInt(m6A.inputs["Smoothing Period"],+"10");if(!J6A && J6A !== 0){J6A=Q6A;}if(X6A.length < m6A.days + 1){m6A.error=! !1;return;}M6A=0;R6A=0;T6A=0;s6A=0;for(var k6A=Math.max(1,m6A.startFrom);k6A < X6A.length;k6A++){v3p="_";v3p+="s";v3p+="m";v3p+="TR ";L3p="_s";L3p+="m-DM";L3p+=" ";J3p="_sm+DM";J3p+=" ";P6A=X6A[k6A];N6A=Math.max(0,P6A.High - X6A[k6A - ("1" | 1)].High);W6A=Math.max(+"0",X6A[k6A - 1].Low - P6A.Low);if(N6A > W6A){W6A=0;}else if(W6A > N6A){N6A=0;}else {N6A=W6A=0;}if(k6A <= Q6A){R6A+=N6A;T6A+=W6A;M6A+=P6A["True Range " + m6A.name];}else {Y3p="_sm";Y3p+="+DM ";R6A=X6A[k6A - ("1" >> 352331104)][Y3p + m6A.name] * (Q6A - 1) / Q6A + N6A;T6A=X6A[k6A - 1]["_sm-DM " + m6A.name] * (Q6A - 1) / Q6A + W6A;M6A=X6A[k6A - 1]["_smTR " + m6A.name] * (Q6A - 1) / Q6A + P6A["True Range " + m6A.name];}P6A[J3p + m6A.name]=R6A;P6A[L3p + m6A.name]=T6A;P6A[v3p + m6A.name]=M6A;if(k6A < Q6A)continue;E5V.H9P(61);n6A=E5V.P9P(R6A,M6A,"100",0);E5V.d9P(62);V6A=E5V.j9P(100,M6A,T6A);e6A=100 * Math.abs(n6A - V6A) / (n6A + V6A);P6A["+DI " + m6A.name]=n6A;P6A["-DI " + m6A.name]=V6A;if(m6A.inputs.Series !== ! !0 && J6A){if(k6A < Q6A + J6A - 1){if(k6A == m6A.startFrom){for(var w6A=Q6A;w6A < m6A.startFrom;w6A++){V3p="-";V3p+="D";V3p+="I";V3p+=" ";s6A+=100 * Math.abs(X6A[w6A]["+DI " + m6A.name] - X6A[w6A][V3p + m6A.name]) / (X6A[w6A]["+DI " + m6A.name] + X6A[w6A]["-DI " + m6A.name]);}}s6A+=e6A;}else if(k6A == Q6A + J6A - ("1" ^ 0)){S3p="A";S3p+="D";S3p+="X";S3p+=" ";E5V.d9P(10);P6A[S3p + m6A.name]=E5V.j9P(s6A,J6A);}else {l3p="A";l3p+="D";l3p+="X";l3p+=" ";P6A["ADX " + m6A.name]=(X6A[k6A - 1][l3p + m6A.name] * (J6A - 1) + e6A) / J6A;}}if(m6A.inputs.Histogram){t3p="-DI";t3p+=" ";s3p="+";s3p+="D";s3p+="I ";A3p="+";A3p+="D";A3p+="I";A3p+=" ";O6A=m6A.name + "_hist";if(!P6A[A3p + m6A.name] && P6A["+DI " + m6A.name] !== 0)continue;if(!P6A["-DI " + m6A.name] && P6A["-DI " + m6A.name] !== 0)continue;P6A[O6A]=P6A[s3p + m6A.name] - P6A[t3p + m6A.name];if(m6A.inputs.Series === ! !0){P6A["+DI " + m6A.name]=null;P6A["-DI " + m6A.name]=null;}m6A.outputMap[O6A]="";}}};c6A.Studies.displayADX=function(h6A,G6A,x6A){var f3p,p6A,e3p,I6A,j6A,Y6A,H6A,C6A,L6A;f3p="Nothing";f3p+=" t";f3p+="o displa";f3p+="y";p6A=G6A.underlay?0.3:G6A.inputs.Series?+"0.4":1;if(G6A.inputs.Series && G6A.inputs.Shading){e3p="-";e3p+="D";e3p+="I";e3p+=" ";I6A="+DI " + G6A.name;j6A=e3p + G6A.name;Y6A=c6A.Studies.determineColor(G6A.outputs[G6A.outputMap[I6A]]);H6A=c6A.Studies.determineColor(G6A.outputs[G6A.outputMap[j6A]]);C6A=G6A.getYAxis(h6A);L6A={topBand:I6A,bottomBand:j6A,topColor:Y6A,bottomColor:H6A,skipTransform:h6A.panels[G6A.panel].name != G6A.chart.name,topAxis:C6A,bottomAxis:C6A,opacity:"0.3" * 1};if(!G6A.highlight && h6A.highlightedDraggable){L6A.opacity*=0.3;}c6A.fillIntersecting(h6A,G6A.panel,L6A);}if(G6A.inputs.Histogram){c6A.Studies.createHistogram(h6A,G6A,x6A,![],p6A);}if(G6A.inputs.Series !== !1){c6A.Studies.displaySeriesAsLine(h6A,G6A,x6A);}else if(!G6A.inputs.Series && !G6A.inputs.Histogram){h6A.displayErrorAsWatermark(G6A.panel,h6A.translateIf(G6A.name) + ": " + h6A.translateIf(f3p));}};a5p=-590993869;o5p=-642085053;h5p=2;for(var D5p=1;d2XX.e0p(D5p.toString(),D5p.toString().length,59454) !== a5p;D5p++){O03="Positive B";O03+="ar";E3p="#F";E3p+="F0000";c6A.Studies.studyLibrary=c6A.extend(c6A.Studies.studyLibrary,{ADX:{name:E3p,calculateFN:c6A.Studies.calculateADX,seriesFN:c6A.Studies.displayADX,inputs:{Period:74,"Smoothing Period":+"94",Series:! !0,Shading:! ![],Histogram:! !{}},outputs:{"+DI":"Smoothing Period","-DI":"+DI",ADX:"Positive Bar","Positive Bar":"#FF0000","Negative Bar":O03}}});h5p+=2;}if(d2XX.f0p(h5p.toString(),h5p.toString().length,81140) !== o5p){c6A.Studies.studyLibrary=c6A.extend(c6A.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:c6A.Studies.calculateADX,seriesFN:c6A.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !1,Shading:![],Histogram:!{}},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}}};b5K=q6A=>{var a03,t6A,T03,z03,g03;a03="un";a03+="de";a03+="fined";t6A=typeof _CIQ !== a03?_CIQ:q6A.CIQ;if(!t6A.Studies){console.error("alligator feature requires first activating studies feature.");}else {T03="#";T03+="F";T03+="F00";T03+="00";z03="#00DD0";z03+="0";g03="Alligato";g03+="r";t6A.Studies.calculateAlligator=function(y6A,o6A){var i5V=d2XX;var o03,u6A,A6A,h03,x03,m03,U03,D03,v6A,a6A,S6A,Q03,R03;i5V.i2V();o03="Lips P";o03+="eriod";u6A={J:Number(o6A.inputs["Jaw Period"]),T:Number(o6A.inputs["Teeth Period"]),L:Number(o6A.inputs[o03])};A6A=o6A.chart.scrubbed;if(A6A.length < Math.max(u6A.J,u6A.T,u6A.L) + ("1" | 1)){o6A.error=! !1;return;}if(o6A.type === "Gator" || o6A.inputs["Show Lines"]){h03="Teeth ";h03+="Offset";t6A.Studies.MA("welles wilder",u6A.J,"hl/2",o6A.inputs["Jaw Offset"],"Jaw",y6A,o6A);t6A.Studies.MA("welles wilder",u6A.T,"hl/2",o6A.inputs[h03],"Teeth",y6A,o6A);t6A.Studies.MA("welles wilder",u6A.L,"hl/2",o6A.inputs["Lips Offset"],"Lips",y6A,o6A);}for(var l6A=o6A.startFrom;l6A < A6A.length;l6A++){x03="G";x03+="ato";x03+="r";if(!A6A[l6A])continue;if(o6A.type == x03){m03="_";m03+="hist";m03+="2";U03="T";U03+="eeth ";D03="J";D03+="a";D03+="w";D03+=" ";v6A=A6A[l6A][D03 + o6A.name];a6A=A6A[l6A]["Lips " + o6A.name];S6A=A6A[l6A][U03 + o6A.name];if(S6A || S6A === 0){if(v6A || v6A === 0){i5V.H9P(3);A6A[l6A][o6A.name + "_hist1"]=Math.abs(i5V.j9P(S6A,v6A));}if(a6A || a6A === +"0"){i5V.H9P(3);A6A[l6A][o6A.name + "_hist2"]=-Math.abs(i5V.P9P(a6A,S6A));}}o6A.outputMap={};o6A.outputMap[o6A.name + "_hist1"]="";o6A.outputMap[o6A.name + m03]="";}if(o6A.inputs["Show Fractals"]){if(!A6A[l6A - +"2"] || !A6A[l6A - 1] || !A6A[l6A] || !A6A[l6A + 1] || !A6A[l6A + 2])continue;if(A6A[l6A - 2].High && A6A[l6A - 1].High && A6A[l6A].High && A6A[l6A + 1].High && A6A[l6A + 2].High){if(A6A[l6A].High > A6A[l6A - 1].High && A6A[l6A].High > A6A[l6A - 2].High && A6A[l6A].High > A6A[l6A + 1].High && A6A[l6A].High > A6A[l6A + 2].High){Q03="Fractal";Q03+=" High ";A6A[l6A][Q03 + o6A.name]=1;}}if(A6A[l6A - 2].Low && A6A[l6A - 1].Low && A6A[l6A].Low && A6A[l6A + 1].Low && A6A[l6A + 2].Low){if(A6A[l6A].Low < A6A[l6A - 1].Low && A6A[l6A].Low < A6A[l6A - 2].Low && A6A[l6A].Low < A6A[l6A + 1].Low && A6A[l6A].Low < A6A[l6A + 2].Low){R03="Fractal L";R03+="ow ";A6A[l6A][R03 + o6A.name]=1;}}}}};t6A.Studies.displayAlligator=function(r6A,z6A,U7A){var Z6A;Z6A=z6A.getContext(r6A);if(z6A.inputs["Show Lines"]){t6A.Studies.displaySeriesAsLine(r6A,z6A,U7A);}function g7A(E7A,d7A){d2XX.i2V();var f7A,i7A,b03;i7A=r6A.chart.panel.yAxis.flipped;if(E7A == "high"){Z6A.fillStyle=r6A.defaultColor;Z6A.textBaseline=i7A?"top":"bottom";f7A=r6A.pixelFromPrice(U7A[d7A].High);Z6A.fillText(i7A?"\u25BC":"\u25B2",r6A.pixelFromBar(K6A,r6A.chart) - Z6A.measureText(663.78 == 757.83?("u",0x263f):(+"8542",193) <= 4030?"\u25B2":("h",0x2181)).width / 2 + 1,i7A?f7A + 5:f7A - 5);;}else if(E7A == "low"){b03="botto";b03+="m";Z6A.fillStyle=r6A.defaultColor;Z6A.textBaseline=i7A?b03:"top";f7A=r6A.pixelFromPrice(U7A[d7A].Low);Z6A.fillText(i7A?(1710,9360) <= (2310,2160)?4.73e+3:"\u25B2":(8209,4730) === (802.29,3287)?6910 === 152.04?(862.64,"N"):4010 > (+"244.87",4645)?"R":(+"0x2694",7.00e+3):"\u25BC",r6A.pixelFromBar(K6A,r6A.chart) - Z6A.measureText((8368,+"4790") !== (849.04,740.82)?"\u25BC":326.11).width / 2 + 1,i7A?f7A - +"5":f7A + 5);;}}d2XX.E2V();if(z6A.inputs["Show Fractals"]){r6A.startClip();Z6A.globalAlpha=z6A.underlay?0.3:1;if(!z6A.highlight && r6A.highlightedDraggable){Z6A.globalAlpha*=0.3;}for(var K6A=2;K6A < U7A.length - ("2" << 159982400);K6A++){if(U7A[K6A]){if(U7A[K6A]["Fractal High " + z6A.name]){g7A("high",K6A);}if(U7A[K6A]["Fractal Low " + z6A.name]){g7A("low",K6A);}}}r6A.endClip();}};t6A.Studies.displayGator=function(D7A,b7A,J7A){var Q5V=d2XX;var Q7A,F7A,N7A,W7A,k7A,w7A,M7A,P7A,X7A,H03;Q7A=D7A.panels[b7A.panel];F7A=b7A.getContext(D7A);N7A=b7A.getYAxis(D7A);W7A=D7A.pixelFromPrice(0,Q7A,N7A);k7A=D7A.layout.candleWidth - 2;if(k7A < 2){k7A=1;}w7A=t6A.Studies.determineColor(b7A.outputs["Increasing Bar"]);Q5V.i2V();M7A=t6A.Studies.determineColor(b7A.outputs["Decreasing Bar"]);D7A.canvasColor("stx_histogram");if(!b7A.underlay){Q5V.H9P(3);F7A.globalAlpha=Q5V.P9P(0,"1");}F7A.fillStyle="#CCCCCC";D7A.startClip(b7A.panel);if(!b7A.highlight && D7A.highlightedDraggable){F7A.globalAlpha*=0.3;}for(var m7A=0;m7A < J7A.length;m7A++){P7A=J7A[m7A];Q5V.H9P(3);X7A=J7A[Q5V.j9P(1,m7A)];if(!P7A)continue;for(var c7A=1;c7A <= 2;c7A++){H03="#CC";H03+="CCC";H03+="C";if(!X7A){X7A=D7A.getPreviousBar(D7A.chart,b7A.name + "_hist" + c7A,m7A);}if(!X7A){F7A.fillStyle=H03;}else if(Math.abs(X7A[b7A.name + "_hist" + c7A]) < Math.abs(P7A[b7A.name + "_hist" + c7A])){F7A.fillStyle=w7A;}else if(Math.abs(X7A[b7A.name + "_hist" + c7A]) > Math.abs(P7A[b7A.name + "_hist" + c7A])){F7A.fillStyle=M7A;}if(P7A.candleWidth){k7A=Math.floor(Math.max(1,P7A.candleWidth - ("2" - 0)));}F7A.fillRect(Math.floor(D7A.pixelFromBar(m7A,Q7A.chart) - k7A / ("2" * 1)),Math.floor(W7A),Math.floor(k7A),Math.floor(D7A.pixelFromPrice(P7A[b7A.name + "_hist" + c7A],Q7A,N7A) - W7A));}}D7A.endClip();};t6A.Studies.studyLibrary=t6A.extend(t6A.Studies.studyLibrary,{Alligator:{name:g03,overlay:!0,seriesFN:t6A.Studies.displayAlligator,calculateFN:t6A.Studies.calculateAlligator,inputs:{"Show Lines":! !{},"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:t6A.Studies.displayGator,calculateFN:t6A.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":"5" & 2147483647,"Lips Offset":3},outputs:{"Increasing Bar":z03,"Decreasing Bar":T03},centerline:0}});}};D5K=T7A=>{var j9V=d2XX;var R7A,I7p,p7p,B7p,c03;j9V.E2V();R7A=typeof _CIQ !== "undefined"?_CIQ:T7A.CIQ;if(!R7A.Studies){j9V.H9P(26);I7p=-j9V.j9P(2147483647,"1440489590");p7p=-426462861;B7p=2;for(var k7p=+"1";j9V.e0p(k7p.toString(),k7p.toString().length,65947) !== I7p;k7p++){console.error("");B7p+=2;}if(j9V.e0p(B7p.toString(),B7p.toString().length,"98384" - 0) !== p7p){console.error("");}console.error("aroon feature requires first activating studies feature.");}else {c03="A";c03+="roon Oscillat";c03+="or";R7A.Studies.calculateAroon=function(Y7A,s7A){j9V.E2V();var B7A,G7A,h7A,V7A,e7A,j7A,O7A,N03,M03,K03,W03,n7A,C7A,L7A,x7A,p7A;B7A=s7A.chart.scrubbed;if(B7A.length < s7A.days + 1){s7A.error=! !{};return;}G7A=0;j9V.d9P(0);h7A=j9V.P9P(0,"0");V7A=null;e7A=null;if(s7A.startFrom > 0){j7A=B7A[s7A.startFrom - 1]["_state " + s7A.name];if(j7A){G7A=j7A[0];h7A=j7A[1];V7A=j7A[2];j9V.H9P(19);e7A=j7A[j9V.j9P(591989664,"3")];}}for(var I7A=s7A.startFrom;I7A < B7A.length;I7A++){N03="_";N03+="sta";N03+="te";N03+=" ";M03="Aroon";M03+=" ";M03+="Up";M03+=" ";K03="Aroo";K03+="n Down";K03+=" ";W03="Aro";W03+="on";W03+=" Up ";n7A=B7A[I7A];if(n7A.futureTick)break;if(V7A === null){V7A=n7A.High;}if(e7A === null){e7A=n7A.Low;}V7A=Math.max(V7A,n7A.High);if(V7A == n7A.High){j9V.d9P(19);G7A=j9V.j9P(968170240,"0");}else {G7A++;if(G7A > s7A.days){V7A=n7A.High;G7A=0;for(O7A=1;O7A <= s7A.days;O7A++){V7A=Math.max(V7A,B7A[I7A - O7A].High);if(V7A == B7A[I7A - O7A].High){G7A=O7A;}}}}e7A=Math.min(e7A,n7A.Low);if(e7A == n7A.Low){h7A=0;}else {h7A++;if(h7A > s7A.days){e7A=n7A.Low;h7A=0;for(O7A=1;O7A <= s7A.days;O7A++){e7A=Math.min(e7A,B7A[I7A - O7A].Low);if(e7A == B7A[I7A - O7A].Low){h7A=O7A;}}}}C7A=!isNaN(n7A.High);L7A=!isNaN(n7A.Low);x7A=100 * (1 - G7A / s7A.days);if(C7A){n7A[W03 + s7A.name]=x7A;}p7A=100 * (1 - h7A / s7A.days);if(L7A){n7A[K03 + s7A.name]=p7A;}if(C7A && L7A){n7A["Aroon Oscillator " + s7A.name]=n7A[M03 + s7A.name] - n7A["Aroon Down " + s7A.name];}n7A[N03 + s7A.name]=[G7A,h7A,V7A,e7A];}};R7A.Studies.studyLibrary=R7A.extend(R7A.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:R7A.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:c03,calculateFN:R7A.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};c5K=t7A=>{var H7A,y03,n03,k03,F03,B03;H7A=typeof _CIQ !== "undefined"?_CIQ:t7A.CIQ;d2XX.E2V();if(!H7A.Studies){y03="atr fe";y03+="ature re";y03+="quires first activating studi";y03+="es feature.";console.error(y03);}else {n03="#0";n03+="0";n03+="FF00";k03="squ";k03+="a";k03+="rewave";F03="AT";F03+="R Trailing S";F03+="top";F03+="s";B03="fie";B03+="l";B03+="d";H7A.Studies.calculateATRBands=function(l7A,q7A){var q03,P03,A7A;q03="Clos";q03+="e";P03="fie";P03+="l";P03+="d";d2XX.E2V();H7A.Studies.calculateStudyATR(l7A,q7A);A7A=q7A.inputs.Field;if(!A7A || A7A == P03){A7A=q03;}H7A.Studies.calculateGenericEnvelope(l7A,q7A,q7A.inputs.Shift,A7A,"ATR " + q7A.name);};H7A.Studies.calculateSTARCBands=function(u7A,o7A){var Z03;Z03="simpl";Z03+="e";H7A.Studies.calculateStudyATR(u7A,o7A);H7A.Studies.MA(Z03,o7A.inputs["MA Period"],"Close",0,"_MA",u7A,o7A);H7A.Studies.calculateGenericEnvelope(u7A,o7A,o7A.inputs.Multiplier,"_MA " + o7A.name,"ATR " + o7A.name);};H7A.Studies.calculateATRStops=function(i8A,S7A){var M5V=d2XX;var r7A,z7A,w03,v7A,g8A,a7A,y7A,K7A,U8A,I03,p03;r7A=S7A.chart.scrubbed;if(!r7A){return;}H7A.Studies.calculateStudyATR(i8A,S7A);z7A=S7A.inputs.HighLow;for(var Z7A=Math.max(S7A.startFrom - 1,+"1");Z7A < r7A.length - 1;Z7A++){w03="Se";w03+="l";w03+="l Stops";w03+=" ";v7A=r7A[Z7A];M5V.d9P(3);g8A=r7A[M5V.j9P(1,Z7A)];a7A=v7A["Buy Stops " + S7A.name];if(!a7A){a7A=v7A[w03 + S7A.name];}if(!a7A){M5V.H9P(26);a7A=M5V.j9P(2147483647,"0");}if(!v7A || !g8A)continue;y7A=v7A.Close;K7A=y7A;U8A=v7A["ATR " + S7A.name] * S7A.inputs.Multiplier;if(v7A.Close > a7A && g8A.Close > a7A){if(z7A){y7A=v7A.High;}M5V.H9P(3);K7A=Math.max(a7A,M5V.P9P(U8A,y7A));}else if(v7A.Close <= a7A && g8A.Close <= a7A){if(z7A){y7A=v7A.Low;}M5V.d9P(1);K7A=Math.min(a7A,M5V.j9P(U8A,y7A));}else if(v7A.Close > a7A){if(z7A){y7A=v7A.High;}M5V.H9P(3);K7A=M5V.j9P(U8A,y7A);}else if(v7A.Close <= a7A){if(z7A){y7A=v7A.Low;}M5V.d9P(1);K7A=M5V.j9P(U8A,y7A);}if(y7A <= K7A){I03="Buy St";I03+="ops ";M5V.d9P(1);r7A[M5V.j9P(1,Z7A)][I03 + S7A.name]=K7A;M5V.d9P(1);delete r7A[M5V.j9P(1,Z7A)]["Sell Stops " + S7A.name];}else if(y7A > K7A){p03="Buy Stop";p03+="s";p03+=" ";M5V.H9P(54);r7A[M5V.P9P(922476992,"1",Z7A)]["Sell Stops " + S7A.name]=K7A;M5V.H9P(1);delete r7A[M5V.j9P(1,Z7A)][p03 + S7A.name];}M5V.d9P(1);r7A[M5V.P9P(1,Z7A)]["All Stops " + S7A.name]=K7A;}S7A.referenceOutput="All Stops";S7A.outputMap={};S7A.outputMap["All Stops " + S7A.name]="";};H7A.Studies.studyLibrary=H7A.extend(H7A.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:H7A.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:H7A.Studies.displayChannel,calculateFN:H7A.Studies.calculateATRBands,inputs:{Period:5,Field:B03,Shift:3,"Channel Fill":!""},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:! ![],seriesFN:H7A.Studies.displayChannel,calculateFN:H7A.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":"5" | 0,Multiplier:1.3,"Channel Fill":! !1},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:F03,overlay:! !{},seriesFN:H7A.Studies.displayPSAR2,calculateFN:H7A.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",k03],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":n03},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};F5K=E8A=>{d2XX.i2V();var f8A,u03,i03;f8A=typeof _CIQ !== "undefined"?_CIQ:E8A.CIQ;if(!f8A.Studies){u03="awesome";u03+="Oscillator feature requires first activating studies feature.";console.error(u03);}else {i03="Awesome Oscil";i03+="lator";f8A.Studies.calculateAwesomeOscillator=function(c8A,d8A){var G03,j03,b8A,X03;G03="_";G03+="M";G03+="A34";j03="h";j03+="l";j03+="/";j03+="2";b8A=d8A.chart.scrubbed;if(b8A.length < +"33"){d8A.error=! ![];return;}f8A.Studies.MA("simple",5,j03,0,"_MA5",c8A,d8A);d2XX.H9P(13);f8A.Studies.MA("simple",d2XX.P9P("34",34),"hl/2",0,G03,c8A,d8A);for(var D8A=Math.max(d8A.startFrom,33);D8A < b8A.length;D8A++){X03="_";X03+="h";X03+="i";X03+="st";if(!b8A[D8A])continue;b8A[D8A][d8A.name + X03]=b8A[D8A]["_MA5 " + d8A.name] - b8A[D8A]["_MA34 " + d8A.name];}d8A.outputMap={};d8A.outputMap[d8A.name + "_hist"]="";};f8A.Studies.displayAwesomeOscillator=function(m8A,F8A,W8A){var o5V=d2XX;var N8A,P8A,w8A,M8A,Q8A,R8A,T8A,C03,d03,r03,X8A,J8A;N8A=m8A.panels[F8A.panel];P8A=F8A.getContext(m8A);w8A=F8A.getYAxis(m8A);M8A=m8A.pixelFromPrice(0,N8A,w8A);Q8A=m8A.layout.candleWidth - 2;if(Q8A < 2){Q8A=1;}R8A=f8A.Studies.determineColor(F8A.outputs["Increasing Bar"]);T8A=f8A.Studies.determineColor(F8A.outputs["Decreasing Bar"]);m8A.canvasColor("stx_histogram");if(!F8A.underlay){o5V.d9P(27);P8A.globalAlpha=o5V.j9P("1",1903906304);}P8A.fillStyle="#CCCCCC";m8A.startClip(F8A.panel);if(!F8A.highlight && m8A.highlightedDraggable){P8A.globalAlpha*=0.3;}for(var k8A=0;k8A < W8A.length;k8A++){C03="_";C03+="h";C03+="ist";d03="_";d03+="his";d03+="t";r03="_";r03+="hist";X8A=W8A[k8A];o5V.H9P(53);J8A=W8A[o5V.P9P(k8A,"1",1)];if(!J8A){J8A=m8A.getPreviousBar(m8A.chart,F8A.name + r03,k8A);}if(!X8A)continue;if(!J8A);else if(J8A[F8A.name + "_hist"] < X8A[F8A.name + "_hist"]){P8A.fillStyle=R8A;}else if(J8A[F8A.name + "_hist"] > X8A[F8A.name + d03]){P8A.fillStyle=T8A;}if(X8A.candleWidth){Q8A=Math.floor(Math.max(1,X8A.candleWidth - 2));}P8A.fillRect(Math.floor(m8A.pixelFromBar(k8A,N8A.chart) - Q8A / ("2" >> 1008407584)),Math.floor(M8A),Math.floor(Q8A),Math.floor(m8A.pixelFromPrice(X8A[F8A.name + C03],N8A,w8A) - M8A));}m8A.endClip();};f8A.Studies.studyLibrary=f8A.extend(f8A.Studies.studyLibrary,{Awesome:{name:i03,seriesFN:f8A.Studies.displayAwesomeOscillator,calculateFN:f8A.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};m5K=n8A=>{var Y03,s8A;Y03="undef";Y03+="ined";s8A=typeof _CIQ !== Y03?_CIQ:n8A.CIQ;if(!s8A.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {s8A.Studies.calculateBalanceOfPower=function(G8A,V8A){var J03,O8A,e8A;d2XX.i2V();J03="Moving Average Ty";J03+="pe";O8A=V8A.chart.scrubbed;if(O8A.length < V8A.days + 1){V8A.error=!"";return;}for(var B8A=V8A.startFrom;B8A < O8A.length;B8A++){e8A=O8A[B8A];e8A["_Ratio " + V8A.name]=e8A.Close - e8A.Open;if(e8A.High - e8A.Low !== 0){e8A["_Ratio " + V8A.name]/=e8A.High - e8A.Low;}}s8A.Studies.MA(V8A.inputs[J03],V8A.days,"_Ratio " + V8A.name,0,"Result",G8A,V8A);};s8A.Studies.studyLibrary=s8A.extend(s8A.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:s8A.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};P5K=I8A=>{var h8A,A03,l03,S03,V03;h8A=typeof _CIQ !== "undefined"?_CIQ:I8A.CIQ;if(!h8A.Studies){console.error("bollinger feature requires first activating studies feature.");}else {A03="m";A03+="a";l03="a";l03+="ut";l03+="o";S03="a";S03+="ut";S03+="o";V03="B";V03+="olli";V03+="nger Ban";V03+="ds";h8A.Studies.calculateBollinger=function(L8A,j8A){var v03,L03,C8A;v03="_ST";v03+="D ";v03+="Dev";v03+=" ";L03="Moving ";L03+="Average Type";C8A=j8A.inputs.Field;if(!C8A || C8A == "field"){C8A="Close";}h8A.Studies.MA(j8A.inputs[L03],j8A.days,C8A,"0" | 0,"_MA",L8A,j8A);j8A.std=new h8A.Studies.StudyDescriptor(j8A.name,"STD Dev",j8A.panel);j8A.std.chart=j8A.chart;j8A.std.startFrom=j8A.startFrom;j8A.std.days=j8A.days;j8A.std.inputs={Field:C8A,"Standard Deviations":"1" >> 1279689760,Type:j8A.inputs["Moving Average Type"]};j8A.std.outputs={"_STD Dev":null};h8A.Studies.calculateStandardDeviation(L8A,j8A.std);h8A.Studies.calculateGenericEnvelope(L8A,j8A,j8A.inputs["Standard Deviations"],"_MA " + j8A.name,v03 + j8A.name);if(j8A.type == "Boll %b"){j8A.zoneOutput="%b";}};h8A.Studies.studyLibrary=h8A.extend(h8A.Studies.studyLibrary,{"Bollinger Bands":{name:V03,overlay:!"",calculateFN:h8A.Studies.calculateBollinger,seriesFN:h8A.Studies.displayChannel,inputs:{Period:"20" ^ 0,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma","Channel Fill":!""},outputs:{"Bollinger Bands Top":S03,"Bollinger Bands Median":l03,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:h8A.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:h8A.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":+"2","Moving Average Type":A03},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};k5K=p8A=>{var s03,x8A,g2p,z2p,T2p;s03="und";s03+="efin";s03+="e";s03+="d";x8A=typeof _CIQ !== s03?_CIQ:p8A.CIQ;if(!x8A.Studies){console.error("cci feature requires first activating studies feature.");}else {x8A.Studies.calculateCCI=function(o8A,Y8A){d2XX.E2V();var t8A,e03,H8A,A8A,t03;t8A=Y8A.chart.scrubbed;if(t8A.length < Y8A.days + 1){Y8A.error=! !{};return;}x8A.Studies.MA("simple",Y8A.days,"hlc/3",+"0","MA",o8A,Y8A);for(var q8A=Math.max(Y8A.startFrom,Y8A.days - 1);q8A < t8A.length;q8A++){e03="M";e03+="A";e03+=" ";H8A=t8A[q8A];if(!H8A)continue;A8A=0;for(var l8A=0;l8A < Y8A.days;l8A++){t03="hl";t03+="c";t03+="/";t03+="3";A8A+=Math.abs(t8A[q8A - l8A][t03] - H8A["MA " + Y8A.name]);}A8A/=Y8A.days;if(Math.abs(A8A) < 0.00000001){H8A["Result " + Y8A.name]=0;}else {H8A["Result " + Y8A.name]=(H8A["hlc/3"] - H8A[e03 + Y8A.name]) / (0.015 * A8A);}}};g2p=1224423892;z2p=-969071483;T2p=+"2";for(var K2p=1;d2XX.e0p(K2p.toString(),K2p.toString().length,82985) !== g2p;K2p++){x8A.Studies.studyLibrary=x8A.extend(x8A.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:x8A.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});T2p+=2;}if(d2XX.f0p(T2p.toString(),T2p.toString().length,22163) !== z2p){x8A.Studies.studyLibrary=x8A.extend(x8A.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:x8A.Studies.calculateCCI,inputs:{Period:"68" | 0},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:844,studyOverBoughtColor:"Commodity Channel Index",studyOverSoldValue:~ +"225",studyOverSoldColor:"auto"}},attributes:{Period:{min:3}}}});}}};X5K=S8A=>{var u8A,a83;u8A=typeof _CIQ !== "undefined"?_CIQ:S8A.CIQ;d2XX.i2V();if(!u8A.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {a83="Cente";a83+="r Of G";a83+="ravit";a83+="y";u8A.Studies.calculateCenterOfGravity=function(g9A,v8A){var q5V=d2XX;var E03,f03,a8A,y8A,O83,z8A,K8A,U9A;E03="C";E03+="l";E03+="ose";f03="f";f03+="i";f03+="eld";a8A=v8A.chart.scrubbed;if(a8A.length < v8A.days){v8A.error=! !{};return;}y8A=v8A.inputs.Field;q5V.i2V();if(!y8A || y8A == f03){y8A=E03;}for(var r8A=Math.max(v8A.startFrom,v8A.days - 1);r8A < a8A.length;r8A++){O83="R";O83+="es";O83+="u";O83+="lt ";z8A=0;K8A=0;for(var Z8A=0;Z8A < v8A.days;Z8A++){q5V.H9P(3);U9A=a8A[q5V.P9P(Z8A,r8A)][y8A];q5V.d9P(63);z8A-=q5V.j9P(1,U9A,Z8A);K8A+=U9A;}if(K8A){q5V.d9P(10);a8A[r8A][O83 + v8A.name]=q5V.j9P(z8A,K8A);}}};u8A.Studies.studyLibrary=u8A.extend(u8A.Studies.studyLibrary,{COG:{name:a83,calculateFN:u8A.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};Q5K=f9A=>{var i9A,o83,b83;i9A=typeof _CIQ !== "undefined"?_CIQ:f9A.CIQ;if(!i9A.Studies){o83="chaikin feature requires first act";o83+="ivatin";o83+="g studies feature.";console.error(o83);}else {b83="C";b83+="haik";b83+="in Mone";b83+="y Flow";i9A.Studies.calculateChaikinMoneyFlow=function(m9A,b9A){var m5V=d2XX;var E9A,c9A,D9A,F9A,h83,m83,U83,x83,D83;E9A=b9A.chart.scrubbed;if(E9A.length < b9A.days){b9A.error=!"";return;}c9A=+"0";m5V.d9P(15);D9A=m5V.P9P("0",1);m5V.E2V();F9A=E9A[b9A.startFrom - 1];if(F9A){h83="_su";h83+="m";h83+="V";h83+=" ";if(F9A["_sumMF " + b9A.name]){c9A=F9A["_sumMF " + b9A.name];}if(F9A[h83 + b9A.name]){D9A=F9A["_sumV " + b9A.name];}}for(var d9A=b9A.startFrom;d9A < E9A.length;d9A++){m83="_";m83+="su";m83+="m";m83+="V ";U83="_su";U83+="mMF ";x83="_M";x83+="FV";x83+=" ";if(E9A[d9A].High == E9A[d9A].Low){E9A[d9A]["_MFV " + b9A.name]=0;}else {E9A[d9A][x83 + b9A.name]=E9A[d9A].Volume * (2 * E9A[d9A].Close - E9A[d9A].High - E9A[d9A].Low) / (E9A[d9A].High - E9A[d9A].Low);}c9A+=E9A[d9A]["_MFV " + b9A.name];D9A+=E9A[d9A].Volume;if(d9A > b9A.days - 1){D83="Resul";D83+="t";D83+=" ";c9A-=E9A[d9A - b9A.days]["_MFV " + b9A.name];D9A-=E9A[d9A - b9A.days].Volume;if(D9A){m5V.H9P(10);E9A[d9A][D83 + b9A.name]=m5V.j9P(c9A,D9A);}}E9A[d9A][U83 + b9A.name]=c9A;E9A[d9A][m83 + b9A.name]=D9A;}};i9A.Studies.calculateChaikinVolatility=function(J9A,P9A){var R83,X9A,k9A,Q83,Q9A;d2XX.E2V();R83="_";R83+="H";R83+="igh-Lo";R83+="w ";X9A=P9A.chart.scrubbed;if(X9A.length < P9A.days){P9A.error=!"";return;}for(k9A=P9A.startFrom;k9A < X9A.length;k9A++){Q83="_High-Lo";Q83+="w ";if(X9A[k9A].futureTick)break;X9A[k9A][Q83 + P9A.name]=X9A[k9A].High - X9A[k9A].Low;}i9A.Studies.MA(P9A.inputs["Moving Average Type"],P9A.days,R83 + P9A.name,"0" << 927797792,"_MA",J9A,P9A);Q9A=P9A.inputs["Rate Of Change"];if(!Q9A){Q9A=P9A.days;}for(k9A=Math.max(P9A.startFrom,Q9A);k9A < X9A.length;k9A++){if(!X9A[k9A - Q9A]["_MA " + P9A.name])continue;if(X9A[k9A].futureTick)break;X9A[k9A]["Result " + P9A.name]=100 * (X9A[k9A]["_MA " + P9A.name] / X9A[k9A - Q9A]["_MA " + P9A.name] - 1);}};i9A.Studies.studyLibrary=i9A.extend(i9A.Studies.studyLibrary,{"Chaikin MF":{name:b83,calculateFN:i9A.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:i9A.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};J5K=W9A=>{var N9A,H83,y83,c83,z83,g83;N9A=typeof _CIQ !== "undefined"?_CIQ:W9A.CIQ;if(!N9A.Studies){H83="chande ";H83+="feature requires first activating studies ";H83+="feature.";console.error(H83);}else {y83="au";y83+="t";y83+="o";c83="Chande M";c83+="omentum Oscillator";z83="Va";z83+="ri";z83+="abl";z83+="e";g83="Variab";g83+="le";N9A.Studies.prettify.variable="vma";N9A.Studies.movingAverage.conversions.vma="variable";N9A.Studies.movingAverage.translations.variable="Variable";N9A.Studies.movingAverage.typeMap.vma=g83;N9A.Studies.movingAverage.typeMap.variable=z83;N9A.Studies.calculateChandeForecast=function(n9A,w9A){var T83,M9A,R9A,K83,W83,s9A;T83="M";T83+="A";M9A=w9A.chart.scrubbed;if(M9A.length < w9A.days + 1){w9A.error=! !1;return;}R9A=w9A.inputs.Field;if(!R9A || R9A == "field"){R9A="Close";}N9A.Studies.MA("time series",w9A.days,R9A,0,T83,n9A,w9A);for(var T9A=Math.max(1,w9A.startFrom);T9A < M9A.length;T9A++){K83="M";K83+="A";K83+=" ";W83="o";W83+="b";W83+="ject";s9A=M9A[T9A][R9A];if(s9A && typeof s9A == W83){s9A=s9A[w9A.subField];}M9A[T9A]["Result " + w9A.name]=100 * (("1" | 1) - M9A[T9A][K83 + w9A.name] / s9A);}};N9A.Studies.calculateChandeMomentum=function(H9A,V9A){var F5V=d2XX;var I9A,B9A,G9A,j9A,C9A,L9A,M83,h9A,O9A,x9A,p9A;I9A=V9A.name;for(var Y9A in V9A.outputs){F5V.H9P(45);I9A=F5V.P9P(I9A,+"966.11" == (9729,649.99)?(0x7c3,+"777.95"):" ",Y9A);}F5V.E2V();B9A=V9A.chart.scrubbed;if(B9A.length < V9A.days + 1){V9A.error=! ![];return;}G9A=V9A.inputs.Field;if(!G9A || G9A == "field"){G9A="Close";}j9A=0;C9A=0;L9A=[];for(var e9A=V9A.startFrom - V9A.days + 1;e9A < B9A.length;e9A++){M83="o";M83+="bject";if(e9A < +"1")continue;h9A=B9A[e9A][G9A];F5V.d9P(53);O9A=B9A[F5V.P9P(e9A,"1",0)][G9A];if(h9A && typeof h9A == M83){h9A=h9A.Close;}if(O9A && typeof O9A == "object"){O9A=O9A.Close;}if(O9A === undefined)continue;F5V.d9P(3);x9A=F5V.P9P(O9A,h9A);L9A.push(x9A);j9A+=x9A;C9A+=Math.abs(x9A);if(L9A.length == V9A.days){F5V.H9P(62);B9A[e9A][I9A]=F5V.P9P(100,C9A,j9A);p9A=L9A.shift();j9A-=p9A;C9A-=Math.abs(p9A);}}};N9A.Studies.calculateMovingAverageVariable=function(f04,t9A){var U5V=d2XX;var N83,b04,o9A,U04,S9A,u9A,v9A,l9A,q9A,A9A,a9A,K9A,g04,z9A,y9A,d04,r9A,i04,Z9A;N83="fi";N83+="el";N83+="d";b04=t9A.inputs.Type;o9A=t9A.chart.scrubbed;U04=2 / (t9A.days + 1);S9A=null;u9A=t9A.name;for(var E04 in t9A.outputs){U5V.d9P(45);u9A=U5V.P9P(u9A,("59" ^ 0) <= (22.42,4380)?" ":73.98 >= (753.23,993)?+"555.00":311.83 < (558.89,98)?(841.47,"s"):0x1760,E04);}v9A=t9A.inputs.Field;if(!v9A || v9A == N83){v9A="Close";}U5V.E2V();t9A.cmo=new N9A.Studies.StudyDescriptor(t9A.name,"cmo",t9A.panel);t9A.cmo.chart=t9A.chart;t9A.cmo.days=9;t9A.cmo.inputs={Field:v9A};t9A.cmo.startFrom=t9A.startFrom;t9A.cmo.outputs={_CMO:null};N9A.Studies.calculateChandeMomentum(f04,t9A.cmo);l9A=parseInt(t9A.inputs.Offset,10);if(isNaN(l9A)){l9A=0;}K9A=t9A.startFrom;g04=l9A;for(q9A=t9A.startFrom - ("1" >> 320636704);q9A >= 0;q9A--){A9A=o9A[q9A][u9A];if(!A9A && A9A !== 0)continue;if(S9A === null){S9A=A9A;}if(g04 <= 0)break;g04--;K9A=q9A;}if(S9A === null){S9A=K9A=0;}z9A=[];for(q9A=K9A;q9A < o9A.length;q9A++){y9A=o9A[q9A];A9A=y9A[v9A];if(A9A && typeof A9A == "object"){A9A=A9A[t9A.subField];}d04=q9A + l9A >= 0 && q9A + l9A < o9A.length;r9A=d04?o9A[q9A + l9A]:null;if(!A9A && A9A !== 0){if(r9A){r9A[u9A]=null;}else if(q9A + l9A >= o9A.length){a9A={};a9A[u9A]=null;z9A.push(a9A);}continue;}if(!y9A["_CMO " + t9A.name] && y9A["_CMO " + t9A.name] !== "0" - 0)continue;i04=Math.abs(y9A["_CMO " + t9A.name]) / 100;U5V.d9P(64);Z9A=U5V.P9P(S9A,U04,i04,A9A,i04,U04,1);S9A=Z9A;if(q9A < t9A.days){Z9A=null;}if(r9A){r9A[u9A]=Z9A;}else if(q9A + l9A >= o9A.length){a9A={};a9A[u9A]=Z9A;z9A.push(a9A);}}t9A.appendFutureTicks(f04,z9A);};N9A.Studies.studyLibrary=N9A.extend(N9A.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:N9A.Studies.calculateChandeForecast,inputs:{Period:+"14",Field:"field"}},"Chande Mtm":{name:c83,calculateFN:N9A.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"50" << 880874496,studyOverBoughtColor:"auto",studyOverSoldValue:-("50" ^ 0),studyOverSoldColor:y83}}}});}};N5K=c04=>{var P83,D04,I83,w83;P83="undefin";P83+="ed";D04=typeof _CIQ !== P83?_CIQ:c04.CIQ;if(!D04.Studies){console.error("choppiness feature requires first activating studies feature.");}else {I83="0";I83+=".";I83+="1";w83="au";w83+="to";D04.Studies.calculateChoppiness=function(Q04,F04){d2XX.E2V();var P04,q83,m04,X04,Z83;D04.Studies.calculateStudyATR(Q04,F04);P04=F04.chart.scrubbed;if(P04.length < F04.days + 1){F04.error=! !"1";return;}for(var k04=Math.max(F04.startFrom,F04.days);k04 < P04.length;k04++){q83="Sum T";q83+="rue Range ";m04=P04[k04];if(!m04)continue;if(m04.futureTick)break;X04=J04(F04.days,k04);if(m04[q83 + F04.name]){Z83="Res";Z83+="ult ";m04[Z83 + F04.name]=100 * Math.log(m04["Sum True Range " + F04.name] / Math.max(0.000001,X04[+"1"] - X04["0" | 0])) / Math.log(F04.days);}else if(!isNaN(m04)){m04["Result " + F04.name]=0;}}function J04(R04,M04){var W04,w04;W04=Number.MAX_VALUE * -1;w04=Number.MAX_VALUE;for(var N04=M04 - R04 + 1;N04 <= M04;N04++){if(N04 < 0)continue;W04=Math.max(W04,P04[N04].High);w04=Math.min(w04,P04[N04].Low);}return [w04,W04];}};D04.Studies.studyLibrary=D04.extend(D04.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:D04.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:61.8,studyOverBoughtColor:w83,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:I83}}}});}};W5K=s04=>{var T04,l83,S83;T04=typeof _CIQ !== "undefined"?_CIQ:s04.CIQ;if(!T04.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!T04.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {l83="#0";l83+="0";l83+="DD0";l83+="0";S83="-1";S83+=" ";S83+="to ";S83+="1";T04.Studies.calculateCorrelationCoefficient=function(H04,n04){var W5V=d2XX;var e04,B04,o2p,h2p,x2p,G04,B83,p83,h04,I04,C04,L04,x04,p04,Y04,O04,F83,k83,q04,A04,l04,o04;e04=n04.chart.scrubbed;B04=n04.days;W5V.E2V();if(e04.length < B04 + 1){o2p=667264722;h2p=+"1615273007";x2p=2;for(var U2p=+"1";W5V.e0p(U2p.toString(),U2p.toString().length,44586) !== o2p;U2p++){n04.error=! !"";x2p+=2;}if(W5V.e0p(x2p.toString(),x2p.toString().length,"60207" * 1) !== h2p){n04.error=!0;}n04.error=! !{};return;}n04.compare=n04.inputs["Compare To"];if(!n04.compare){n04.compare=[];n04.outputs={};n04.outputMap={};for(var t04 in H04.chart.series){G04=H04.chart.series[t04];if(G04.parameters.color){B83="Res";B83+="u";B83+="l";B83+="t ";p83="Result";p83+=" ";n04.compare.push(G04.display);n04.outputs[p83 + G04.display]=G04.parameters.color;n04.outputMap[B83 + G04.display + (3865 > (477.77,+"8160")?2.94e+3:" ") + n04.name]="Result " + G04.display;}}}else {n04.compare=[n04.compare];}if(!n04.compare.length){n04.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var j04=0;j04 < n04.compare.length;j04++){h04=0;I04=0;C04=0;L04=0;x04=0;p04=n04.compare[j04];W5V.d9P(13);Y04=W5V.P9P("0",0);for(var V04=n04.startFrom - B04;V04 < e04.length;V04++){if(!e04[V04])continue;O04=e04[V04][p04];if(O04 && typeof O04 == "object"){O04=O04.Close;}if(!O04 && O04 !== 0){F83="_";F83+="te";F83+="mps";F83+=" ";if(V04 > 0 && e04[V04 - 1] && e04[V04 - 1][F83 + n04.name] && e04[V04 - 1]["_temps " + n04.name].c){O04=e04[V04 - ("1" | 0)]["_temps " + n04.name].c;}else {O04=0;}}if(O04 && typeof O04 == "object"){O04=O04.Close;}e04[V04]["_temps " + n04.name]={};h04+=e04[V04]["_temps " + n04.name].b=e04[V04].Close;I04+=e04[V04]["_temps " + n04.name].c=O04;C04+=e04[V04]["_temps " + n04.name].b2=Math.pow(e04[V04].Close,"2" ^ 0);L04+=e04[V04]["_temps " + n04.name].c2=Math.pow(O04,2);x04+=e04[V04]["_temps " + n04.name].bc=e04[V04].Close * O04;if(Y04 >= B04){k83="_";k83+="te";k83+="m";k83+="ps ";h04-=e04[V04 - B04]["_temps " + n04.name].b;I04-=e04[V04 - B04]["_temps " + n04.name].c;C04-=e04[V04 - B04][k83 + n04.name].b2;L04-=e04[V04 - B04]["_temps " + n04.name].c2;x04-=e04[V04 - B04]["_temps " + n04.name].bc;q04=C04 / B04 - Math.pow(h04 / B04,2);A04=L04 / B04 - Math.pow(I04 / B04,2);l04=x04 / B04 - h04 * I04 / Math.pow(B04,2);o04=l04 / Math.sqrt(q04 * A04);e04[V04]["Result " + p04 + " " + n04.name]=o04;}Y04++;}}};T04.Studies.calculatePerformance=function(r04,u04){var D5V=d2XX;var G83,j83,u83,n83,S04,y04,x8p,D8p,U8p,r83,X83,a04;G83="m";G83+="a";j83="_M";j83+="A";j83+=" B";j83+="ase";u83="Cl";u83+="o";u83+="s";u83+="e";n83="Comparison";n83+=" ";n83+="S";n83+="ymbol";S04=u04.chart.scrubbed;y04=u04.inputs[n83].toUpperCase();if(!y04){y04=u04.study.inputs["Comparison Symbol"];}if(!u04.days){u04.days=u04.study.inputs.Period;}if(S04.length < u04.days + 1){D5V.H9P(27);x8p=D5V.j9P("960075333",1424922016);D8p=688695998;U8p=2;for(var Q8p=1;D5V.f0p(Q8p.toString(),Q8p.toString().length,86659) !== x8p;Q8p++){u04.error=! ![];U8p+=2;}if(D5V.e0p(U8p.toString(),U8p.toString().length,35161) !== D8p){u04.error=!{};}return;}T04.Studies.MA("ma",u04.days,u83,"0" << 1888079936,j83,r04,u04);T04.Studies.MA(G83,u04.days,y04,0,"_MA Comp",r04,u04);for(var v04=u04.startFrom;v04 < S04.length;v04++){r83="_M";r83+="A";r83+=" Base ";X83="_";X83+="MA";X83+=" ";X83+="Comp ";a04=S04[v04][y04];if(a04 && (a04.Close || a04.Close === 0)){a04=a04.Close;}S04[v04]["Result " + u04.name]=S04[v04].Close / a04 * (S04[v04][X83 + u04.name] / S04[v04][r83 + u04.name]);}};T04.Studies.calculateBeta=function(f14,Z04){var C5V=d2XX;var v83,L83,i83,d83,z04,i14,C83,U14,g14,J83,Y83,V83;v83="_";v83+="VARn ";L83="_COVARn";L83+=" ";i83="m";i83+="a";d83="Comparison Sym";d83+="bo";d83+="l";z04=Z04.chart.scrubbed;i14=Z04.inputs["Comparison Symbol"].toUpperCase();if(!i14){i14=Z04.study.inputs[d83];}if(!Z04.days){Z04.days=Z04.study.inputs.Period;}if(z04.length < Z04.days + 1){Z04.error=! !{};return;}for(var K04=Math.max(Z04.startFrom,1);K04 < z04.length;K04++){C83="_B";C83+="as";C83+="eChan";C83+="ge ";z04[K04][C83 + Z04.name]=z04[K04].Close / z04[K04 - 1].Close - 1;U14=z04[K04][i14];if(U14 && (U14.Close || U14.Close === 0)){U14=U14.Close;}C5V.H9P(3);g14=z04[C5V.P9P(1,K04)][i14];if(g14 && (g14.Close || g14.Close === 0)){g14=g14.Close;}C5V.d9P(65);z04[K04]["_CompChange " + Z04.name]=C5V.j9P(g14,"1",1,U14);}T04.Studies.MA(i83,Z04.days,"_BaseChange " + Z04.name,0,"_MA Base",f14,Z04);T04.Studies.MA("ma",Z04.days,"_CompChange " + Z04.name,0,"_MA Comp",f14,Z04);for(K04=Math.max(Z04.startFrom,Z04.days);K04 < z04.length;K04++){J83="_MA C";J83+="o";J83+="mp ";Y83="_Comp";Y83+="C";Y83+="h";Y83+="ange ";z04[K04]["_COVARn " + Z04.name]=(z04[K04]["_BaseChange " + Z04.name] - z04[K04]["_MA Base " + Z04.name]) * (z04[K04][Y83 + Z04.name] - z04[K04]["_MA Comp " + Z04.name]);z04[K04]["_VARn " + Z04.name]=Math.pow(z04[K04]["_CompChange " + Z04.name] - z04[K04][J83 + Z04.name],2);}T04.Studies.MA("ma",Z04.days,L83 + Z04.name,0,"_COVAR",f14,Z04);T04.Studies.MA("ma",Z04.days,v83 + Z04.name,0,"_VAR",f14,Z04);for(K04=Math.max(Z04.startFrom,Z04.days * +"2" - 1);K04 < z04.length;K04++){V83="_";V83+="VAR";V83+=" ";z04[K04]["Result " + Z04.name]=z04[K04]["_COVAR " + Z04.name] / z04[K04][V83 + Z04.name];}};T04.Studies.studyLibrary=T04.extend(T04.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:S83,calculateFN:T04.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:T04.Studies.initPriceRelative,seriesFN:T04.Studies.displayVsComparisonSymbol,calculateFN:T04.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:l83,Loss:"#FF0000"},deferUpdate:! !{}},Beta:{name:"Beta",centerline:1,initializeFN:T04.Studies.initPriceRelative,seriesFN:T04.Studies.displayVsComparisonSymbol,calculateFN:T04.Studies.calculateBeta,inputs:{Period:+"20","Comparison Symbol":"SPY"},deferUpdate:! ![]}});}};w5K=d14=>{var E14,t83;d2XX.i2V();E14=typeof _CIQ !== "undefined"?_CIQ:d14.CIQ;if(!E14.Studies){console.error("coppock feature requires first activating studies feature.");}else {t83="Coppo";t83+="c";t83+="k C";t83+="urve";E14.Studies.calculateCoppock=function(J14,b14){var u5V=d2XX;var s83,A83,D14,c14,m14,P14,k14,X14,Q14;s83="Re";s83+="sul";s83+="t";A83="Long ";A83+="R";A83+="o";A83+="C";D14=b14.chart.scrubbed;u5V.E2V();c14=b14.inputs.Field;if(!c14 || c14 == "field"){c14="Close";}m14=parseInt(b14.inputs[A83],10);if(!m14){m14=14;}P14=parseInt(b14.inputs["Short RoC"],10);if(!P14){P14=11;}k14=b14.days;if(!k14){k14=10;}if(m14 < P14){return;}if(D14.length < Math.max(P14,m14,k14) + 1){b14.error=! !"1";return;}for(var F14=Math.max(b14.startFrom,m14);F14 < D14.length;F14++){u5V.H9P(3);X14=D14[u5V.j9P(P14,F14)][c14];u5V.H9P(3);Q14=D14[u5V.P9P(m14,F14)][c14];if(X14 && Q14){D14[F14]["_Sum " + b14.name]=100 * (D14[F14][c14] / X14 + D14[F14][c14] / Q14 - 2);}}E14.Studies.MA("weighted",k14,"_Sum " + b14.name,0,s83,J14,b14);};E14.Studies.studyLibrary=E14.extend(E14.Studies.studyLibrary,{Coppock:{name:t83,calculateFN:E14.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":+"11","Long RoC":14}}});}};M5K=W14=>{d2XX.E2V();var N14,q23;N14=typeof _CIQ !== "undefined"?_CIQ:W14.CIQ;if(!N14.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {q23="#";q23+="5F7C";q23+="B";q23+="8";N14.Studies.calculateDarvas=function(H14,e14){var O23,E83,w14,V14,L14,f83,e83,p14,O14,T14,n14,h14,B14,I14,G14,R14,s14,j14,z23,M14,a23,o23,x23,h23,D23,Q23,m23,U23,R23,H23,b23,g23;O23="S";O23+="pi";O23+="ke";E83="Gh";E83+="o";E83+="s";E83+="t";w14=e14.chart.scrubbed;V14=0;L14=parseInt(e14.inputs["ATH Lookback Period"],10);if(e14.inputs["Volume Spike"]){f83="AD";f83+="V";e83="si";e83+="m";e83+="ple";N14.Studies.MA(e83,L14,"Volume",+"0",f83,H14,e14);}p14=parseFloat(e14.inputs["Volume % of Avg"]) / 100;O14="none";T14={};n14=null;d2XX.E2V();h14=null;B14=null;I14=parseFloat(e14.inputs["Level Offset"]);G14=! !"";if(G14){console.log("*****************");}s14={};["Darvas",E83,"Profit","Loss","ATH","ADV",O23].forEach(function(t14){d2XX.i2V();s14[t14]=t14 + (205.62 != 7661?(6100,145.05) == (8402,"3784" - 0)?(580.45,161.51) < (4764,"7835" | 1563)?!{}:(735.82,"v"):" ":"f") + e14.name;});for(R14=e14.startFrom - 1;R14 > +"0";R14--){j14=w14[R14];if(j14[s14.Darvas] || j14[s14.Ghost]){for(var Y14 in s14){j14[Y14]=null;}}else {V14=j14[s14.ATH] || "0" >> 670106112;h14=j14[s14.Profit];B14=j14[s14.Loss];break;}}for(R14;R14 < w14.length;R14++){z23="V";z23+="olume Sp";z23+="ike";M14=w14[R14];if(!M14)continue;if(parseFloat(e14.inputs["Price Minimum"]) <= w14[V14].Close){a23="h";a23+="igh";if(n14 && (!n14.End || R14 == n14.End + 1)){if(w14[R14 - 1].Close > T14.High){T14={State:"1" | 0,High:2 * T14.High - T14.Low,Low:T14.High,Start:R14,End:2 * T14.End - T14.Start + 1};}else {n14=null;;}if(n14){M14[s14.Ghost]=N14.clone(T14);if(G14){console.log("Ghost begin:" + M14.DT);}T14.State=0;if(w14[T14.End]){w14[T14.End][s14.Ghost]=N14.clone(T14);if(G14){console.log("Ghost end:" + w14[T14.End].DT);}}n14={Start:T14.Start,End:T14.End};h14=T14.High + I14;if(!B14 || B14 < T14.Low - I14){B14=T14.Low - I14;}}}M14[s14.Profit]=h14;M14[s14.Loss]=B14;if(M14.Close >= h14){h14=null;}else if(e14.inputs["Exit Field"] == "high/low" && M14.High >= h14){h14=null;}if(O14 == "none"){if(R14 == V14 + 3){if(!w14[V14 + +"2"][s14.Darvas] && !w14[V14 + 1][s14.Darvas] && !w14[V14][s14.Darvas] && w14[V14].High > M14.High){O14="high";;}}}if(O14 == a23){if(M14.High > w14[V14].High){o23="n";o23+="o";o23+="n";o23+="e";O14=o23;}else if(w14[R14 - 3].Low < w14[R14 - +"2"].Low && w14[R14 - 3].Low < w14[R14 - 1].Low && w14[R14 - 3].Low < M14.Low){x23="D";x23+="arvas establ";x23+="i";x23+="shed:";h23="da";h23+="rvas";T14={State:1,High:w14[V14].High,Low:w14[R14 - +"3"].Low,Start:V14};w14[V14][s14.Darvas]=N14.clone(T14);O14=h23;if(G14){console.log("Darvas begin:" + w14[V14].DT);}if(G14){console.log(x23 + M14.DT);}if(n14){if(n14.End > R14 && w14[n14.Start]){M14[s14.Ghost]=N14.clone(w14[n14.Start][s14.Ghost]);M14[s14.Ghost].End=R14;if(w14[n14.End]){D23="Ghost ";D23+="End removed";D23+=":";delete w14[n14.End][s14.Ghost];if(G14){console.log(D23 + w14[n14.End].DT);}}}M14[s14.Ghost].State=0;w14[n14.Start][s14.Ghost].End=R14;if(G14){console.log("Ghost end:" + M14.DT);}n14=null;}h14=T14.High + I14;if(!B14 || B14 < T14.Low - I14){B14=T14.Low - I14;}}}if(O14 == "darvas"){Q23="Ghost Boxe";Q23+="s";m23="n";m23+="o";m23+="n";m23+="e";U23="h";U23+="i";U23+="gh/lo";U23+="w";if(M14.Close > T14.High){n14={};}else if(e14.inputs["Exit Field"] == "high/low" && M14.High > T14.High){n14={};}else if(M14.Close < T14.Low){O14="none";}else if(e14.inputs["Exit Field"] == U23 && M14.Low < T14.Low){O14="none";}if(n14){O14="none";}else if(O14 == m23){h14=null;B14=null;}if(!e14.inputs[Q23]){n14=null;}if(O14 == "none"){for(var x14=T14.Start + +"1";x14 < R14;x14++){w14[x14][s14.Darvas]=N14.clone(T14);}T14.State=0;T14.End=R14;M14[s14.Darvas]=N14.clone(T14);if(G14){console.log("Darvas end:" + M14.DT);}M14[s14.ATH]=V14;continue;}}if(B14){R23="high/";R23+="low";if(M14.Close < T14.Low || e14.inputs["Exit Field"] == R23 && M14.Low < T14.Low){H23="n";H23+="o";H23+="ne";b23="da";b23+="rv";b23+="as";if(O14 == b23){O14=H23;}if(M14.Close < B14 || e14.inputs["Exit Field"] == "high/low" && M14.Low < B14){h14=null;B14=null;}if(n14){g23="Gh";g23+="ost";g23+=" en";g23+="d:";if(n14.End > R14 && w14[n14.Start]){M14[s14.Ghost]=N14.clone(w14[n14.Start][s14.Ghost]);M14[s14.Ghost].End=R14;if(w14[n14.End]){delete w14[n14.End][s14.Ghost];if(G14){console.log("Ghost End removed:" + w14[n14.End].DT);}}}M14[s14.Ghost].State=0;w14[n14.Start][s14.Ghost].End=R14;if(G14){console.log(g23 + M14.DT);}n14=null;}}}}if(M14.High >= w14[V14].High){V14=R14;if(G14){console.log("All Time High:" + M14.DT);}}if(R14 < 3 || M14.High >= w14[R14 - 1].High && M14.High >= w14[R14 - 2].High && M14.High >= w14[R14 - +"3"].High){if(R14 - V14 >= L14){V14=R14;for(var C14=0;C14 < L14;C14++){if(R14 - C14 < 0)break;if(w14[R14 - C14].High > w14[V14].High){d2XX.H9P(3);V14=d2XX.j9P(C14,R14);}}if(G14){console.log("All Time High:" + M14.DT);}}}if(e14.inputs[z23] && R14 > L14 && R14 == V14){if(M14[s14.ADV] * p14 < M14.Volume){M14[s14.Spike]=1;if(G14){console.log("Volume Spike:" + M14.DT);}}}M14[s14.ATH]=V14;}};N14.Studies.displayDarvas=function(A14,u14,v14){var I5V=d2XX;var W23,T23,d24,Z14,g24,S14,q14,l14,o14,P24,K14,a14,H5p,g5p,z5p,M23,K23,F24,k24,J24,X24,y14,r14,z14,b24,U24,E24,i24,c24,f24,D24,N24,m24,y23,W24,N23,c23,P23,t1p,e1p,f1p,Q24;W23="a";W23+="u";W23+="t";W23+="o";T23="a";T23+="u";T23+="to";d24=N14.Studies.determineColor(u14.outputs.Levels);if(!d24 || d24 == T23 || N14.isTransparent(d24)){d24=A14.defaultColor;}Z14=N14.Studies.determineColor(u14.outputs.Darvas);if(!Z14 || Z14 == "auto" || N14.isTransparent(Z14)){Z14=A14.defaultColor;}g24=N14.Studies.determineColor(u14.outputs.Ghost);if(!g24 || g24 == W23 || N14.isTransparent(g24)){g24=A14.defaultColor;}S14=A14.panels[u14.panel];q14=u14.getContext(A14);I5V.i2V();a14=A14.layout.candleWidth - 2;if(a14 < 2){a14=1;}A14.startClip(u14.panel);if(u14.inputs["Stop Levels"]){if(q14.setLineDash){H5p=1413785298;g5p=-1052240772;z5p=2;for(var W5p=1;I5V.e0p(W5p.toString(),W5p.toString().length,51865) !== H5p;W5p++){I5V.d9P(13);q14.setLineDash([2,I5V.P9P("2",2)]);z5p+=2;}if(I5V.e0p(z5p.toString(),z5p.toString().length,99633) !== g5p){q14.setLineDash([3,4]);}}q14.lineWidth=2;q14.strokeStyle=d24;q14.beginPath();for(l14=0;l14 < v14.length;l14++){M23="L";M23+="o";M23+="s";M23+="s ";K23="Los";K23+="s ";o14=v14[l14];I5V.H9P(3);F24=v14[I5V.j9P(1,l14)];if(!o14)continue;K14=o14[K23 + u14.name]?Math.floor(A14.pixelFromPrice(o14[M23 + u14.name],S14)):null;k24=F24 && F24["Loss " + u14.name]?Math.floor(A14.pixelFromPrice(F24["Loss " + u14.name],S14)):null;if(K14){if(o14.candleWidth){a14=Math.floor(Math.max("1" >> 466432192,o14.candleWidth));}J24=Math.floor(A14.pixelFromBar(l14,S14.chart) + a14 / ("2" << 1353802112));X24=Math.floor(A14.pixelFromBar(l14,S14.chart) - a14 / 2);if(k24 && k24 >= K14){q14.lineTo(X24,K14);}else if(l14 === +"0"){q14.moveTo(A14.chart.left,K14);}else {q14.moveTo(X24,K14);}q14.lineTo(J24,K14);}}q14.stroke();if(q14.setLineDash){q14.setLineDash([]);}q14.lineWidth=1;}y14=-10;z14=0;U24=-10;i24=+"0";f24=![];D24=! !0;N24=q14.measureText((4570,7430) <= 4180?(4090,"9900" & 2147483647) <= (362.31,24.38)?951.41:("R",748.37):"\u25B2").width / 2;m24=0;for(l14=0;l14 < v14.length;l14++){y23="Gho";y23+="s";y23+="t ";y23+="Boxes";if(!v14[l14])continue;if(v14[l14].Close || v14[l14].Close === 0){m24=l14;}if(v14[l14]["Spike " + u14.name]){q14.fillStyle=Z14;q14.textBaseline="bottom";W24=A14.pixelFromPrice(v14[l14].High,A14.chart.panel);q14.fillText((985.98,213.25) < 1950?("6700" | 6692) > 2180?"\u25BC":"919.09" * 1:144.64,A14.pixelFromBar(l14) - N24,W24 - ("5" & 2147483647));;}if(v14[l14].candleWidth){a14=Math.floor(Math.max(+"1",v14[l14].candleWidth));}if(v14[l14]["Darvas " + u14.name]){N23="D";N23+="arvas ";o14=v14[l14][N23 + u14.name];if(o14.State == 1 && !f24){y14=Math.floor(A14.pixelFromBar(l14,S14.chart) - a14 / 2);r14=Math.floor(A14.pixelFromPrice(o14.High,S14));b24=Math.floor(A14.pixelFromPrice(o14.Low,S14)) - r14;f24=!0;}else if(o14.State === 0){c23="St";c23+="op";c23+=" Le";c23+="vels";z14=Math.floor(A14.pixelFromBar(l14,S14.chart) + a14 / ("2" | 0)) - y14;r14=Math.floor(A14.pixelFromPrice(o14.High,S14));b24=Math.floor(A14.pixelFromPrice(o14.Low,S14)) - r14;q14.strokeStyle=Z14;q14.fillStyle=Z14;if(!u14.inputs[c23]){q14.strokeRect(y14,r14,z14,b24);q14.globalAlpha=0.2;}else {q14.globalAlpha=0.3;}q14.fillRect(y14,r14,z14,b24);q14.globalAlpha=1;f24=! !"";}}if(v14[l14]["Ghost " + u14.name] && u14.inputs[y23]){o14=v14[l14]["Ghost " + u14.name];if(o14.State == 1 && !D24){U24=Math.floor(A14.pixelFromBar(l14,S14.chart) - a14 / 2);E24=Math.floor(A14.pixelFromPrice(o14.High,S14));i24=Math.floor((o14.End - o14.Start + 1) * A14.layout.candleWidth + a14 / 2);c24=Math.floor(A14.pixelFromPrice(o14.Low,S14)) - E24;D24=! !"1";}else if(o14.State === 0){P23="Stop Leve";P23+="ls";if(o14.Start == o14.End){U24=Math.floor(A14.pixelFromBar(l14,S14.chart) - a14 / +"2");}i24=Math.floor(A14.pixelFromBar(l14,S14.chart) + a14 / 2) - U24;E24=Math.floor(A14.pixelFromPrice(o14.High,S14));c24=Math.floor(A14.pixelFromPrice(o14.Low,S14)) - E24;q14.strokeStyle=g24;q14.fillStyle=g24;if(!u14.inputs[P23]){q14.strokeRect(U24,E24,i24,c24);q14.globalAlpha=0.2;}else {q14.globalAlpha=0.3;}q14.fillRect(U24,E24,i24,c24);q14.globalAlpha=1;D24=!{};}}}if(f24){z14=Math.floor(A14.pixelFromBar(m24,S14.chart) + a14 / +"2") - y14;q14.strokeStyle=Z14;q14.fillStyle=Z14;if(!u14.inputs["Stop Levels"]){q14.beginPath();t1p=953957610;e1p=-1991510096;f1p=2;for(var O5p=1;I5V.e0p(O5p.toString(),O5p.toString().length,50613) !== t1p;O5p++){I5V.d9P(11);q14.moveTo(I5V.j9P(z14,y14,2),r14);q14.lineTo(y14,r14);I5V.H9P(1);q14.lineTo(y14,I5V.P9P(b24,r14));I5V.H9P(11);q14.lineTo(I5V.j9P(z14,y14,2),I5V.j9P(b24,r14,I5V.d9P(1)));q14.stroke();f1p+=2;}if(I5V.e0p(f1p.toString(),f1p.toString().length,"86518" & 2147483647) !== e1p){I5V.d9P(66);q14.moveTo(I5V.P9P(0,y14,z14),r14);q14.lineTo(y14,r14);I5V.d9P(67);q14.lineTo(y14,I5V.P9P(r14,b24));I5V.H9P(14);q14.lineTo(I5V.j9P(y14,3,z14),I5V.P9P(r14,b24,I5V.d9P(15)));q14.stroke();}q14.globalAlpha=0.2;}else {q14.globalAlpha=0.3;}I5V.H9P(15);q14.fillRect(y14,r14,I5V.P9P(2,z14),b24);q14.globalAlpha=+"1";}if(D24){q14.strokeStyle=g24;q14.fillStyle=g24;if(!u14.inputs["Stop Levels"]){q14.strokeRect(U24,E24,i24,c24);q14.globalAlpha=0.2;}else {q14.globalAlpha=0.3;}q14.fillRect(U24,E24,i24,c24);q14.globalAlpha=1;}if(f24 || D24){if(u14.inputs["Stop Levels"]){if(q14.setLineDash){q14.setLineDash([2,2]);}q14.lineWidth=2;q14.strokeStyle=d24;Q24=Math.floor(A14.pixelFromBar(m24 - 1,S14.chart) + a14 / 2);if(P24){q14.beginPath();q14.moveTo(Q24,P24);q14.lineTo(f24?y14 + 2 * z14:U24 + i24,P24);q14.stroke();}if(K14){q14.beginPath();q14.moveTo(Q24,K14);q14.lineTo(f24?y14 + 2 * z14:U24 + i24,K14);q14.stroke();}if(q14.setLineDash){q14.setLineDash([]);}q14.lineWidth=1;}f24=!"1";D24=!{};}A14.endClip();};N14.Studies.studyLibrary=N14.extend(N14.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!"",calculateFN:N14.Studies.calculateDarvas,seriesFN:N14.Studies.displayDarvas,inputs:{"ATH Lookback Period":"100" << 1397503776,"Exit Field":["close","high/low"],"Ghost Boxes":! !"1","Stop Levels":! !0,"Level Offset":0.01,"Price Minimum":5,"Volume Spike":![],"Volume % of Avg":400},outputs:{Darvas:q23,Ghost:"#699158",Levels:"auto"},customRemoval:! !{},attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !"1"},flippedEnabled:{hidden:!0}}}});}};R5K=M24=>{var Z23,w24;Z23="u";Z23+="nde";Z23+="fi";Z23+="ned";w24=typeof _CIQ !== Z23?_CIQ:M24.CIQ;d2XX.E2V();if(!w24.Studies){console.error("detrended feature requires first activating studies feature.");}else {w24.Studies.calculateDetrendedPrice=function(B24,R24){var I23,w23,s24,n24,e24,p23,T24,O24;I23="Clo";I23+="se";w23="fie";w23+="ld";s24=R24.chart.scrubbed;if(s24.length < R24.days + 1){R24.error=!0;return;}d2XX.i2V();n24=R24.inputs.Field;if(!n24 || n24 == w23){n24=I23;}e24=Math.floor(R24.days / 2 + +"1");w24.Studies.MA(R24.inputs["Moving Average Type"],R24.days,n24,-e24,"MA",B24,R24);for(var V24=Math.max(R24.days - e24 - 1,R24.startFrom - e24);V24 < s24.length - e24;V24++){p23="R";p23+="esult ";T24=s24[V24][n24];if(T24 && typeof T24 == "object"){T24=T24[R24.subField];}O24=s24[V24]["MA " + R24.name];if((T24 || T24 === 0) && (O24 || O24 === 0)){d2XX.H9P(3);s24[V24][p23 + R24.name]=d2XX.P9P(O24,T24);}}};w24.Studies.studyLibrary=w24.extend(w24.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:w24.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};T5K=h24=>{var G24;G24=typeof _CIQ !== "undefined"?_CIQ:h24.CIQ;if(!G24.Studies){console.error("disparity feature requires first activating studies feature.");}else {G24.Studies.calculateDisparity=function(p24,I24){var j24,L24,x24;j24=I24.chart.scrubbed;if(j24.length < I24.days + 1){I24.error=! !1;return;}L24=I24.inputs.Field;if(!L24 || L24 == "field"){L24="Close";}G24.Studies.MA(I24.inputs["Moving Average Type"],I24.days,L24,0,"_MA",p24,I24);for(var C24=Math.max(I24.startFrom,I24.days - 1);C24 < j24.length;C24++){if(!j24[C24])continue;x24=j24[C24]["_MA " + I24.name];if(x24){j24[C24]["Result " + I24.name]=100 * (j24[C24][L24] / x24 - 1);}}};G24.Studies.studyLibrary=G24.extend(G24.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:G24.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};s5K=H24=>{var Y24;Y24=typeof _CIQ !== "undefined"?_CIQ:H24.CIQ;if(!Y24.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {Y24.Studies.calculateEaseOfMovement=function(a24,A24){var h5V=d2XX;var n23,k23,t24,F23,B23,o24,u24,S24,v24,l24;n23="R";n23+="es";n23+="u";n23+="lt";k23="Moving A";k23+="verage Type";t24=A24.chart.scrubbed;if(t24.length < A24.days){A24.error=!0;return;}for(var q24=Math.max(1,A24.startFrom);q24 < t24.length;q24++){F23="_";F23+="EO";F23+="M1";F23+=" ";B23="_";B23+="EO";B23+="M1 ";o24=(t24[q24].High + t24[q24].Low) / 2;u24=(t24[q24 - 1].High + t24[q24 - 1].Low) / 2;h5V.H9P(3);S24=h5V.P9P(u24,o24);v24=t24[q24].Volume / 100000000 / (t24[q24].High - t24[q24].Low);h5V.d9P(10);l24=h5V.P9P(S24,v24);if(!isFinite(l24)){t24[q24][B23 + A24.name]=NaN;}else {t24[q24][F23 + A24.name]=l24;}}Y24.Studies.MA(A24.inputs[k23],A24.days,"_EOM1 " + A24.name,0,n23,a24,A24);};Y24.Studies.studyLibrary=Y24.extend(Y24.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:Y24.Studies.calculateEaseOfMovement,inputs:{Period:+"14","Moving Average Type":"ma"}}});}};n5K=r24=>{var y24,u23,X23;y24=typeof _CIQ !== "undefined"?_CIQ:r24.CIQ;if(!y24.Studies){u23="ehl";u23+="erFi";u23+="sher feature requires first activating studies ";u23+="feature.";console.error(u23);}else {X23="#FF0";X23+="0";X23+="0";X23+="0";y24.Studies.calculateEhlerFisher=function(d34,Z24){var j23,z24,K24,G23,g34,i34,f34;j23="_";d2XX.E2V();j23+="n";j23+=" ";z24=Z24.chart.scrubbed;if(z24.length < Z24.days + 1){Z24.error=! !"1";return;}K24=0;if(Z24.startFrom > 1){K24=z24[Z24.startFrom - ("1" & 2147483647)][j23 + Z24.name];}function E34(P34,m34){var D34,c34,F34;D34=Number.MAX_VALUE;c34=Number.MAX_VALUE * -1;for(var b34=m34 - P34 + 1;b34 <= m34;b34++){F34=(z24[b34].High + z24[b34].Low) / 2;D34=Math.min(D34,F34);c34=Math.max(c34,F34);}return [D34,c34];}for(var U34=Z24.startFrom;U34 < z24.length;U34++){G23="_";G23+="n";G23+=" ";g34=z24[U34];if(g34.futureTick)break;if(U34 < Z24.days - 1){g34["EF " + Z24.name]=g34["EF Trigger " + Z24.name]=K24;continue;}i34=E34(Z24.days,U34);K24="0.33" * 1 * 2 * (((z24[U34].High + z24[U34].Low) / ("2" * 1) - i34["0" << 1352166880]) / Math.max(0.000001,i34[1] - i34[0]) - +"0.5") + 0.67 * K24;if(K24 > 0){K24=Math.min(K24,0.9999);}else if(K24 < 0){K24=Math.max(K24,- +"0.9999");}f34=U34?z24[U34 - ("1" & 2147483647)]["EF " + Z24.name]:0;g34["EF " + Z24.name]=+"0.5" * Math.log((1 + K24) / (1 - K24)) + 0.5 * f34;g34["EF Trigger " + Z24.name]=f34;g34[G23 + Z24.name]=K24;}};y24.Studies.studyLibrary=y24.extend(y24.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:y24.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":X23}}});}};V5K=X34=>{var k34,e23,t23,s23;k34=typeof _CIQ !== "undefined"?_CIQ:X34.CIQ;d2XX.i2V();if(!k34.Studies){console.error("elder feature requires first activating studies feature.");}else {e23="#";e23+="5F7C";e23+="B8";t23="#8";t23+="B";t23+="C";t23+="176";s23="Elder F";s23+="orce Index";k34.Studies.calculateElderImpulse=function(M34,Q34){var N34,R34,T34,w34,W34,d23,r23;N34=Q34.chart.scrubbed;R34=Q34.outputs.Bullish;T34=Q34.outputs.Bearish;w34=Q34.outputs.Neutral;d2XX.d9P(13);k34.Studies.MA("exponential",d2XX.j9P("13",1),"Close",+"0","_MA",M34,Q34);Q34.macd=new k34.Studies.StudyDescriptor("_" + Q34.name,"macd",Q34.panel);Q34.macd.chart=Q34.chart;Q34.macd.days=Q34.days;Q34.macd.startFrom=Q34.startFrom;Q34.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};Q34.macd.outputs={_MACD:null,_Signal:null};k34.Studies.calculateMACD(M34,Q34.macd);for(var J34=Q34.startFrom;J34 < N34.length;J34++){d23="Res";d23+="ult ";r23="_M";r23+="A";r23+=" ";if(J34 === "0" << 736600928){W34=w34;}else if(N34[J34]["_MA " + Q34.name] > N34[J34 - 1]["_MA " + Q34.name] && N34[J34]["_" + Q34.name + "_hist"] > N34[J34 - 1]["_" + Q34.name + "_hist"]){W34=R34;}else if(N34[J34]["_MA " + Q34.name] < N34[J34 - 1][r23 + Q34.name] && N34[J34][(("2044" & 2147483647,679.28) === "2520" * 1?"2.08e+3" * 1:"_") + Q34.name + "_hist"] < N34[J34 - 1]["_" + Q34.name + "_hist"]){W34=T34;}else {W34=w34;}N34[J34][d23 + Q34.name]=W34;;}};k34.Studies.calculateElderRay=function(e34,s34){var Y23,n34,i23,C23;Y23="_";Y23+="h";Y23+="ist";d2XX.E2V();Y23+="2";n34=s34.chart.scrubbed;if(n34.length < s34.days){s34.error=! !1;return;}k34.Studies.MA("exponential",s34.days,"Close",0,"_EMA",e34,s34);for(var V34=Math.max(s34.startFrom,s34.days - ("1" & 2147483647));V34 < n34.length;V34++){i23="_";i23+="EM";i23+="A";i23+=" ";C23="_";C23+="E";C23+="MA";C23+=" ";n34[V34][s34.name + "_hist1"]=n34[V34].High - n34[V34][C23 + s34.name];n34[V34][s34.name + "_hist2"]=n34[V34].Low - n34[V34][i23 + s34.name];}s34.outputMap={};s34.outputMap[s34.name + "_hist1"]="";s34.outputMap[s34.name + Y23]="";};k34.Studies.calculateElderForce=function(h34,O34){var B34,J23;d2XX.i2V();B34=O34.chart.scrubbed;if(B34.length < O34.days){O34.error=! !{};return;}for(var G34=Math.max(1,O34.startFrom);G34 < B34.length;G34++){J23="_E";J23+="F";J23+="1 ";B34[G34][J23 + O34.name]=B34[G34].Volume * (B34[G34].Close - B34[G34 - 1].Close);}k34.Studies.MA("exponential",O34.days,"_EF1 " + O34.name,0,"Result",h34,O34);};k34.Studies.initElderImpulse=function(j34,L34,x34,p34,C34,Y34){var L23,I34;d2XX.i2V();L23="col";L23+="ored_ba";L23+="r";I34=k34.Studies.initializeFN(j34,L34,x34,p34,C34,Y34);if(C34.calculateOnly){return I34;}j34.chart.customChart={chartType:L23,colorFunction:function(q34,t34,A34){var H34;H34=t34["Result " + I34.name];if(H34 && typeof H34 == "object"){H34=H34.color;}return H34;}};j34.setMainSeriesRenderer();return I34;};k34.Studies.displayElderForce=function(o34,l34,y34){var S34,v34,a34,u34;k34.Studies.displaySeriesAsLine(o34,l34,y34);S34=k34.Studies.determineColor(l34.outputs.Result);v34=o34.panels[l34.panel];a34=l34.getYAxis(o34);u34={skipTransform:v34.name != l34.chart.name,panelName:l34.panel,band:"Result " + l34.name,threshold:0,color:S34,yAxis:a34};if(!l34.highlight && o34.highlightedDraggable){u34.opacity=0.3;}u34.direction=1;k34.preparePeakValleyFill(o34,u34);u34.direction=-1;k34.preparePeakValleyFill(o34,u34);};k34.Studies.displayElderRay=function(Z34,r34,b44){var i44,U44,E44,d44,g44,D44,A23,l23,S23,V23,v23,K34;i44=Z34.panels[r34.panel];U44=r34.getContext(Z34);E44=r34.getYAxis(Z34);d44=Z34.pixelFromPrice(0,i44,E44);g44=Z34.layout.candleWidth - ("2" | 0);function f44(F44,c44,m44,P44){U44.fillStyle=k34.Studies.determineColor(r34.outputs[m44]);U44.fillRect(Math.floor(Z34.pixelFromBar(F44,i44.chart) - g44 / ("2" | 0) + g44 * c44),Math.floor(d44),Math.floor(g44 * (1 - +"2" * c44)),Math.floor(Z34.pixelFromPrice(K34[r34.name + P44],i44,E44) - d44));}if(g44 < 2){g44=1;}Z34.canvasColor("stx_histogram");D44=U44.fillStyle;if(!r34.underlay){U44.globalAlpha=1;}Z34.startClip(r34.panel);if(!r34.highlight && Z34.highlightedDraggable){U44.globalAlpha*=0.3;}for(var z34=0;z34 < b44.length;z34++){A23="Elder";A23+=" Bear P";A23+="owe";A23+="r";l23="Elder ";l23+="Bull Po";l23+="w";l23+="er";S23="Elder Be";S23+="ar Power";V23="_his";V23+="t2";v23="Elder Bull Pow";v23+="er";K34=b44[z34];if(!K34)continue;if(K34.candleWidth){g44=Math.floor(Math.max(+"1",K34.candleWidth - +"2"));}if(K34[r34.name + "_hist1"] > 0){f44(z34,0,v23,"_hist1");}if(K34[r34.name + V23] < 0){f44(z34,0,S23,"_hist2");}if(K34[r34.name + "_hist1"] < 0){f44(z34,+"0.1",l23,"_hist1");}if(K34[r34.name + "_hist2"] > 0){f44(z34,0.1,A23,"_hist2");}}d2XX.E2V();Z34.endClip();U44.fillStyle=D44;};k34.Studies.studyLibrary=k34.extend(k34.Studies.studyLibrary,{"Elder Force":{name:s23,calculateFN:k34.Studies.calculateElderForce,seriesFN:k34.Studies.displayElderForce,inputs:{Period:"13" >> 364544224}},"Elder Ray":{name:"Elder Ray Index",seriesFN:k34.Studies.displayElderRay,calculateFN:k34.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:k34.Studies.calculateElderImpulse,initializeFN:k34.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:! ![],inputs:{},outputs:{Bullish:t23,Bearish:"#DD3E39",Neutral:e23},removeFN:function(k44,X44){k44.chart.customChart=null;k44.setMainSeriesRenderer();}}});}};e5K=J44=>{var f23,Q44;f23="u";f23+="ndefined";Q44=typeof _CIQ !== f23?_CIQ:J44.CIQ;if(!Q44.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {Q44.Studies.calculateFractalChaos=function(e44,M44){var W44,T44,s44,R44,E23,n44,V44,w44;W44=M44.chart.scrubbed;T44=0;s44=+"0";R44=+"0";if(M44.startFrom && M44.type == "Fractal Chaos Bands"){T44=W44[M44.startFrom - +"1"]["Fractal High " + M44.name];s44=W44[M44.startFrom - 1]["Fractal Low " + M44.name];}for(var N44=Math.max(4,M44.startFrom);N44 < W44.length;N44++){E23="Fractal Chao";E23+="s Bands";if(W44[N44].futureTick)break;n44=!isNaN(W44[N44].High);V44=!isNaN(W44[N44].Low);if(n44 || V44){W44[N44]["Result " + M44.name]=0;}d2XX.H9P(19);R44=d2XX.j9P(1881742592,"0");for(w44=0;w44 <= N44;w44++){if(!W44[N44 - w44])break;if(W44[N44 - w44].High > W44[N44 - 2].High)break;if(w44 < 2 && W44[N44 - w44].High == W44[N44 - 2].High)break;if(W44[N44 - w44].High < W44[N44 - 2].High){R44++;}if(R44 == +"4"){T44=W44[N44 - +"2"].High;break;}}if(M44.type == "Fractal Chaos Bands"){if(n44){W44[N44]["Fractal High " + M44.name]=T44 > 0?T44:null;}}else if(R44 == 4){W44[N44]["Result " + M44.name]=1;}R44=+"0";for(w44=0;w44 <= N44;w44++){if(!W44[N44 - w44])break;if(W44[N44 - w44].Low < W44[N44 - 2].Low)break;if(w44 < 2 && W44[N44 - w44].Low == W44[N44 - +"2"].Low)break;if(W44[N44 - w44].Low > W44[N44 - ("2" >> 631811936)].Low){R44++;}if(R44 == 4){s44=W44[N44 - 2].Low;break;}}if(M44.type == E23){if(V44){W44[N44]["Fractal Low " + M44.name]=s44 > +"0"?s44:null;}}else if(R44 == 4){W44[N44]["Result " + M44.name]=-1;}}};Q44.Studies.studyLibrary=Q44.extend(Q44.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:Q44.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:Q44.Studies.calculateFractalChaos,seriesFN:Q44.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};O5K=B44=>{var O44,O73,g73,H73,b73;O44=typeof _CIQ !== "undefined"?_CIQ:B44.CIQ;d2XX.E2V();if(!O44.Studies){O73="highLowStudies feat";O73+="ure requires fi";O73+="rst ";O73+="activating studies feature.";console.error(O73);}else {g73="V";g73+="ertic";g73+="al Horizontal";g73+=" Filter";H73="Hig";H73+="hest High Val";H73+="ue";b73="Go";b73+="palakrishnan";b73+=" Range Inde";b73+="x";O44.Studies.calculateMaxHighMinLow=function(H44,G44){var y7V=d2XX;var h73,o73,a73,h44,Y44,p44,L44,C44,j44,D73,x73,x44,U73,m73;h73="Low Pe";h73+="riod";o73="H";o73+="ig";o73+="h Perio";o73+="d";a73="Hig";a73+="h ";a73+="Pe";a73+="riod";h44=G44.chart.scrubbed;Y44=G44.days;p44=G44.days;if(G44.inputs[a73]){Y44=G44.inputs[o73];}if(G44.inputs["Low Period"]){p44=G44.inputs[h73];}if(h44.length < Math.max(Y44,p44) + 1){G44.error=! ![];return;}L44=Number.MAX_VALUE;C44=Number.MAX_VALUE * -1;if(G44.startFrom > 1){for(j44=1;j44 < Y44;j44++){if(G44.startFrom - j44 >= 0){C44=Math.max(C44,h44[G44.startFrom - j44].High);}}for(j44=1;j44 < p44;j44++){if(G44.startFrom - j44 >= 0){L44=Math.min(L44,h44[G44.startFrom - j44].Low);}}}y7V.E2V();for(var I44=Math.max(+"0",G44.startFrom - ("1" >> 1720480640));I44 < h44.length;I44++){D73="G";D73+="opala";x73="H";x73+="HV";C44=Math.max(C44,h44[I44].High);L44=Math.min(L44,h44[I44].Low);if(I44 >= Y44){if(h44[I44 - Y44].High == C44){C44=h44[I44].High;for(j44=1;j44 < Y44;j44++){C44=Math.max(C44,h44[I44 - j44].High);}}}if(I44 >= p44){if(h44[I44 - p44].Low == L44){L44=h44[I44].Low;for(j44=1;j44 < p44;j44++){L44=Math.min(L44,h44[I44 - j44].Low);}}}x44=0;if(G44.type == x73){x44=C44;}else if(G44.type == "LLV"){x44=L44;}else if(G44.type == "Donchian Width"){y7V.d9P(3);x44=y7V.j9P(L44,C44);}else if(G44.type == "GAPO" || G44.type == D73){x44=Math.log(C44 - L44) / Math.log(p44);}else if(G44.type == "VT HZ Filter"){y7V.H9P(3);x44=y7V.j9P(L44,C44);h44[I44]["_MHML " + G44.name]=x44;continue;}else if(G44.type == "Williams %R"){U73="Re";U73+="s";U73+="ult";U73+=" ";x44=-("100" << 1808454496) * (C44 - h44[I44].Close) / (C44 - L44);h44[I44][U73 + G44.name]=x44;continue;}if(I44 == h44.length - 1)break;if(!h44[I44 + 1].futureTick){if(G44.type == "Donchian Channel"){m73="Donc";m73+="hian Low ";y7V.H9P(1);h44[y7V.j9P(1,I44)]["Donchian High " + G44.name]=C44;y7V.d9P(1);h44[y7V.P9P(1,I44)][m73 + G44.name]=L44;y7V.d9P(1);h44[y7V.P9P(1,I44)]["Donchian Median " + G44.name]=y7V.j9P(2,L44,C44,y7V.H9P(6));}else {y7V.d9P(1);h44[y7V.j9P(1,I44)]["Result " + G44.name]=x44;}}}};O44.Studies.calculateVerticalHorizontalFilter=function(S44,t44){var q44,l44,o44,u44,R73,Q73;q44=t44.chart.scrubbed;if(q44.length < t44.days + 1){t44.error=! !"1";return;}t44.mhml=new O44.Studies.StudyDescriptor(t44.name,t44.type,t44.panel);t44.mhml.chart=t44.chart;t44.mhml.days=t44.days;t44.mhml.startFrom=t44.startFrom;t44.mhml.inputs={};t44.mhml.outputs={_MHML:null};O44.Studies.calculateMaxHighMinLow(S44,t44.mhml);l44=0;d2XX.i2V();o44=[];for(var A44=Math.max(1,t44.startFrom - t44.days);A44 < q44.length;A44++){u44=Math.abs(q44[A44].Close - q44[A44 - +"1"].Close);o44.push(u44);l44+=u44;if(o44.length == t44.days){R73="_MHM";R73+="L";R73+=" ";Q73="R";Q73+="esu";Q73+="lt ";q44[A44][Q73 + t44.name]=q44[A44][R73 + t44.name] / l44;l44-=o44.shift();}}};O44.Studies.studyLibrary=O44.extend(O44.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !1,calculateFN:O44.Studies.calculateMaxHighMinLow,seriesFN:O44.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !{}},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:O44.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:b73,calculateFN:O44.Studies.calculateMaxHighMinLow},HHV:{name:H73,calculateFN:O44.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:O44.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:O44.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:g73,calculateFN:O44.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(r44,y44){var a44;a44=y44.chart.scrubbed;for(var v44=y44.startFrom;v44 < a44.length;v44++){a44[v44]["Result " + y44.name]=a44[v44].High - a44[v44].Low;}},inputs:{}}});}};B5K=K44=>{var V9V=d2XX;var z73,Z44,T73,u5p,j5p,G5p,y73,c73;z73="unde";z73+="fi";z73+="ned";Z44=typeof _CIQ !== z73?_CIQ:K44.CIQ;if(!Z44.Studies){T73="ichimoku feature r";T73+="equires first activating studies feature.";u5p=+"1119067255";j5p=-266125797;V9V.H9P(26);G5p=V9V.P9P(2147483647,"2");for(var r5p=1;V9V.f0p(r5p.toString(),r5p.toString().length,88202) !== u5p;r5p++){console.error("");V9V.d9P(15);G5p+=V9V.j9P("2",1);}if(V9V.e0p(G5p.toString(),G5p.toString().length,55163) !== j5p){console.error("");}console.error(T73);}else {y73="#808";y73+="0";y73+="0";y73+="0";c73="#FF";c73+="00";c73+="00";Z44.Studies.calculateIchimoku=function(F54,U54){var W73,g54,i54,z44,f54,b54,M73,K73,D54,c54,N73,E54;function d54(Q54,X54){var P54,k54;P54=Number.MAX_VALUE;k54=Number.MAX_VALUE * - +"1";for(var m54=X54 - Q54 + 1;m54 <= X54;m54++){if(m54 < 0)continue;P54=Math.min(P54,g54[m54].Low);k54=Math.max(k54,g54[m54].High);}V9V.i2V();return [P54,k54];}W73="Leading Span B Pe";V9V.i2V();W73+="riod";g54=U54.chart.scrubbed;i54={Base:Number(U54.inputs["Base Line Period"]),Conv:Number(U54.inputs["Conversion Line Period"]),LeadB:Number(U54.inputs[W73]),Lag:Number(U54.inputs["Lagging Span Period"])};for(z44=U54.startFrom;z44 < g54.length;z44++){if(!g54[z44])continue;f54=d54(i54.Conv,z44);g54[z44]["Conversion Line " + U54.name]=(f54["1" >> 376406912] + f54["0" | 0]) / 2;f54=d54(i54.Base,z44);g54[z44]["Base Line " + U54.name]=(f54[1] + f54[+"0"]) / +"2";if(z44 < i54.Lag)continue;g54[z44 - i54.Lag]["Lagging Span " + U54.name]=g54[z44].Close;}b54=[];for(z44=Math.max(0,U54.startFrom - i54.Base);z44 < g54.length;z44++){M73="Bas";M73+="e ";M73+="Line ";K73="Co";K73+="nversion Li";K73+="n";K73+="e ";f54=d54(i54.LeadB,z44);D54=(g54[z44][K73 + U54.name] + g54[z44][M73 + U54.name]) / 2;c54=(f54[1] + f54[0]) / 2;if(g54[z44 + i54.Base]){N73="L";N73+="ea";N73+="din";N73+="g Span B ";g54[z44 + i54.Base]["Leading Span A " + U54.name]=D54;g54[z44 + i54.Base][N73 + U54.name]=c54;}else {E54={};E54["Leading Span A " + U54.name]=D54;E54["Leading Span B " + U54.name]=c54;b54.push(E54);}}U54.appendFutureTicks(F54,b54);};Z44.Studies.displayIchimoku=function(N54,J54,V54){var W54,w54,T54,s54,n54,M54,R54;W54="Leading Span A " + J54.name;w54="Leading Span B " + J54.name;T54=Z44.Studies.determineColor(J54.outputs[J54.outputMap[W54]]);s54=Z44.Studies.determineColor(J54.outputs[J54.outputMap[w54]]);n54=N54.panels[J54.panel];M54=J54.getYAxis(N54);R54={topBand:W54,bottomBand:w54,topColor:T54,bottomColor:s54,skipTransform:n54.name != J54.chart.name,topAxis:M54,bottomAxis:M54,opacity:+"0.3"};V9V.E2V();if(!J54.highlight && N54.highlightedDraggable){R54.opacity*=0.3;}Z44.fillIntersecting(N54,J54.panel,R54);Z44.Studies.displaySeriesAsLine(N54,J54,V54);};Z44.Studies.studyLibrary=Z44.extend(Z44.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !{},calculateFN:Z44.Studies.calculateIchimoku,seriesFN:Z44.Studies.displayIchimoku,inputs:{"Conversion Line Period":"9" >> 1919921248,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":c73,"Lagging Span":y73}}});}};G5K=O54=>{var P73,e54;P73="undef";d2XX.i2V();P73+="ine";P73+="d";e54=typeof _CIQ !== P73?_CIQ:O54.CIQ;if(!e54.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {e54.Studies.calculateIntradayMomentum=function(p54,B54){var S7V=d2XX;var G54,C54,I54,j54,L54,x54;G54=B54.chart.scrubbed;C54=B54.days;if(G54.length < C54 + 1){B54.error=! !{};return;}S7V.H9P(3);I54=S7V.P9P(0,"0");S7V.d9P(0);j54=S7V.P9P(0,"0");S7V.E2V();if(B54.startFrom > 1){I54=G54[B54.startFrom - +"1"]["_totUp " + B54.name];j54=G54[B54.startFrom - +"1"]["_totDn " + B54.name];}for(var h54=B54.startFrom;h54 < G54.length;h54++){L54=G54[h54].Close - G54[h54].Open;if(L54 > 0){I54+=L54;}else {j54-=L54;}if(h54 >= C54){x54=G54[h54 - C54].Close - G54[h54 - C54].Open;if(x54 > 0){I54-=x54;}else {j54+=x54;}}S7V.H9P(68);G54[h54]["Result " + B54.name]=S7V.P9P(j54,I54,100,I54);G54[h54]["_totUp " + B54.name]=I54;G54[h54]["_totDn " + B54.name]=j54;}};e54.Studies.studyLibrary=e54.extend(e54.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:e54.Studies.calculateIntradayMomentum,inputs:{Period:"20" << 1809340288},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"70" | 70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};h5K=H54=>{var q73,Y54;q73="un";q73+="d";d2XX.i2V();q73+="efine";q73+="d";Y54=typeof _CIQ !== q73?_CIQ:H54.CIQ;if(!Y54.Studies){console.error("keltner feature requires first activating studies feature.");}else {Y54.Studies.calculateKeltner=function(q54,t54){var Z73;Z73="M";Z73+="A";Y54.Studies.MA(t54.inputs["Moving Average Type"],t54.days,"Close","0" * 1,Z73,q54,t54);Y54.Studies.calculateStudyATR(q54,t54);Y54.Studies.calculateGenericEnvelope(q54,t54,t54.inputs.Shift,"MA " + t54.name,"ATR " + t54.name);};Y54.Studies.studyLibrary=Y54.extend(Y54.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:Y54.Studies.displayChannel,calculateFN:Y54.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! ![]},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:"0.1" - 0}}}});}};I5K=l54=>{var A54,n73;d2XX.i2V();A54=typeof _CIQ !== "undefined"?_CIQ:l54.CIQ;if(!A54.Studies){console.error("klinger feature requires first activating studies feature.");}else {n73="#F";n73+="F0000";A54.Studies.calculateKlinger=function(Z54,u54){d2XX.i2V();var k73,F73,B73,p73,w73,S54,K54,v54,z54,a54,i64,y54,U64,g64,o54,I73,r54;k73="Signa";k73+="l Perio";k73+="d";k73+="s";F73="e";F73+="xpon";F73+="enti";F73+="al";B73="_";B73+="EM";B73+="A";B73+="-S";p73="exp";p73+="onenti";p73+="a";p73+="l";w73="Short Cycl";w73+="e";S54=u54.chart.scrubbed;K54=Number(u54.inputs[w73]);v54=Number(u54.inputs["Long Cycle"]);if(S54.length < Math.max(K54,v54) + 1){u54.error=!0;return;}z54=u54.name + "_hist";a54="Klinger " + u54.name;i64="KlingerSignal " + u54.name;y54="_SV " + u54.name;U64="_EMA-S " + u54.name;g64="_EMA-L " + u54.name;for(o54=Math.max("1" * 1,u54.startFrom);o54 < S54.length;o54++){I73="hl";I73+="c";I73+="/3";r54=S54[o54].Volume;if(S54[o54]["hlc/3"] < S54[o54 - 1][I73]){r54*=-1;}if(r54){S54[o54][y54]=r54;}}A54.Studies.MA(p73,K54,y54,0,B73,Z54,u54);A54.Studies.MA(F73,v54,y54,0,"_EMA-L",Z54,u54);for(o54=Math.max(v54,u54.startFrom);o54 < S54.length;o54++){if(S54[o54].futureTick || S54[o54][U64] === null || S54[o54][g64] === null)break;S54[o54][a54]=S54[o54][U64] - S54[o54][g64];}A54.Studies.MA("exponential",Number(u54.inputs[k73]),a54,0,"KlingerSignal",Z54,u54);for(o54=u54.startFrom;o54 < S54.length;o54++){S54[o54][z54]=S54[o54][a54] - S54[o54][i64];}u54.outputMap[z54]="";};A54.Studies.studyLibrary=A54.extend(A54.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:A54.Studies.displayHistogramWithSeries,calculateFN:A54.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:n73,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};j5K=E64=>{var f64,J73,Y73,X73,G73,j73,u73;f64=typeof _CIQ !== "undefined"?_CIQ:E64.CIQ;d2XX.E2V();if(!f64.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {J73="Linear ";J73+="Reg Slope";Y73="f";Y73+="ie";Y73+="l";Y73+="d";X73="Time";X73+="Se";X73+="ri";X73+="es";G73="Tim";G73+="e";G73+="Se";G73+="ries";j73="time";j73+=" ";j73+="s";j73+="eries";u73="t";u73+="s";u73+="m";u73+="a";f64.Studies.prettify["time series"]=u73;f64.Studies.movingAverage.conversions.tsma="time series";f64.Studies.movingAverage.translations[j73]="Time Series";f64.Studies.movingAverage.typeMap.tsma=G73;f64.Studies.movingAverage.typeMap["time series"]=X73;f64.Studies.calculateMovingAverageTimeSeries=function(J64,d64){var k7V=d2XX;k7V.i2V();var r73,c64,D64,F64,m64,P64,k64,X64,d73,Q64;r73="m";r73+="a";d64.ma=new f64.Studies.StudyDescriptor(d64.name,r73,d64.panel);d64.ma.chart=d64.chart;d64.ma.days=d64.days;d64.ma.startFrom=d64.startFrom;d64.ma.inputs=d64.inputs;f64.Studies.calculateLinearRegressionIndicator(J64,d64.ma);c64=d64.name;for(var N64 in d64.outputs){k7V.H9P(45);c64=k7V.P9P(c64," ",N64);}D64=parseInt(d64.inputs.Offset,+"10");if(isNaN(D64)){D64=0;}F64=d64.chart.scrubbed;m64=D64;for(var b64=d64.startFrom - +"1";b64 >= 0;b64--){P64=F64[b64][c64];if(!P64 && P64 !== +"0")continue;if(m64 > 0){m64--;continue;}break;}k64=[];for(b64++;b64 < F64.length;b64++){X64=F64[b64];if(b64 + D64 >= +"0"){d73="F";d73+="ore";d73+="ca";d73+="st ";if(b64 + D64 < F64.length){k7V.H9P(1);F64[k7V.P9P(D64,b64)][c64]=X64[d73 + d64.name];}else {Q64={};Q64[c64]=X64["Forecast " + d64.name];k64.push(Q64);}}}d64.appendFutureTicks(J64,k64);};f64.Studies.calculateLinearRegressionIndicator=function(L64,W64){var a7V=d2XX;var M64,n64,O64,h64,I64,T64,B64,V64,G64,i73,R64,C73,s64,e64,j64,C64;M64=W64.chart.scrubbed;if(M64.length < W64.days + 1){W64.error=! !1;return;}n64=W64.inputs.Field;if(!n64 || n64 == "field"){n64="Close";}O64=W64.days * (W64.days + 1) / 2;h64=Math.pow(O64,2);I64=O64 * (("2" << 953013248) * W64.days + 1) / 3;T64=0;B64=0;V64=0;if(W64.startFrom){G64=M64[W64.startFrom - 1]["_sums " + W64.name];if(G64){a7V.H9P(26);B64=G64[a7V.P9P(2147483647,"0")];a7V.d9P(13);T64=G64[a7V.P9P("1",1)];V64=G64[2];}}for(var w64=W64.startFrom;w64 < M64.length;w64++){i73="Slo";i73+="pe";i73+=" ";R64=M64[w64][n64];if(R64 && typeof R64 == "object"){R64=R64[W64.subField];}if(!R64 && R64 !== 0)continue;B64+=W64.days * R64 - T64;T64+=R64;V64+=Math.pow(R64,2);if(w64 < W64.days - "1" * 1)continue;else if(w64 > W64.days - 1){C73="o";C73+="bj";C73+="ect";s64=M64[w64 - W64.days][n64];if(s64 && typeof s64 == C73){s64=s64[W64.subField];}if(!s64 && s64 !== 0)continue;T64-=s64;V64-=Math.pow(s64,2);}e64=(W64.days * B64 - O64 * T64) / (W64.days * I64 - h64);M64[w64][i73 + W64.name]=e64;j64=(T64 - e64 * O64) / W64.days;M64[w64]["Intercept " + W64.name]=j64;M64[w64]["Forecast " + W64.name]=j64 + e64 * W64.days;C64=(W64.days * I64 - h64) / (W64.days * V64 - Math.pow(T64,2));a7V.H9P(69);M64[w64]["RSquared " + W64.name]=a7V.j9P(e64,e64,C64);M64[w64]["_sums " + W64.name]=[B64,T64,V64];}};f64.Studies.studyLibrary=f64.extend(f64.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! !1,calculateFN:f64.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! ![],calculateFN:f64.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:Y73},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:f64.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" * 1,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:J73,calculateFN:f64.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! ![],calculateFN:f64.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};C5K=p64=>{var L73,x64,v73,E73;L73="un";L73+="defined";x64=typeof _CIQ !== L73?_CIQ:p64.CIQ;if(!x64.Studies){v73="macd feature r";v73+="equires first activating studies";v73+=" feature.";console.error(v73);}else {E73="#";E73+="0";E73+="0";E73+="DD00";x64.Studies.calculateMACD=function(v64,Y64){var s7V=d2XX;var t73,A73,l73,S73,V73,A64,l64,H64,o64,u64,q64,t64,a64,s73,S64,y64,f73,e73,r64;t73="M";t73+="AC";t73+="D";t73+=" ";A73="Movi";A73+="ng Average Type";l73="Cl";l73+="o";l73+="s";l73+="e";S73="Sl";S73+="ow MA P";S73+="eriod";V73="Fa";V73+="st MA";V73+=" Period";A64=Y64.chart.scrubbed;l64=Y64.inputs;H64=Y64.name;if(!Y64.macd1Days){Y64.macd1Days=parseFloat(l64[V73]);}if(!Y64.macd2Days){Y64.macd2Days=parseFloat(l64[S73]);}if(!Y64.signalDays){Y64.signalDays=parseFloat(l64["Signal Period"]);}if(!Y64.days){Y64.days=Math.max(Y64.macd1Days,Y64.macd2Days,Y64.signalDays);}if(A64.length < Y64.days + 1){Y64.error=! !{};return;}o64=Y64.inputs.Field;if(!o64 || o64 == "field"){o64=l73;}u64=l64[A73];if(!u64){u64="exponential";}x64.Studies.MA(u64,Y64.macd1Days,o64,0,"_MACD1",v64,Y64);x64.Studies.MA(u64,Y64.macd2Days,o64,0,"_MACD2",v64,Y64);a64=Math.max(Y64.startFrom,Y64.days - 1);for(q64=a64;q64 < A64.length;q64++){s73="_";s73+="M";s73+="ACD2";s73+=" ";t64=A64[q64];if((t64["_MACD1 " + H64] || t64["_MACD1 " + H64] === 0) && (t64[s73 + H64] || t64["_MACD2 " + H64] === 0)){s7V.d9P(1);t64[s7V.P9P(H64,"MACD ")]=t64["_MACD1 " + H64] - t64["_MACD2 " + H64];}}S64=l64["Signal MA Type"];if(!S64){S64="exponential";}x64.Studies.MA(S64,Y64.signalDays,t73 + H64,0,"Signal",v64,Y64);s7V.d9P(1);y64=s7V.j9P("_hist",H64);for(q64=a64;q64 < A64.length;q64++){f73="S";f73+="ignal";f73+=" ";e73="M";e73+="AC";e73+="D ";t64=A64[q64];s7V.H9P(1);r64=t64[s7V.j9P(H64,"Signal ")];if(!r64 && r64 !== 0)continue;t64[y64]=t64[e73 + H64] - t64[f73 + H64];}Y64.outputMap[y64]="";};x64.Studies.studyLibrary=x64.extend(x64.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:x64.Studies.calculateMACD,seriesFN:x64.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":E73,"Decreasing Bar":"#FF0000"}}});}};L5K=K64=>{var O13,Z64;O13="un";O13+="define";O13+="d";Z64=typeof _CIQ !== O13?_CIQ:K64.CIQ;d2XX.E2V();if(!Z64.Studies){console.error("massIndex feature requires first activating studies feature.");}else {Z64.Studies.calculateMassIndex=function(E74,z64){d2XX.E2V();var o13,a13,U74,f74,D13,h13,x13;o13="_EMA";o13+="2";a13="_";a13+="EM";a13+="A";U74=z64.chart.scrubbed;if(U74.length < Math.max(9,z64.days + 1)){z64.error=! !{};return;}for(var i74=z64.startFrom;i74 < U74.length;i74++){U74[i74]["_High-Low " + z64.name]=U74[i74].High - U74[i74].Low;}Z64.Studies.MA("exponential",9,"_High-Low " + z64.name,+"0",a13,E74,z64);Z64.Studies.MA("exponential",9,"_EMA " + z64.name,0,o13,E74,z64);f74=+"0";if(U74[z64.startFrom - 1] && U74[z64.startFrom - 1]["_total " + z64.name]){f74=U74[z64.startFrom - 1]["_total " + z64.name];}for(var g74=Math.max(17,z64.startFrom);g74 < U74.length;g74++){D13="_";D13+="tot";D13+="a";D13+="l ";h13="_";h13+="E";h13+="MA";h13+=" ";f74+=U74[g74][h13 + z64.name] / U74[g74]["_EMA2 " + z64.name];if(g74 >= +"17" + z64.days - ("1" | 1)){x13="_";x13+="EMA ";U74[g74]["Result " + z64.name]=f74;f74-=U74[g74 - z64.days + ("1" >> 44549152)][x13 + z64.name] / U74[g74 - z64.days + 1]["_EMA2 " + z64.name];}U74[g74][D13 + z64.name]=f74;}};Z64.Studies.displayMassIndex=function(b74,d74,P74){var U13,D74,k74,c74,F74,m74;U13="Result";U13+=" ";Z64.Studies.displaySeriesAsLine(b74,d74,P74);d2XX.E2V();D74=d74.inputs["Bulge Threshold"];k74=b74.panels[d74.panel];c74=d74.getYAxis(b74);F74=Z64.Studies.determineColor(d74.outputs.Result);m74={skipTransform:b74.panels[d74.panel].name != d74.chart.name,panelName:d74.panel,band:U13 + d74.name,threshold:D74,direction:1,color:F74,yAxis:c74,opacity:0.3};if(!d74.highlight && b74.highlightedDraggable){m74.opacity*=0.3;}Z64.preparePeakValleyFill(b74,m74);Z64.Studies.drawHorizontal(b74,d74,null,D74,c74,F74);};Z64.Studies.studyLibrary=Z64.extend(Z64.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:Z64.Studies.displayMassIndex,calculateFN:Z64.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};x5K=Q74=>{var X74,m13,H13,b13,R13;X74=typeof _CIQ !== "undefined"?_CIQ:Q74.CIQ;if(!X74.Studies){m13="moneyFlow feature requires first activating studi";m13+="es fe";m13+="ature.";console.error(m13);}else {H13="a";H13+="ut";H13+="o";b13="a";b13+="u";b13+="t";b13+="o";R13="Mo";R13+="ney Flow Index";X74.Studies.calculateMoneyFlowIndex=function(G74,W74){var O7V=d2XX;var Q13,N74,M74,w74,T74,e74,s74,O74,n74,B74,R74,V74;Q13="Result";Q13+=" ";N74=W74.chart.scrubbed;if(N74.length < W74.days + 1){W74.error=!0;return;}M74=0;w74=0;T74=N74[W74.startFrom - 1];e74="_rawMF " + W74.name;O7V.E2V();s74="_cumMF " + W74.name;O74=Q13 + W74.name;if(T74 && T74[s74]){M74=T74[s74][0];w74=T74[s74][1];}for(var J74=W74.startFrom;J74 < N74.length;J74++){n74=N74[J74]["hlc/3"];if(J74 > 0 && !N74[J74].futureTick){O7V.H9P(70);B74=N74[O7V.P9P(J74,1863727072,"1")]["hlc/3"];R74=n74 * N74[J74].Volume;if(n74 > B74){M74+=R74;}else if(n74 < B74){R74*=-1;w74-=R74;}else {R74=0;}if(J74 > W74.days){V74=N74[J74 - W74.days][e74];if(V74 > 0){M74-=V74;}else {w74+=V74;}if(w74 === 0){N74[J74][O74]=100;}else if(N74[J74].Volume){O7V.d9P(71);N74[J74][O74]=O7V.P9P(w74,100,M74,1,100);}}N74[J74][e74]=R74;N74[J74][s74]=[M74,w74];}}};X74.Studies.studyLibrary=X74.extend(X74.Studies.studyLibrary,{"M Flow":{name:R13,range:"0 to 100",calculateFN:X74.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:b13,studyOverSoldValue:20,studyOverSoldColor:H13}}}});}};p5K=I74=>{var h74,v13,L13,J13,Y13,i13,C13,d13,r13,K13,W13,T13,z13,g13;h74=typeof _CIQ !== "undefined"?_CIQ:I74.CIQ;if(!h74.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {v13="#FF00";v13+="00";L13="Poi";L13+="n";L13+="ts";J13="m";J13+="a";Y13="Moving Avera";Y13+="ge Deviation";i13="a";i13+="u";i13+="t";i13+="o";C13="m";C13+="a";d13="point";d13+="s";r13="f";r13+="i";r13+="eld";K13="Triple";K13+="Exponential";W13="Dou";W13+="bleEx";W13+="ponential";T13="H";T13+="ull";z13="Trip";z13+="le ";z13+="Exponential";g13="d";g13+="e";g13+="m";g13+="a";h74.Studies.prettify=h74.extend({"2-exponential":g13,"3-exponential":"tema",hull:"hma"},h74.Studies.prettify);h74.extend(h74.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":z13},typeMap:{hma:T13,hull:"Hull",dema:"DoubleExponential","2-exponential":W13,tema:"TripleExponential","3-exponential":K13}});h74.Studies.calculateMovingAverageHull=function(q74,j74){var c13,N13,M13,L74,x74,C74,p74,y13,Y74,H74,A74,t74;c13="wm";c13+="a";d2XX.i2V();N13="w";N13+="m";N13+="a";M13="C";M13+="l";M13+="os";M13+="e";L74=j74.chart.scrubbed;x74=j74.inputs.Field;if(!x74 || x74 == "field"){x74=M13;}h74.Studies.MA(N13,j74.days,x74,0,"_WMA1",q74,j74);h74.Studies.MA(c13,Math.ceil(j74.days / +"2"),x74,0,"_WMA2",q74,j74);for(C74=j74.startFrom - 1;C74 >= 0;C74--){y13="ob";y13+="j";y13+="e";y13+="ct";p74=L74[C74][x74];if(p74 && typeof p74 == y13){p74=p74[j74.subField];}if(p74 || p74 === 0)break;}for(C74++;C74 < L74.length;C74++){Y74=L74[C74];Y74["_MMA " + j74.name]=2 * Y74["_WMA2 " + j74.name] - Y74["_WMA1 " + j74.name];}H74=parseInt(j74.inputs.Offset,10);if(isNaN(H74)){H74=0;}A74=Math.floor(Math.sqrt(j74.days));h74.Studies.MA("wma",A74,"_MMA " + j74.name,H74,"_HMA",q74,j74);t74=j74.name;for(var l74 in j74.outputs){d2XX.H9P(45);t74=d2XX.j9P(t74,(1580,9731) === (6195,6850)?(5.78e+3,"0x2377" - 0):(+"9580",5796) == 8260?(6420,1037) == (1928,350.13)?(+"3.74e+3",! !{}):6.59e+3:" ",l74);}for(C74=Math.max(j74.days + A74 - 1,j74.startFrom);C74 < L74.length;C74++){L74[C74][t74]=L74[C74]["_HMA " + j74.name];}};h74.Studies.calculateMovingAverageDoubleExponential=function(Z74,o74){var N7V=d2XX;var q13,P13,a74,y74,S74,u74,v74,K74,r74,z74,U84,g84,i84;q13="e";q13+="m";q13+="a";P13="fiel";P13+="d";a74=o74.chart.scrubbed;y74=o74.inputs.Field;if(!y74 || y74 == P13){y74="Close";}h74.Studies.MA(q13,o74.days,y74,0,"_EMA1",Z74,o74);h74.Studies.MA("ema",o74.days,"_EMA1 " + o74.name,"0" & 2147483647,"_EMA2",Z74,o74);S74=parseInt(o74.inputs.Offset,"10" >> 115937920);if(isNaN(S74)){S74=0;}N7V.E2V();K74=S74;for(u74=o74.startFrom - 1;u74 >= 0;u74--){v74=a74[u74][y74];if(v74 && typeof v74 == "object"){v74=v74[o74.subField];}if(!v74 && v74 !== 0)continue;if(K74 > 0){K74--;continue;}break;}r74=o74.name;for(var f84 in o74.outputs){N7V.d9P(45);r74=N7V.j9P(r74,(829.8,544) >= (920.01,8050)?(6.07e+3,8.30e+1):+"2130" >= 671.96?" ":217.64 === (5586,6150)?0x1bd5:"828.08" * 1,f84);}z74=[];for(u74++;u74 < a74.length;u74++){if(u74 < 2 * (o74.days - 1))continue;U84=a74[u74];g84=("2" & 2147483647) * U84["_EMA1 " + o74.name] - U84["_EMA2 " + o74.name];if(u74 + S74 >= 0){if(u74 + S74 < a74.length){N7V.d9P(1);a74[N7V.P9P(S74,u74)][r74]=g84;}else {i84={};i84[r74]=g84;z74.push(i84);}}}o74.appendFutureTicks(Z74,z74);};h74.Studies.calculateMovingAverageTripleExponential=function(P84,E84){var n7V=d2XX;var Z13,c84,F84,b84,d84,D84,X84,m84,Q84,w13,k84,J84,N84;Z13="_";Z13+="E";Z13+="MA";Z13+="1";c84=E84.chart.scrubbed;F84=E84.inputs.Field;if(!F84 || F84 == "field"){F84="Close";}h74.Studies.MA("ema",E84.days,F84,0,Z13,P84,E84);h74.Studies.MA("ema",E84.days,"_EMA1 " + E84.name,0,"_EMA2",P84,E84);h74.Studies.MA("ema",E84.days,"_EMA2 " + E84.name,0,"_EMA3",P84,E84);b84=parseInt(E84.inputs.Offset,10);if(isNaN(b84)){b84=0;}X84=b84;for(d84=E84.startFrom - 1;d84 >= 0;d84--){D84=c84[d84][F84];if(D84 && typeof D84 == "object"){D84=D84[E84.subField];}if(!D84 && D84 !== +"0")continue;if(X84 > 0){X84--;continue;}break;}m84=E84.name;for(var W84 in E84.outputs){n7V.H9P(45);m84=n7V.P9P(m84," ",W84);}Q84=[];for(d84++;d84 < c84.length;d84++){w13="_";w13+="EMA3 ";if(d84 < 3 * (E84.days - 1))continue;k84=c84[d84];J84=+"3" * k84["_EMA1 " + E84.name] - +"3" * k84["_EMA2 " + E84.name] + k84[w13 + E84.name];if(d84 + b84 >= +"0"){if(d84 + b84 < c84.length){n7V.H9P(1);c84[n7V.P9P(b84,d84)][m84]=J84;}else {N84={};N84[m84]=J84;Q84.push(N84);}}}E84.appendFutureTicks(P84,Q84);};h74.Studies.calculateMAEnvelope=function(s84,w84){var p13,I13,M84,R84,T84,B13,F13,k13;p13="M";p13+="A";I13="C";I13+="lo";I13+="s";d2XX.i2V();I13+="e";M84=w84.inputs.Field;if(!M84 || M84 == "field"){M84=I13;}h74.Studies.MA(w84.inputs["Moving Average Type"],w84.days,M84,0,p13,s84,w84);R84=w84.inputs["Shift Type"];T84=w84.inputs.Shift;if(!R84){B13="Shif";B13+="t Per";B13+="centage";R84="percent";T84=w84.inputs[B13];}if(R84 == "percent"){F13="MA";F13+=" ";d2XX.H9P(72);h74.Studies.calculateGenericEnvelope(s84,w84,d2XX.P9P(2147483647,T84,"100"),F13 + w84.name);}else if(R84 == "points"){k13="M";k13+="A ";h74.Studies.calculateGenericEnvelope(s84,w84,null,k13 + w84.name,null,Number(T84));}};h74.Studies.calculateMADev=function(L84,n84){var p7V=d2XX;var G13,j13,u13,n13,G84,e84,h84,I84,C84,X13,O84,V84,B84;G13="_his";G13+="t";j13="expon";j13+="ential";u13="P";u13+="oin";u13+="t";u13+="s";n13="fie";n13+="ld";G84=n84.chart.scrubbed;if(G84.length < n84.days + 1){n84.error=!"";return;}e84=n84.inputs.Field;if(!e84 || e84 == n13){e84="Close";}h84=n84.inputs["Points Or Percent"];p7V.E2V();if(!h84){h84=u13;}I84=n84.inputs["Moving Average Type"];if(!I84){I84=j13;}h74.Studies.MA(I84,n84.days,e84,0,"_MA",L84,n84);C84=n84.name + G13;for(var j84=Math.max(n84.startFrom,n84.days - 1);j84 < G84.length;j84++){X13="_M";X13+="A ";O84=G84[j84];V84=O84[e84];if(V84 && typeof V84 == "object"){V84=V84[n84.subField];}B84=O84[X13 + n84.name];if(B84 || B84 === 0){if(h84 == "Points"){p7V.H9P(3);O84[C84]=p7V.j9P(B84,V84);}else {p7V.d9P(73);O84[C84]=p7V.P9P("100",B84,V84,1);}}}n84.outputMap={};n84.outputMap[n84.name + "_hist"]="";};h74.Studies.studyLibrary=h74.extend(h74.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !1,seriesFN:h74.Studies.displayChannel,calculateFN:h74.Studies.calculateMAEnvelope,inputs:{Period:50,Field:r13,"Shift Type":["percent",d13],Shift:5,"Moving Average Type":C13,"Channel Fill":! ![]},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":i13},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:Y13,calculateFN:h74.Studies.calculateMADev,seriesFN:h74.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":J13,"Points Or Percent":[L13,"Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":v13}},"High Low":{name:"High Low Bands",overlay:! ![],seriesFN:h74.Studies.displayChannel,calculateFN:function(p84,x84){x84.inputs["Moving Average Type"]="triangular";h74.Studies.calculateMAEnvelope(p84,x84);},inputs:{Period:10,Field:"field","Shift Percentage":+"5","Channel Fill":! ![]},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};Y5K=H84=>{var V13,Y84,A13;V13="un";V13+="defined";Y84=typeof _CIQ !== V13?_CIQ:H84.CIQ;if(!Y84.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {A13="P";A13+="arabolic SAR";Y84.Studies.calculatePSAR=function(U94,o84){var r7V=d2XX;var t84,u84,A84,S84,l84,y84,r84,S13,v84,l13,a84,Z84,K84;t84=o84.chart.scrubbed;function z84(){u84=0;A84=null;S84=!S84;}u84=0;A84=null;r7V.E2V();S84=! !0;l84=0;y84=parseFloat(o84.inputs["Minimum AF"]);r84=parseFloat(o84.inputs["Maximum AF"]);if(o84.startFrom > +"0"){S13="R";S13+="e";S13+="sul";S13+="t ";l84=t84[o84.startFrom - ("1" & 2147483647)][S13 + o84.name];v84=t84[o84.startFrom - 1]["_state " + o84.name];if(v84 && v84.length == 3){u84=v84[0];A84=v84[1];S84=v84[2];}}for(var q84=o84.startFrom - 1;q84 < t84.length - 1;q84++){l13="_sta";l13+="te ";if(q84 < 0)continue;if(t84[q84].futureTick)break;a84=l84;if(S84){if(!A84 || A84 < t84[q84].High){A84=t84[q84].High;r7V.H9P(1);u84=Math.min(r7V.j9P(y84,u84),r84);}r7V.H9P(74);l84=r7V.P9P(a84,a84,u84,A84);Z84=Math.min(t84[Math.max(1,q84) - 1].Low,t84[q84].Low);if(l84 > t84[q84 + +"1"].Low){l84=A84;z84();}else if(l84 > Z84){l84=Z84;}}else {if(!A84 || A84 > t84[q84].Low){A84=t84[q84].Low;r7V.d9P(1);u84=Math.min(r7V.j9P(y84,u84),r84);}r7V.H9P(74);l84=r7V.P9P(a84,a84,u84,A84);K84=Math.max(t84[Math.max(+"1",q84) - 1].High,t84[q84].High);if(l84 < t84[q84 + 1].High){l84=A84;z84();}else if(l84 < K84){l84=K84;}}r7V.H9P(75);t84[r7V.P9P(2147483647,"1",q84)][l13 + o84.name]=[u84,A84,S84];if(!isNaN(t84[q84].High) || !isNaN(t84[q84].Low)){r7V.H9P(1);t84[r7V.j9P(1,q84)]["Result " + o84.name]=l84;}}};Y84.Studies.studyLibrary=Y84.extend(Y84.Studies.studyLibrary,{PSAR:{name:A13,overlay:! !1,calculateFN:Y84.Studies.calculatePSAR,seriesFN:Y84.Studies.displayPSAR2,inputs:{"Minimum AF":"0.02" - 0,"Maximum AF":0.2}}});}};H5K=i94=>{var g94,W53,T53;d2XX.i2V();g94=typeof _CIQ !== "undefined"?_CIQ:i94.CIQ;if(!g94.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {W53="#";W53+="d3e8ae";T53="#";T53+="6991";T53+="58";g94.Studies.calculatePivotPoints=function(D94,b94){var E13,e13,t13,s13,E94,c94,f13,P94,F94,f94,X8p,r8p,d8p,a53,O53,k94,X94,h53,o53;function m94(){f94.pivotPoint=(f94.high + f94.low + E94[d94 - 1].Close) / ("3" << 194096704);f94.prevHigh=f94.high;f94.prevLow=f94.low;f94.hlSpread=f94.high - f94.low;f94.high=f94.low=0;}E13="_";E13+="p";E13+="oi";E13+="nters ";e13="15";e13+="m";e13+="in";t13="secon";d2XX.E2V();t13+="d";s13="d";s13+="a";s13+="y";E94=b94.chart.scrubbed;c94="d";c94+="a";c94+="y";if(D94.layout.interval == s13){c94="month";}else if(g94.ChartEngine.isDailyInterval(D94.layout.interval)){c94="year";}else if(D94.layout.interval == "second" || D94.layout.interval == "millisecond" || D94.layout.timeUnit == t13 || D94.layout.timeUnit == "millisecond"){c94=e13;}else {f13="minut";f13+="e";P94=D94.layout.periodicity;if(D94.layout.interval != f13){P94*=D94.layout.interval;}if(P94 >= 30){c94="week";}}F94=null;f94={pivotPoint:NaN,high:0,low:0,prevHigh:"0" << 1037931488,prevLow:0,hlSpread:0};if(b94.startFrom > "1" - 0 && E94[b94.startFrom - ("1" - 0)][E13 + b94.name]){X8p=+"303641731";r8p=+"1724219501";d8p=2;for(var i8p=1;d2XX.f0p(i8p.toString(),i8p.toString().length,3694) !== X8p;i8p++){f94=g94.clone(E94[b94.startFrom - 1]["_pointers " + b94.name]);d8p+=2;}if(d2XX.e0p(d8p.toString(),d8p.toString().length,47219) !== r8p){f94=g94.clone(E94[b94.startFrom * ("6" ^ 0)]["" / b94.name]);}}for(var d94=Math.max(+"1",b94.startFrom);d94 < E94.length;d94++){a53="P";a53+="ivo";a53+="t";a53+=" ";O53="y";O53+="e";O53+="a";O53+="r";if(!E94[d94 - 1])continue;f94.high=Math.max(f94.high,E94[d94 - 1].High);f94.low=Math.min(f94.low > "0" * 1?f94.low:E94[d94 - 1].Low,E94[d94 - 1].Low);if(b94.inputs.Continuous){m94();}else if(c94 == O53 && E94[d94].DT.getYear() != E94[d94 - 1].DT.getYear()){m94();}else if(c94 == "month" && E94[d94].DT.getMonth() != E94[d94 - 1].DT.getMonth()){m94();}else if(c94 == "week" && E94[d94].DT.getDay() < E94[d94 - 1].DT.getDay()){m94();}else if(c94 == "day"){if(F94 === null){F94=g94.Studies.getMarketOffset({stx:D94,localQuoteDate:E94[d94].DT,shiftToDateBoundary:! !{}});}k94=new Date(new Date(+E94[d94].DT).setMilliseconds(E94[d94].DT.getMilliseconds() + F94));X94=new Date(new Date(+E94[d94 - ("1" << 1071960384)].DT).setMilliseconds(E94[d94 - 1].DT.getMilliseconds() + F94));if(X94.getDate() !== k94.getDate() && X94.getDay() !== 0 && D94.chart.market.isMarketDate(k94)){F94=null;m94();}}else if(c94 == "15min" && (E94[d94].DT.getHours() != E94[d94 - 1].DT.getHours() || Math.floor(E94[d94].DT.getMinutes() / 15) != Math.floor(E94[d94 - 1].DT.getMinutes() / 15))){m94();}E94[d94][a53 + b94.name]=f94.pivotPoint;if(b94.inputs.Type.toLowerCase() == "fibonacci"){h53="Support";h53+=" 3 ";o53="Re";o53+="s";o53+="istance ";o53+="1 ";E94[d94][o53 + b94.name]=f94.pivotPoint + 0.382 * f94.hlSpread;E94[d94]["Resistance 2 " + b94.name]=f94.pivotPoint + 0.618 * f94.hlSpread;E94[d94]["Resistance 3 " + b94.name]=f94.pivotPoint + f94.hlSpread;E94[d94]["Support 1 " + b94.name]=f94.pivotPoint - ("0.382" - 0) * f94.hlSpread;E94[d94]["Support 2 " + b94.name]=f94.pivotPoint - 0.618 * f94.hlSpread;E94[d94][h53 + b94.name]=f94.pivotPoint - f94.hlSpread;}else {E94[d94]["Resistance 1 " + b94.name]=2 * f94.pivotPoint - f94.prevLow;E94[d94]["Resistance 2 " + b94.name]=f94.pivotPoint + f94.hlSpread;E94[d94]["Resistance 3 " + b94.name]=f94.prevHigh + 2 * (f94.pivotPoint - f94.prevLow);E94[d94]["Support 1 " + b94.name]=2 * f94.pivotPoint - f94.prevHigh;E94[d94]["Support 2 " + b94.name]=f94.pivotPoint - f94.hlSpread;E94[d94]["Support 3 " + b94.name]=f94.prevLow - ("2" << 301637376) * (f94.prevHigh - f94.pivotPoint);}E94[d94]["_pointers " + b94.name]=g94.clone(f94);}};g94.Studies.displayPivotPoints=function(J94,Q94,w94){var z53,g53,H53,b53,R53,Q53,m53,U53,D53,x53,W94,N94;d2XX.i2V();Q94.noSlopes=!Q94.inputs.Continuous;g94.Studies.displaySeriesAsLine(J94,Q94,w94);if(Q94.inputs.Shading){z53="S";z53+="uppo";z53+="rt 3";g53="Sup";g53+="por";g53+="t 2 ";H53="Suppo";H53+="rt 1";H53+=" ";b53="Suppo";b53+="rt ";b53+="2 ";R53="Support";R53+=" 1";Q53="P";Q53+="ivo";Q53+="t ";m53="Re";m53+="sistance 1";U53="Res";U53+="istance 3";D53="Resista";D53+="nce 2 ";x53="Resi";x53+="stance 3 ";W94=J94.panels[Q94.panel];N94={noSlopes:Q94.noSlopes,opacity:Q94.parameters.opacity?Q94.parameters.opacity:0.2,skipTransform:W94.name != Q94.chart.name,yAxis:Q94.getYAxis(J94)};if(!Q94.highlight && J94.highlightedDraggable){N94.opacity*=0.3;}g94.prepareChannelFill(J94,g94.extend({panelName:Q94.panel,topBand:x53 + Q94.name,bottomBand:D53 + Q94.name,color:g94.Studies.determineColor(Q94.outputs[U53])},N94));g94.prepareChannelFill(J94,g94.extend({panelName:Q94.panel,topBand:"Resistance 2 " + Q94.name,bottomBand:"Resistance 1 " + Q94.name,color:g94.Studies.determineColor(Q94.outputs["Resistance 2"])},N94));g94.prepareChannelFill(J94,g94.extend({panelName:Q94.panel,topBand:"Resistance 1 " + Q94.name,bottomBand:"Pivot " + Q94.name,color:g94.Studies.determineColor(Q94.outputs[m53])},N94));g94.prepareChannelFill(J94,g94.extend({panelName:Q94.panel,topBand:"Support 1 " + Q94.name,bottomBand:Q53 + Q94.name,color:g94.Studies.determineColor(Q94.outputs[R53])},N94));g94.prepareChannelFill(J94,g94.extend({panelName:Q94.panel,topBand:b53 + Q94.name,bottomBand:H53 + Q94.name,color:g94.Studies.determineColor(Q94.outputs["Support 2"])},N94));g94.prepareChannelFill(J94,g94.extend({panelName:Q94.panel,topBand:"Support 3 " + Q94.name,bottomBand:g53 + Q94.name,color:g94.Studies.determineColor(Q94.outputs[z53])},N94));}};g94.Studies.studyLibrary=g94.extend(g94.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! ![],seriesFN:g94.Studies.displayPivotPoints,calculateFN:g94.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:!{}},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":T53,"Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":W53},parameters:{init:{opacity:0.2}}}});}};t5K=R94=>{var M94,y53;M94=typeof _CIQ !== "undefined"?_CIQ:R94.CIQ;d2XX.i2V();if(!M94.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {y53="a";y53+="ut";y53+="o";M94.Studies.calculatePrettyGoodOscillator=function(V94,T94){var J7V=d2XX;var M53,K53,W7p,K7p,M7p,s94,c53,N53;M53="_";M53+="SMA";K53="_";K53+="E";K53+="MA";W7p=-497233321;J7V.d9P(3);K7p=J7V.P9P(0,"1929268506");M7p=2;for(var c7p=1;J7V.f0p(c7p.toString(),c7p.toString().length,1) !== W7p;c7p++){s94=T94.chart.scrubbed;M7p+=2;}if(J7V.f0p(M7p.toString(),M7p.toString().length,98491) !== K7p){s94=T94.chart.scrubbed;}if(s94.length < T94.days + 1){T94.error=! !1;return;}M94.Studies.MA("exponential",T94.days,"trueRange",0,K53,V94,T94);M94.Studies.MA("simple",T94.days,"Close",0,M53,V94,T94);for(var n94=Math.max(+"1",T94.startFrom);n94 < s94.length;n94++){c53="_EM";c53+="A ";N53="_E";N53+="M";N53+="A ";if(!s94[n94]["_SMA " + T94.name] || !s94[n94][N53 + T94.name])continue;s94[n94]["Result " + T94.name]=(s94[n94].Close - s94[n94]["_SMA " + T94.name]) / s94[n94][c53 + T94.name];}};M94.Studies.studyLibrary=M94.extend(M94.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:M94.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:y53}}}});}};q5K=O94=>{var P53,e94,G53,j53,u53;P53="und";d2XX.i2V();P53+="efined";e94=typeof _CIQ !== P53?_CIQ:O94.CIQ;if(!e94.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {G53="0";G53+=".";G53+="0";G53+="5";j53="#";j53+="FF";j53+="0";j53+="000";u53="Pr";u53+="ice ";u53+="Momentum Oscil";u53+="lator";e94.Studies.calculatePMO=function(C94,B94){var B7V=d2XX;var n53,k53,F53,p53,I53,w53,Z53,q53,I94,G94,Q1p,R1p,b1p,j94,h94,L94,B53;n53="_";n53+="EMAx1";n53+="0 ";k53="_";k53+="EMAx10";F53="_R";F53+="O";F53+="Cx1";F53+="0 ";p53="Clo";p53+="se";I53="f";I53+="ie";I53+="ld";w53="Sign";w53+="a";w53+="l Period";Z53="Double";Z53+=" Smoothing Period";q53="Smoo";q53+="thing Peri";q53+="od";I94={Smooth:Number(B94.inputs[q53]) - 1,Double:Number(B94.inputs[Z53]) - 1,Signal:Number(B94.inputs[w53])};G94=B94.chart.scrubbed;if(G94.length < I94.Smooth + I94.Double){Q1p=-171809287;R1p=-377093049;b1p=2;for(var g1p=1;B7V.f0p(g1p.toString(),g1p.toString().length,"63796" - 0) !== Q1p;g1p++){B94.error=!1;b1p+=2;}if(B7V.f0p(b1p.toString(),b1p.toString().length,46875) !== R1p){B94.error=!0;}return;}j94=B94.inputs.Field;if(!j94 || j94 == I53){j94=p53;}for(h94=B94.startFrom;h94 < G94.length;h94++){if(!G94[h94])continue;if(!G94[h94 - +"1"])continue;B7V.H9P(3);L94=G94[B7V.P9P(1,h94)][j94];if(L94){B53="_ROCx";B53+="1";B53+="0";B53+=" ";G94[h94][B53 + B94.name]=1000 * (G94[h94][j94] / L94 - 1);}}e94.Studies.MA("exponential",I94.Smooth,F53 + B94.name,0,k53,C94,B94);e94.Studies.MA("exponential",I94.Double,n53 + B94.name,+"0","PMO",C94,B94);B7V.i2V();e94.Studies.MA("exponential",I94.Signal,"PMO " + B94.name,0,"PMOSignal",C94,B94);B94.zoneOutput="PMO";};e94.Studies.studyLibrary=e94.extend(e94.Studies.studyLibrary,{PMO:{name:u53,calculateFN:e94.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:j53},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:G53},studyOverSoldValue:{max:0,step:"0.05"}}}});}};A5K=p94=>{var x94,e53,t53,s53,A53,l53,S53;d2XX.i2V();x94=typeof _CIQ !== "undefined"?_CIQ:p94.CIQ;if(!x94.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {e53="0";e53+=".";e53+="1";t53="f";t53+="ie";t53+="l";t53+="d";s53="RA";s53+="V";s53+="I";A53="Po";A53+="i";A53+="n";A53+="ts";l53="Per";l53+="c";l53+="en";l53+="t";S53="e";S53+="m";S53+="a";x94.Studies.calculatePriceOscillator=function(y94,Y94){var w7V=d2XX;var i53,C53,r53,X53,o94,a94,u94,b7p,H7p,g7p,t94,q94,v2p,V2p,S2p,d53,S94,H94,A94,l94,Y53;i53="P";i53+="er";i53+="c";i53+="ent";C53="Points Or";C53+=" Percent";r53="f";r53+="i";r53+="el";r53+="d";X53="Long C";X53+="ycle";o94=Y94.chart.scrubbed;a94=Number(Y94.inputs["Short Cycle"]);u94=Number(Y94.inputs[X53]);if(o94.length < Math.max(a94,u94) + +"1"){b7p=230760542;H7p=-116408881;g7p=2;for(var T7p=1;w7V.f0p(T7p.toString(),T7p.toString().length,74791) !== b7p;T7p++){Y94.error=! !0;g7p+=2;}if(w7V.f0p(g7p.toString(),g7p.toString().length,"55159" & 2147483647) !== H7p){Y94.error=! !{};}Y94.error=! !{};return;}t94=Y94.inputs.Field;q94=Y94.inputs["Moving Average Type"];if(!q94){q94="simple";}if(!t94 || t94 == r53){t94="Close";}if(Y94.parameters.isVolume){t94="Volume";v2p=1325055406;V2p=2132079138;S2p=2;for(var A2p=1;w7V.e0p(A2p.toString(),A2p.toString().length,23745) !== v2p;A2p++){d53="exp";d53+="onential";q94=d53;S2p+=2;}if(w7V.e0p(S2p.toString(),S2p.toString().length,78566) !== V2p){q94="";}}S94=Y94.inputs[C53];if(!S94){S94=i53;}x94.Studies.MA(q94,a94,t94,0,"_Short MA",y94,Y94);x94.Studies.MA(q94,u94,t94,0,"_Long MA",y94,Y94);w7V.E2V();for(var v94=Math.max(u94,Y94.startFrom);v94 < o94.length;v94++){H94=o94[v94];if(!H94)continue;A94=H94["_Short MA " + Y94.name];l94=H94["_Long MA " + Y94.name];if((A94 || A94 === 0) && (l94 || l94 === 0)){if(S94 == "Points"){w7V.H9P(3);H94["Result " + Y94.name]=w7V.P9P(l94,A94);}else {w7V.d9P(76);H94["Result " + Y94.name]=w7V.P9P(A94,100,1,l94);}if(Y94.outputs["Increasing Bar"]){Y53="R";Y53+="esul";Y53+="t ";H94[Y94.name + "_hist"]=H94[Y53 + Y94.name];Y94.outputMap={};Y94.outputMap[Y94.name + "_hist"]="";}}}};x94.Studies.displayRAVI=function(Z94,r94,E0t){var f0t,z94,d0t,b0t,g0t,F0t,m0t,V53,v53,L53,J53,K94,i0t,D0t,c0t;f0t=Z94.panels[r94.panel];z94=r94.getContext(Z94);d2XX.i2V();d0t=r94.getYAxis(Z94);b0t=Z94.pixelFromPrice(+"0",f0t,d0t);g0t=Z94.layout.candleWidth - 2;if(g0t < 2){g0t=1;}F0t=x94.Studies.determineColor(r94.outputs["Increasing Bar"]);m0t=x94.Studies.determineColor(r94.outputs["Decreasing Bar"]);Z94.startClip(r94.panel);Z94.canvasColor("stx_histogram");if(!r94.underlay){z94.globalAlpha=1;}if(!r94.highlight && Z94.highlightedDraggable){z94.globalAlpha*=0.3;}for(var U0t=0;U0t < E0t.length;U0t++){V53="#";V53+="CCCC";V53+="CC";v53="_";v53+="hist";L53="_";L53+="hist";J53="_h";J53+="i";J53+="st";K94=E0t[U0t];d2XX.d9P(3);i0t=E0t[d2XX.P9P(1,U0t)];if(!i0t){i0t=Z94.getPreviousBar(Z94.chart,r94.name + "_hist",U0t);}if(!K94)continue;D0t=0;c0t=0;if(r94.parameters && r94.parameters.studyOverZonesEnabled){D0t=parseFloat(r94.parameters.studyOverBoughtValue);c0t=parseFloat(r94.parameters.studyOverSoldValue);}if(!i0t){z94.fillStyle="#CCCCCC";}else if(K94[r94.name + J53] > D0t && i0t[r94.name + "_hist"] < K94[r94.name + L53]){z94.fillStyle=F0t;}else if(K94[r94.name + "_hist"] < c0t && i0t[r94.name + v53] > K94[r94.name + "_hist"]){z94.fillStyle=m0t;}else {z94.fillStyle=V53;}if(K94.candleWidth){g0t=Math.floor(Math.max(1,K94.candleWidth - 2));}z94.fillRect(Math.floor(Z94.pixelFromBar(U0t,f0t.chart) - g0t / ("2" << 292040608)),Math.floor(b0t),Math.floor(g0t),Math.floor(Z94.pixelFromPrice(K94[r94.name + "_hist"],f0t,d0t) - b0t));}Z94.endClip();};x94.Studies.studyLibrary=x94.extend(x94.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:x94.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":S53,"Points Or Percent":["Points",l53]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:x94.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[A53,"Percent"]},parameters:{init:{isVolume:! !"1"}}},RAVI:{name:s53,seriesFN:x94.Studies.displayRAVI,calculateFN:x94.Studies.calculatePriceOscillator,inputs:{Field:t53,"Moving Average Type":"vdma","Short Cycle":"7" << 1286200288,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:+"0",step:e53}}}});}};l5K=k0t=>{d2XX.i2V();var P0t;P0t=typeof _CIQ !== "undefined"?_CIQ:k0t.CIQ;if(!P0t.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {P0t.Studies.calculatePrimeNumber=function(O0t,N0t){var W0t,T0t,J0t,Q0t,X0t,f53,w0t,V0t,e0t;function M0t(B0t){var h0t;if(B0t <= 0){return !"1";}else if(B0t != Math.floor(B0t)){return !1;}else if(W0t[B0t] === ! !{} || W0t[B0t] === ! !""){return W0t[B0t];}h0t=parseInt(Math.sqrt(B0t),10);for(var G0t=2;G0t <= h0t;G0t++){if(B0t % G0t === 0){W0t[B0t]=![];return !"1";}}W0t[B0t]=! ![];return ! !{};}d2XX.E2V();W0t=[];T0t=N0t.chart.scrubbed;for(var R0t=N0t.startFrom;R0t < T0t.length;R0t++){J0t=T0t[R0t];if(!J0t)continue;Q0t=J0t.High;if(!isNaN(Q0t)){for(var s0t=0;Q0t > 0 && Q0t <= 10;s0t++){Q0t*=+"10";}if(M0t(Q0t)){d2XX.d9P(19);Q0t+=d2XX.j9P(1212759712,"2");}Q0t=Math.ceil(Q0t);if(Q0t % 2 === 0){Q0t++;}while(!M0t(Q0t)){Q0t+=2;}Q0t/=Math.pow(10,s0t);}X0t=J0t.Low;if(!isNaN(X0t)){for(var n0t=0;X0t > 0 && X0t <= 10;n0t++){X0t*=+"10";}if(M0t(X0t)){X0t-=2;}X0t=Math.floor(X0t);if(X0t % +"2" === "0" >> 2074692640){X0t--;}if(X0t > 0){while(!M0t(X0t)){X0t-=2;}X0t/=Math.pow(10,n0t);}}if(N0t.type == "Prime Number Bands"){f53="Prime";f53+=" Bands T";f53+="op ";if(!isNaN(Q0t)){J0t[f53 + N0t.name]=Q0t;}if(!isNaN(X0t)){J0t["Prime Bands Bottom " + N0t.name]=Math.max(0,X0t);}}else {w0t=0;V0t=N0t.inputs["Tolerance Percentage"] * (Q0t - X0t) / 100;e0t=Q0t + X0t - 2 * J0t.Close;if(e0t < V0t){w0t=1;}else if(e0t > V0t){w0t=- +"1";}if(w0t){J0t["Result " + N0t.name]=w0t;}}}};P0t.Studies.studyLibrary=P0t.extend(P0t.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:P0t.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!"",calculateFN:P0t.Studies.calculatePrimeNumber,seriesFN:P0t.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};o5K=j0t=>{var E53,I0t,O93,g93,H93,b93,R93,Q93;E53="u";E53+="nd";E53+="efi";E53+="ned";I0t=typeof _CIQ !== E53?_CIQ:j0t.CIQ;if(!I0t.Studies){O93="pring featur";O93+="e requires first activating studies feature.";console.error(O93);}else {g93="f";g93+="ie";g93+="l";g93+="d";H93="Pring's Sp";H93+="eci";H93+="al K";b93="#0";b93+="0D";b93+="D0";b93+="0";R93="fie";R93+="l";R93+="d";Q93="Pring's";Q93+=" Kno";Q93+="w Sure Thing";I0t.Studies.calculateKST=function(A0t,C0t){var D93,h93,o93,a93,p0t,H0t,Y0t,t0t,l0t,x0t,L0t,x93,q0t;D93="s";D93+="imp";D93+="le";h93="Signal Pe";h93+="r";h93+="iod";o93="Hea";o93+="viest SMA";o93+=" Pe";o93+="riod";a93="Heavi";a93+="est Rate of Chan";a93+="g";a93+="e Period";p0t=C0t.chart.scrubbed;H0t=C0t.inputs.Field;if(!H0t || H0t == "field"){H0t="Close";}Y0t={};t0t={};Y0t[1]=Number(C0t.inputs["Lightest Rate of Change Period"]);Y0t[2]=Number(C0t.inputs["Light Rate of Change Period"]);Y0t[3]=Number(C0t.inputs["Heavy Rate of Change Period"]);Y0t[+"4"]=Number(C0t.inputs[a93]);t0t[+"1"]=Number(C0t.inputs["Lightest SMA Period"]);t0t[2]=Number(C0t.inputs["Light SMA Period"]);t0t[3]=Number(C0t.inputs["Heavy SMA Period"]);t0t[+"4"]=Number(C0t.inputs[o93]);l0t=Number(C0t.inputs[h93]);for(x0t=C0t.startFrom;x0t < p0t.length;x0t++){if(!p0t[x0t])continue;for(L0t=+"1";L0t <= +"4";L0t++){if(x0t >= Y0t[L0t] && p0t[x0t - Y0t[L0t]] && p0t[x0t - Y0t[L0t]][H0t]){p0t[x0t]["_ROC" + L0t + " " + C0t.name]=("100" | 96) * (p0t[x0t][H0t] / p0t[x0t - Y0t[L0t]][H0t] - 1);}}}for(L0t=1;L0t <= +"4";L0t++){x93="_R";x93+="O";x93+="C";I0t.Studies.MA("simple",t0t[L0t],x93 + L0t + (40.19 !== (4110,962.57)?" ":(4131,451.26) == 4910?"53.26" * 1:"l") + C0t.name,0,"_SMA" + L0t,A0t,C0t);}for(x0t=C0t.startFrom;x0t < p0t.length;x0t++){p0t[x0t]["KST " + C0t.name]=null;for(L0t=1;L0t <= 4;L0t++){q0t=p0t[x0t]["_SMA" + L0t + (5162 !== 1537?" ":8690 !== 892.03?("k","G"):![]) + C0t.name];if(q0t || q0t === ("0" & 2147483647)){d2XX.H9P(15);p0t[x0t]["KST " + C0t.name]+=d2XX.P9P(L0t,q0t);}}}I0t.Studies.MA(D93,l0t,"KST " + C0t.name,0,"KSTSignal",A0t,C0t);};I0t.Studies.calculateSpecialK=function(z0t,a0t){var S0t,y0t,v0t,r0t,Z0t,u0t,o0t,U93,m93,K0t;S0t=a0t.chart.scrubbed;y0t=a0t.inputs.Field;if(!y0t || y0t == "field"){y0t="Close";}v0t=a0t.inputs.Interval;if(!v0t){v0t="daily";}r0t={daily:[10,15,20,"30" * 1,50,65,75,+"100",+"195",265,390,530],weekly:[4,5,+"6",8,"10" ^ 0,13,15,"20" | 4,39,52,+"78",104]};Z0t={daily:[10,10,"10" ^ 0,"15" - 0,50,65,75,100,130,130,+"130","195" >> 525986528],weekly:[4,5,6,8,+"10",13,15,20,26,26,26,39]};for(u0t=a0t.startFrom;u0t < S0t.length;u0t++){if(!S0t[u0t])continue;for(o0t=0;o0t < r0t[v0t].length;o0t++){if(u0t >= r0t[v0t][o0t] && S0t[u0t - r0t[v0t][o0t]] && S0t[u0t - r0t[v0t][o0t]][y0t]){S0t[u0t]["_ROC" + o0t + (("2790" ^ 0,622) !== 3923?(8791,+"6343") === +"4330"?(7400,464.08) == 1696?(! !{},! !{}):! !"":" ":(+"856.53",7.94e+2)) + a0t.name]=100 * (S0t[u0t][y0t] / S0t[u0t - r0t[v0t][o0t]][y0t] - ("1" | 1));}}}for(o0t=0;o0t < Z0t[v0t].length;o0t++){U93="_";U93+="RO";U93+="C";I0t.Studies.MA(v0t == "daily"?"simple":"exponential",Z0t[v0t][o0t],U93 + o0t + (175.66 != 426.42?(4880,750.47) != 938.57?(1838,405.05) === 4470?(! !0,"p"):" ":(0x189b,!{}):(! !"",0x1cbb)) + a0t.name,0,"_MA" + o0t,z0t,a0t);}for(u0t=a0t.startFrom;u0t < S0t.length;u0t++){m93="R";m93+="es";m93+="ult ";S0t[u0t][m93 + a0t.name]=null;for(o0t=0;o0t < Z0t[v0t].length;o0t++){K0t=S0t[u0t]["_MA" + o0t + ((170.05,9220) == (8660,7604)?("5200" & 2147483647,+"541.19") <= (8243,691.93)?57.12:("K",! !{}):" ") + a0t.name];if(K0t || K0t === "0" * 1){d2XX.H9P(77);S0t[u0t]["Result " + a0t.name]+=d2XX.P9P(1,4,o0t,K0t);}}}};I0t.Studies.studyLibrary=I0t.extend(I0t.Studies.studyLibrary,{"Pring KST":{name:Q93,calculateFN:I0t.Studies.calculateKST,inputs:{Field:R93,"Lightest Rate of Change Period":10,"Lightest SMA Period":"10" & 2147483647,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":+"15","Signal Period":9},outputs:{KST:b93,KSTSignal:"#FF0000"}},"Pring Sp-K":{name:H93,calculateFN:I0t.Studies.calculateSpecialK,inputs:{Field:g93,Interval:["daily","weekly"]}}});}};u5K=g1t=>{var z93,U1t,i1t,Y93,i93,C93,d93,r93,X93,G93,j93,u93,n93,k93;z93="un";z93+="d";z93+="ef";d2XX.i2V();z93+="ined";U1t=typeof _CIQ !== "undefined"?_CIQ:g1t.CIQ;i1t=typeof _timezoneJS !== z93?_timezoneJS:g1t.timezoneJS;if(!U1t.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {Y93="#";Y93+="b8";Y93+="2c";Y93+="0c";i93="Proj";i93+="ected Aggre";i93+="gate V";i93+="olume";C93="+5";C93+="0%";d93="#b82";d93+="c0c";r93="#cf";r93+="bd";r93+="0";r93+="e";X93="-";X93+="1";X93+="0";X93+="0%";G93="-";G93+="2";G93+="5%";j93="+";j93+="5";j93+="0";j93+="%";u93="+100";u93+="%";n93="+";n93+="12";n93+="5";n93+="%";k93="+1";k93+="5";k93+="0";k93+="%";U1t.Studies.initProjectedVolume=function(d1t,c1t,E1t,F1t,m1t,P1t){var W93,T93,f1t,D1t;W93="A";W93+="n";W93+="c";W93+="hor Time";T93=":";T93+="0";T93+="0";var {market:b1t}=d1t.chart;f1t="00:00";if(b1t){f1t=b1t.getNormalOpen();}if(f1t.match(/^[\d]{2}:[\d]{2}$/)){f1t+=T93;}if(!E1t["Anchor Time"] || !E1t[W93].length){E1t["Anchor Time"]=f1t;}D1t=U1t.Studies.initializeFN(d1t,c1t,E1t,F1t,m1t,P1t);if(!d1t.currentlyImporting){D1t.defaultAnchorTime=f1t;}return D1t;};U1t.Studies.validateProjectedVolumeLookback=function(J1t,N1t){var {interval:k1t, periodicity:X1t}=J1t.layout;d2XX.i2V();var {"Lookback Days":Q1t}=N1t.inputs;d2XX.d9P(78);return d2XX.P9P(X1t,k1t,Q1t,10);};U1t.Studies.calculateProjectedVolume=function(M1t,W1t){var M7V=d2XX;var M93,K93,P2t,B1t,w8p,I8p,p8p,D7p,U7p,m7p,C1t,N93,X2t,Q2t,Z1t,K1t,R1t,z1t,p2t,T1t,U2t,g2t,J2t,i2t,K5p,M5p,N5p,y93,G1t,f2t,Y2t,O1t,H2t,q1t,s1t,u1t,V1t,L1t,W2t,w2t,M2t,R2t,d2t,b2t,a1t,A2t,T2t,c93,p1t,Y1t,r1t,l2t,D2t,w93,q93,P93,n1t,s2t,n2t,c2t,V2t,A1t,Z93;M93="00";M93+=":0";M93+="0";K93="hei";K93+="ki";K93+="n";K93+="ashi";var {interval:h2t, timeUnit:F2t, aggregationType:m2t}=M1t.layout;var {symbol:I2t, scroll:j2t, scrubbed:w1t, market:e1t}=M1t.chart;P2t=W1t.type === "PAV";B1t=W1t.study?W1t.study.name:W1t.type;if(U1t.ChartEngine.isDailyInterval(h2t)){W1t.error=`${B1t} is Intraday Only`;}else if(F2t === "tick"){w8p=-213028654;I8p=1686959134;p8p=+"2";for(var F8p=1;M7V.f0p(F8p.toString(),F8p.toString().length,78406) !== w8p;F8p++){W1t.error=`Tick mode not supported for ${B1t}`;p8p+=2;}if(M7V.f0p(p8p.toString(),p8p.toString().length,3302) !== I8p){W1t.error=`Tick mode not supported for ${B1t}`;}W1t.error=`Tick mode not supported for ${B1t}`;}else if(F2t !== "minute"){W1t.error=`Sub-minute periodicities not supported for ${B1t}`;}else if(!m2t || !["ohlc",K93].includes(m2t)){W1t.error=`Aggregation type not supported for ${B1t}`;}else if(!U1t.Studies.validateProjectedVolumeLookback(M1t,W1t)){D7p=2137565535;U7p=468985177;m7p=2;for(var R7p=1;M7V.f0p(R7p.toString(),R7p.toString().length,62079) !== D7p;R7p++){W1t.error=`Selected lookback/periodicity combo not supported for ${B1t}`;m7p+=2;}if(M7V.e0p(m7p.toString(),m7p.toString().length,48808) !== U7p){W1t.error=`Selected lookback/periodicity combo not supported for ${B1t}`;}}if(W1t.error){return;}if(W1t.inputs["Anchor Selector"]){U1t.Studies.initAnchorHandle(M1t,W1t);}else {U1t.Studies.removeAnchorHandle(M1t,W1t);}C1t=e1t?e1t.getNormalOpen():M93;function B2t(U3t){var I93;I93="s";I93+="crubbe";I93+="d";return M1t.tickFromDate(U3t,null,null,!"",I93);}if(C1t.match(/^[\d]{2}:[\d]{2}$/)){C1t+=":00";}if(!M1t.currentlyImporting && C1t !== W1t.defaultAnchorTime){N93="A";N93+="nchor";N93+=" Time";W1t.defaultAnchorTime=C1t;W1t.inputs[N93]=C1t;U1t.Studies.repositionAnchor(M1t,W1t);return;}var {"Lookback Days":o1t, "Anchor Time":C2t}=W1t.inputs;function H1t(r2t){M7V.i2V();return {hours:r2t.getHours(),minutes:r2t.getMinutes()};}var [L2t,x2t,k2t = 0]=C2t.split((539,2617) < +"1081"?![]:8666 !== (4160,626)?+"979.53" === (9750,9861)?("550.87" - 0,0x20d2):":":(264.25,0x8a7));X2t=U1t.Market.Symbology.isForexSymbol(I2t);Q2t=W1t.getDependents(M1t);Z1t=0;function l1t(D3t,c3t){var d3t,b3t,E3t;d3t=G2t(D3t);b3t=e1t.getOpen(d3t) || o2t(d3t);E3t=B2t(b3t);if(!c3t){return E3t;}if(E3t < 0){E3t=B2t(O2t(b3t,1,!0));}if(E3t >= w1t.length){return !{};}return E3t;}function G2t(g3t){var p93;p93="scr";p93+="ub";M7V.E2V();p93+="be";p93+="d";return M1t.dateFromTick(g3t,null,! !{},p93);}K1t=[];function e2t(y2t){M7V.E2V();console.error(`Expected data for ${G2t(y2t).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}Q2t.forEach(({inputs:u2t, outputMap:S2t})=>{M7V.E2V();if(u2t.Period){Z1t=Math.max(parseInt(u2t.Period),Z1t);K1t.push(...Object.keys(S2t));}});W1t.dependentsOutputMap=K1t;z1t=l1t(w1t.length - 1,!"");p2t=Math.ceil(w1t.length - 1 - j2t);M7V.H9P(3);T1t=l1t(M7V.j9P(Z1t,p2t));if(X2t && w1t[T1t] && U1t.dateToStr(w1t[T1t].DT,"HH:mm") !== C1t){M7V.d9P(79);T1t=l1t(M7V.j9P("1",T1t));;}if(!X2t && W1t.startFrom > T1t && w1t[T1t] && w1t[T1t]["V " + W1t.name] !== undefined && K1t.every(v2t=>{return ![undefined,null].includes(w1t[T1t][v2t]);}) && z1t !== ![]){R1t=z1t;;}else {R1t=T1t;}U2t=O2t(G2t(T1t),o1t);U2t.setHours(+"0",0,0);function O2t(Z2t,K2t,z2t){while(K2t){Z2t=new Date(new Date(Z2t).setDate(Z2t.getDate() + (z2t?1:-1)));if(e1t.isMarketDate(Z2t)){K2t--;}}M7V.E2V();return Z2t;}function o2t(i3t){var f3t;i3t.setHours(0);i3t.setMinutes(0);f3t=U1t.Studies.getMarketOffset({stx:M1t,localQuoteDate:i3t});return new Date(i3t.getTime() + f3t);}g2t=l1t(0,! !{});J2t=(g2t || g2t === 0) && B2t(O2t(w1t[g2t].DT,o1t,! ![]));if(w1t[0].DT > U2t){if(M1t.quoteDriver){M1t.quoteDriver.extendHistoricalData({from:U2t});if(J2t > +"0"){R1t=J2t;}else {return;}}else {return W1t.error=`Not enough data to calculate ${B1t}`;}}if(R1t < 0 || R1t > w1t.length - 1){return;}i2t=w1t.length - W1t.startFrom === 1 && W1t.cachedFutureTicks && W1t.cachedLastProjection && +W1t.cachedLastProjection.DT === +w1t[w1t.length - 1].DT && w1t[R1t]["PV " + W1t.name];if(i2t){w1t[w1t.length - 1]["PV " + W1t.name]=W1t.cachedLastProjection.projectedValue;W1t.appendFutureTicks(M1t,W1t.cachedFutureTicks);K5p=1811313237;M5p=-978815733;N5p=2;for(var y5p=1;M7V.f0p(y5p.toString(),y5p.toString().length,85984) !== K5p;y5p++){R1t=W1t.startFrom;N5p+=2;}if(M7V.f0p(N5p.toString(),N5p.toString().length,10691) !== M5p){R1t=W1t.startFrom;}}else {y93="P";y93+="V";y93+=" ";W1t.cachedFutureTicks=null;W1t.cachedLastProjection=null;G1t=[z1t];f2t=[];for(var N2t=0;N2t < o1t;N2t++){Y2t=l1t(G1t[0] - 1);G1t.unshift(Y2t);;}while(G1t[o1t] >= R1t){O1t=G1t.pop();if(!w1t[O1t]){return e2t(O1t);}H2t=H1t(w1t[O1t].DT);var {hours:h1t, minutes:t1t}=H2t;q1t=e1t.getClose(w1t[O1t].DT);s1t=void 0;if(!q1t){s1t={hours:24,minutes:0};}else {u1t=e1t.getNextClose(w1t[O1t].DT);s1t=H1t(q1t);while(!(s1t.hours === 0 && s1t.minutes === +"0") && q1t.getDate() === u1t.getDate()){q1t=u1t;u1t=e1t.getNextClose(u1t);}s1t=H1t(q1t);if(s1t.hours === 0){s1t.hours=+"24";}}V1t=G1t.slice();for(var S1t=0;S1t < V1t.length;S1t++){L1t=V1t[S1t];if(!w1t[L1t]){return e2t(L1t);}var {hours:v1t, minutes:E2t}=H1t(w1t[L1t].DT);if(v1t < h1t || v1t === h1t && E2t < t1t){do {L1t++;({hours:v1t, minutes:E2t}=H1t(w1t[L1t].DT));}while(!(v1t === h1t && E2t === t1t));}V1t[S1t]=L1t;}while(h1t < s1t.hours || h1t === s1t.hours && t1t < s1t.minutes){W2t=![];w2t=void 0;M2t=void 0;R2t=0;d2t=0;for(var I1t=0;I1t < V1t.length;I1t++){b2t=V1t[I1t];if(b2t === null)continue;a1t=w1t[b2t];if(!a1t){return e2t(b2t);}var {hours:t2t, minutes:q2t}=H1t(a1t.DT);A2t=a1t.DT.getDate();if(t2t === h1t && q2t === t1t){R2t+=a1t.Volume;d2t++;V1t[I1t]++;if(w1t[V1t[I1t]].DT.getDate() !== A2t){V1t[I1t]=null;}else if(!W2t){({hours:w2t, minutes:M2t}=H1t(w1t[V1t[I1t]].DT));W2t=! ![];;}}}h1t=w2t;t1t=M2t;if(d2t === 0)break;M7V.H9P(10);T2t=M7V.j9P(R2t,d2t);if(w1t[O1t]){c93="P";c93+="V";c93+=" ";w1t[O1t][c93 + W1t.name]=T2t;}else {f2t.push({["PV " + W1t.name]:T2t});}O1t++;}G1t.unshift(l1t(G1t[0] - 1));;}W1t.cachedLastProjection={DT:w1t[w1t.length - 1].DT,projectedValue:w1t[w1t.length - 1][y93 + W1t.name]};W1t.cachedFutureTicks=f2t;W1t.appendFutureTicks(M1t,f2t);}p1t=null;Y1t=0;r1t=+"0";if(i2t && P2t){while(R1t > 0){M7V.d9P(3);D2t=w1t[M7V.P9P(1,R1t)]["V " + W1t.name];if(D2t || D2t === 0){Y1t=D2t;break;}R1t--;}}for(var j1t=R1t;j1t < w1t.length;j1t++){w93="V";w93+=" ";q93="America/Ne";q93+="w";q93+="_York";P93="P";P93+="V ";n1t=w1t[j1t];s2t=n1t.Volume;n2t=n1t[P93 + W1t.name];if(!n1t.futureTick){l2t=j1t;}if(p1t === null){p1t=U1t.Studies.getMarketOffset({stx:M1t,localQuoteDate:w1t[j1t].DT,shiftToDateBoundary:!0});}c2t=new Date(new Date(n1t.DT).getTime() + p1t);V2t=w1t[j1t - 1] && new Date(new Date(w1t[j1t - 1].DT).getTime() + p1t);A1t=new i1t.Date(n1t.DT,e1t.market_def.market_tz || q93);A1t.setHours(L2t,x2t,k2t);M7V.H9P(1);A1t=new Date(M7V.j9P(p1t,A1t));A1t.setDate(c2t.getDate());if(V2t && c2t.getDate() !== V2t.getDate()){p1t=null;Y1t=0;r1t=0;}if(c2t < A1t){Z93="V";Z93+=" ";n1t[Z93 + W1t.name]=0;n1t["PV " + W1t.name]=0;continue;}if(P2t){Y1t+=s2t;r1t+=n2t;}else {Y1t=s2t;r1t=n2t;}n1t[w93 + W1t.name]=Y1t;if(!i2t){n1t["PV " + W1t.name]=r1t;}if([NaN,null,undefined].includes(Y1t) && !n1t.futureTick){W1t.error=`${B1t} requires volume`;return;}}W1t.cachedLastProjection.projectedValue=w1t[l2t]["PV " + W1t.name];W1t.outputMap={};W1t.outputMap["V " + W1t.name]="";W1t.outputMap["PV " + W1t.name]="Average Line";Q2t.forEach(a2t=>{a2t.startFrom=R1t;M7V.i2V();a2t.study.calculateFN(M1t,a2t);});};U1t.Studies.displayProjectedVolume=function(m3t,F3t,P3t){var F93,B93,Q3t,k3t,J3t,N3t,W3t,M3t,R3t;F93="V";F93+=" ";B93="Alert";B93+=" Bar";if(F3t.error){return U1t.Studies.removeAnchorHandle(m3t,F3t);}var {"Alert Threshold":X3t = ""}=F3t.inputs;Q3t=parseInt(X3t.slice("0" << 1411697184,-1),"10" * 1) / 100;k3t=F3t.outputs[B93];if(typeof k3t === "object"){k3t=k3t.color;}F3t.volumeField=F93 + F3t.name;F3t.plotStepLine=! !"1";F3t.alignStepToSide=! !{};F3t.extendToEndOfLastBar=! ![];F3t.lineWidth=2;J3t=m3t.canvasStyle("stx_volume_underlay_up").opacity;N3t=m3t.canvasStyle("stx_volume_underlay_down").opacity;F3t.colorFunction=function(s3t){var R8V=d2XX;var h3t,T3t,I3t,n3t,V3t,e3t;var {Open:O3t, Close:B3t, iqPrevClose:G3t}=s3t;h3t=m3t.colorByCandleDirection?O3t:G3t;R8V.H9P(80);T3t=R8V.P9P(h3t,B3t);I3t=s3t["PV " + F3t.name];n3t=s3t["V " + F3t.name];R8V.d9P(66);R8V.E2V();V3t=R8V.j9P(Q3t,I3t,1);e3t=Q3t < ("0" & 2147483647)?n3t < V3t:n3t > V3t;return {fill_color:e3t && k3t || (T3t?this.fill_color_down:this.fill_color_up),border_color:T3t?this.border_color_down:this.border_color_up,opacity:e3t?1:T3t?N3t:J3t,border_opacity:T3t?N3t:J3t};};W3t=F3t.study?F3t.study.name:F3t.type;var {loadingMore:w3t}=m3t.chart;M3t=P3t.some(j3t=>{d2XX.E2V();return j3t && j3t[F3t.volumeField] && j3t["PV " + F3t.name];});R3t=P3t[0] && !P3t[0].futureTick && (P3t[+"0"]["PV " + F3t.name] === undefined || (F3t.dependentsOutputMap || []).some(C3t=>{return [undefined,null].includes(P3t[0][C3t]);}));if(!M3t && w3t){return F3t.error=`Fetching data for ${W3t}`;}d2XX.i2V();U1t.Studies.createVolumeChart(m3t,F3t,P3t);U1t.Studies.displaySeriesAsLine(m3t,F3t,P3t);if(F3t.anchorHandle){U1t.Studies.displayAnchorHandleAndLine(m3t,F3t,P3t);}if(R3t){U1t.Studies.calculateProjectedVolume(m3t,F3t);}};U1t.Studies.studyLibrary=U1t.extend(U1t.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:0},calculateFN:U1t.Studies.calculateProjectedVolume,seriesFN:U1t.Studies.displayProjectedVolume,initializeFN:U1t.Studies.initProjectedVolume,removeFN:U1t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[k93,n93,u93,"+75%",j93,"+25%","None",G93,"-50%","-75%",X93,"-125%","-150%"],"Anchor Selector":! !"1"},outputs:{"Average Line":"#fe641c","Alert Bar":r93,"Up Volume":"#8cc176","Down Volume":d93},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:C93}}},PAV:{name:i93,range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:U1t.Studies.calculateProjectedVolume,seriesFN:U1t.Studies.displayProjectedVolume,initializeFN:U1t.Studies.initProjectedVolume,removeFN:U1t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":Y93},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};S5K=x3t=>{var L3t;L3t=typeof _CIQ !== "undefined"?_CIQ:x3t.CIQ;if(!L3t.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {L3t.Studies.calculatePsychologicalLine=function(o3t,p3t){var H3t,t3t,A3t,q3t,J93,l3t;H3t=p3t.chart.scrubbed;if(H3t.length < p3t.days + 1){p3t.error=! !1;return;}t3t=[];A3t=100 / p3t.days;q3t=0;for(var Y3t=Math.max(p3t.startFrom - p3t.days,1);Y3t < H3t.length;Y3t++){J93="Resu";J93+="l";J93+="t ";if(H3t[Y3t].futureTick)break;l3t=Number(H3t[Y3t].Close > H3t[Y3t - 1].Close);if(l3t){q3t+=A3t;}t3t.push(l3t);if(t3t.length > p3t.days){q3t-=t3t.shift() * A3t;}if(Y3t < p3t.startFrom)continue;if(!isNaN(H3t[Y3t].Close)){H3t[Y3t][J93 + p3t.name]=q3t;}}};L3t.Studies.studyLibrary=L3t.extend(L3t.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:L3t.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};v5K=S3t=>{var u3t;u3t=typeof _CIQ !== "undefined"?_CIQ:S3t.CIQ;if(!u3t.Studies){console.error("qstick feature requires first activating studies feature.");}else {u3t.Studies.calculateQStick=function(r3t,v3t){var L93,a3t;d2XX.i2V();L93="_C";L93+="lose";L93+="-Open ";a3t=v3t.chart.scrubbed;if(a3t.length < v3t.days + 1){v3t.error=!0;return;}for(var y3t=v3t.startFrom;y3t < a3t.length;y3t++){a3t[y3t]["_Close-Open " + v3t.name]=a3t[y3t].Close - a3t[y3t].Open;}u3t.Studies.MA(v3t.inputs["Moving Average Type"],v3t.days,L93 + v3t.name,0,"Result",r3t,v3t);};u3t.Studies.studyLibrary=u3t.extend(u3t.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:u3t.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};a5K=K3t=>{var Z3t,v93,h43,o43,a43,O43,E93;Z3t=typeof _CIQ !== "undefined"?_CIQ:K3t.CIQ;if(!Z3t.Studies){v93="rainbow feature requires first activating studies fe";v93+="ature.";console.error(v93);}else {h43="Rainbow O";h43+="scillator";o43="#";o43+="0000";o43+="F";o43+="F";a43="#00F";a43+="F";a43+="FF";O43="#FF";O43+="F";O43+="F00";E93="#";E93+="FF7F";E93+="00";Z3t.Studies.calculateRainbow=function(P4t,z3t){var U4t,f4t,F4t,m4t,b4t,D4t,c4t,V93,E4t,d4t,l93,S93,s93,A93;U4t=z3t.chart.scrubbed;if(U4t.length < z3t.days + 1){z3t.error=!0;return;}f4t=z3t.inputs.Field;if(!f4t || f4t == "field"){f4t="Close";}F4t=f4t;function k4t(W4t,N4t){var Q4t,J4t;Q4t=Number.MAX_VALUE * -1;J4t=Number.MAX_VALUE;for(var X4t=N4t - W4t + ("1" << 991432704);X4t <= N4t;X4t++){if(X4t < 0)continue;Q4t=Math.max(Q4t,U4t[X4t].Close);J4t=Math.min(J4t,U4t[X4t].Close);}return [J4t,Q4t];}for(var i4t=1;i4t <= 10;i4t++){Z3t.Studies.MA("simple",z3t.days,F4t,0,"SMA" + i4t,P4t,z3t);F4t="SMA" + i4t + (1580 > 352.87?" ":309.57 == 4983?! ![]:771.62) + z3t.name;}for(var g4t=Math.max(z3t.startFrom,10);g4t < U4t.length;g4t++){if(!U4t[g4t])continue;if(U4t[g4t].futureTick)break;m4t=0;b4t=0;D4t=Number.MAX_VALUE * -1;c4t=Number.MAX_VALUE;for(i4t=+"1";i4t <= 10;i4t++){V93="S";V93+="M";V93+="A";E4t=U4t[g4t][V93 + i4t + " " + z3t.name];if(E4t || E4t === "0" * 1){m4t+=E4t;b4t++;D4t=Math.max(D4t,E4t);c4t=Math.min(c4t,E4t);}}if(z3t.name.indexOf("Osc") > -1){d4t=k4t(z3t.inputs["HHV/LLV Lookback"],g4t);if(b4t){l93="O";l93+="v";l93+="er";l93+=" ";S93="_";S93+="hist";U4t[g4t][z3t.name + S93]=100 * (U4t[g4t][f4t] - m4t / b4t) / Math.max(0.000001,d4t[1] - d4t[0]);U4t[g4t][l93 + z3t.name]=100 * (D4t - c4t) / Math.max(+"0.000001",d4t[1] - d4t[0]);U4t[g4t]["Under " + z3t.name]=-U4t[g4t]["Over " + z3t.name];U4t[g4t]["Zero " + z3t.name]=0;}}}if(z3t.name.indexOf("Osc") > -1){s93="_";s93+="h";s93+="i";s93+="st";A93="Negative Ba";A93+="r";z3t.outputMap={};z3t.outputMap["Over " + z3t.name]="Positive Bar";z3t.outputMap["Under " + z3t.name]=A93;z3t.outputMap["Zero " + z3t.name]="";z3t.outputMap[z3t.name + s93]="";}};Z3t.Studies.displayRainbowMA=function(R4t,M4t,s4t){var T4t,t93;T4t=R4t.panels[M4t.panel];for(var w4t=10;w4t > 0;w4t--){t93="S";t93+="M";t93+="A";Z3t.Studies.displayIndividualSeriesAsLine(R4t,M4t,T4t,t93 + w4t + (7495 < (6016,7345)?+"0x36b":(+"794",7678) != ("864" ^ 0)?" ":8779 <= "299.61" * 1?("b","1.44e+3" >> 1941796288):(!1,!"")) + M4t.name,s4t);}};Z3t.Studies.displayRainbowOsc=function(V4t,n4t,H4t){var Y7V=d2XX;var f93,e93,B4t,O4t,e4t,I4t,j4t,L4t,x4t,p4t,Y4t,h4t,G4t;f93="Unde";f93+="r";f93+=" ";e93="Und";e93+="e";e93+="r";e93+=" ";Z3t.Studies.displaySeriesAsLine(V4t,n4t,H4t);B4t=V4t.panels[n4t.panel];O4t=n4t.getContext(V4t);e4t=n4t.getYAxis(V4t);V4t.startClip(n4t.panel);if(!n4t.highlight && V4t.highlightedDraggable){Y7V.H9P(15);O4t.globalAlpha*=Y7V.j9P("0.3",1);}I4t=V4t.pixelFromPrice(0,B4t,e4t);j4t=B4t.name != n4t.chart.name;L4t=Z3t.Studies.determineColor(n4t.outputs["Positive Bar"]);Y7V.E2V();O4t.strokeStyle=L4t;V4t.plotDataSegmentAsLine("Over " + n4t.name,B4t,{skipTransform:j4t,label:! !"",yAxis:e4t});x4t=O4t.createLinearGradient(0,I4t,0,e4t.flipped?e4t.bottom:e4t.top);x4t.addColorStop(0,V4t.containerColor);x4t.addColorStop(1,L4t);Z3t.prepareChannelFill(V4t,{skipTransform:j4t,color:x4t,opacity:!n4t.highlight && V4t.highlightedDraggable?0.3:+"1",panelName:n4t.panel,topBand:"Over " + n4t.name,bottomBand:"Zero " + n4t.name,yAxis:e4t});p4t=Z3t.Studies.determineColor(n4t.outputs["Negative Bar"]);O4t.strokeStyle=p4t;V4t.plotDataSegmentAsLine(e93 + n4t.name,B4t,{skipTransform:j4t,label:!"1",yAxis:e4t});Y7V.H9P(27);Y4t=O4t.createLinearGradient(Y7V.j9P("0",65126720),I4t,0,e4t.flipped?e4t.top:e4t.bottom);Y4t.addColorStop(0,V4t.containerColor);Y4t.addColorStop(+"1",p4t);Z3t.prepareChannelFill(V4t,{skipTransform:j4t,color:Y4t,opacity:!n4t.highlight && V4t.highlightedDraggable?0.3:1,panelName:n4t.panel,topBand:"Zero " + n4t.name,bottomBand:f93 + n4t.name,yAxis:e4t});h4t=V4t.layout.candleWidth - 2;if(h4t < 2){h4t=1;}V4t.canvasColor("stx_histogram");if(!n4t.underlay){O4t.globalAlpha=+"1";}if(!n4t.highlight && V4t.highlightedDraggable){O4t.globalAlpha*=0.3;}O4t.fillStyle="#CCCCCC";for(var C4t=0;C4t < H4t.length;C4t++){G4t=H4t[C4t];if(!G4t)continue;if(G4t[n4t.name + "_hist"] > 0){O4t.fillStyle=L4t;}else if(G4t[n4t.name + "_hist"] < 0){O4t.fillStyle=p4t;}if(G4t.candleWidth){h4t=Math.floor(Math.max(1,G4t.candleWidth - 2));}O4t.fillRect(Math.floor(V4t.pixelFromBar(C4t,B4t.chart) - h4t / 2),Math.floor(I4t),Math.floor(h4t),Math.floor(V4t.pixelFromPrice(G4t[n4t.name + "_hist"],B4t,e4t) - I4t));}V4t.endClip();};Z3t.Studies.studyLibrary=Z3t.extend(Z3t.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!0,calculateFN:Z3t.Studies.calculateRainbow,seriesFN:Z3t.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:E93,SMA3:O43,SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:a43,SMA7:"#007FFF",SMA8:o43,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:h43,calculateFN:Z3t.Studies.calculateRainbow,seriesFN:Z3t.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":"10" - 0},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};y5K=q4t=>{var t4t,D43;t4t=typeof _CIQ !== "undefined"?_CIQ:q4t.CIQ;d2XX.i2V();if(!t4t.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {D43="#F";D43+="F0";D43+="0";D43+="00";t4t.Studies.calculateRandomWalk=function(U5t,u4t){var l4t,y4t,r4t,Z4t,S4t,v4t,a4t,K4t,z4t,x43;l4t=u4t.chart.scrubbed;d2XX.i2V();if(l4t.length < u4t.days + 1){u4t.error=! !1;return;}for(var A4t=Math.max(2,u4t.startFrom);A4t < l4t.length;A4t++){y4t=0;r4t=l4t[A4t].High;Z4t=l4t[A4t].Low;S4t=0;d2XX.d9P(0);v4t=d2XX.j9P(0,"0");for(var o4t=1;o4t <= u4t.days;o4t++){if(l4t[A4t].futureTick)break;if(A4t <= o4t){S4t=v4t=0;break;}y4t+=l4t[A4t - o4t].trueRange;a4t=y4t / o4t * Math.sqrt(o4t);if(a4t){K4t=(r4t - l4t[A4t - o4t].Low) / a4t;z4t=(l4t[A4t - o4t].High - Z4t) / a4t;S4t=Math.max(S4t,K4t);v4t=Math.max(v4t,z4t);}}if(!l4t[A4t].futureTick && (!isNaN(r4t) || !isNaN(Z4t))){x43="R";x43+="and";x43+="om Walk H";x43+="igh ";l4t[A4t][x43 + u4t.name]=S4t;l4t[A4t]["Random Walk Low " + u4t.name]=v4t;}}};t4t.Studies.studyLibrary=t4t.extend(t4t.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:t4t.Studies.calculateRandomWalk,outputs:{"Random Walk High":D43,"Random Walk Low":"#0000FF"}}});}};r5K=i5t=>{var g5t,R43;g5t=typeof _CIQ !== "undefined"?_CIQ:i5t.CIQ;d2XX.E2V();if(!g5t.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {R43="#FF";R43+="0";R43+="0";R43+="00";g5t.Studies.calculateRelativeVigor=function(P5t,f5t){var Q43,m43,d5t,E5t,b5t,c5t,F5t,U43,k5t,m5t,D5t;Q43="_hi";Q43+="st";d2XX.i2V();m43="RelVigS";m43+="ig";m43+="nal";d5t=f5t.chart.scrubbed;if(d5t.length < f5t.days + 1){f5t.error=! !{};return;}for(E5t=f5t.startFrom;E5t < d5t.length;E5t++){b5t=d5t[E5t];if(!isNaN(b5t.Close) && !isNaN(b5t.Open)){b5t["_Change " + f5t.name]=b5t.Close - b5t.Open;}if(!isNaN(b5t.High) && !isNaN(b5t.Low)){b5t["_Range " + f5t.name]=b5t.High - b5t.Low;}}g5t.Studies.MA("triangular",4,"_Change " + f5t.name,0,"_Numer",P5t,f5t);g5t.Studies.MA("triangular",4,"_Range " + f5t.name,"0" & 2147483647,"_Denom",P5t,f5t);c5t=[];F5t=[];for(E5t=Math.max(f5t.startFrom - f5t.days,"0" * 1);E5t < d5t.length;E5t++){U43="_D";U43+="eno";U43+="m ";if(d5t[E5t].futureTick)break;if(d5t[E5t]["_Numer " + f5t.name] === null && d5t[E5t]["_Denom " + f5t.name] === null)continue;c5t.push(d5t[E5t]["_Numer " + f5t.name]);F5t.push(d5t[E5t][U43 + f5t.name]);if(c5t.length > f5t.days){c5t.shift();F5t.shift();}k5t=0;m5t=0;for(D5t=0;D5t < c5t.length;D5t++){k5t+=c5t[D5t];}for(D5t=0;D5t < F5t.length;D5t++){m5t+=F5t[D5t];}if(m5t === 0){m5t=0.00000001;}if(E5t < f5t.startFrom)continue;d2XX.H9P(10);d5t[E5t]["Rel Vig " + f5t.name]=d2XX.P9P(k5t,m5t);}g5t.Studies.MA("triangular",+"4","Rel Vig " + f5t.name,0,m43,P5t,f5t);for(E5t=f5t.startFrom;E5t < d5t.length;E5t++){d5t[E5t][f5t.name + "_hist"]=d5t[E5t]["Rel Vig " + f5t.name] - d5t[E5t]["RelVigSignal " + f5t.name];}f5t.outputMap[f5t.name + Q43]="";};g5t.Studies.studyLibrary=g5t.extend(g5t.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:g5t.Studies.displayHistogramWithSeries,calculateFN:g5t.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":R43}}});}};Z5K=Q5t=>{var X5t,z43,g43,H43;X5t=typeof _CIQ !== "undefined"?_CIQ:Q5t.CIQ;if(!X5t.Studies){console.error("rsi feature requires first activating studies feature.");}else {z43="a";z43+="ut";z43+="o";g43="a";g43+="ut";g43+="o";H43="fi";H43+="eld";X5t.Studies.calculateRSI=function(O5t,J5t){var m7V=d2XX;var s5t,N5t,R5t,T5t,n5t,V5t,W5t,w5t,b43;s5t=J5t.chart.scrubbed;N5t=J5t.inputs.Field;m7V.E2V();if(!N5t || N5t == "field"){N5t="Close";}if(s5t.length < J5t.days + 1){J5t.error=! !"1";return;}for(var M5t=J5t.startFrom;M5t < s5t.length;M5t++){if(!M5t)continue;R5t=s5t[M5t];m7V.H9P(81);T5t=s5t[m7V.j9P(M5t,894854656,"1")];if(!R5t[N5t] && R5t[N5t] !== 0)continue;if(!T5t[N5t] && T5t[N5t] !== 0)continue;n5t=R5t[N5t] - T5t[N5t];V5t=Math.min(M5t,J5t.days);W5t=T5t["_avgG " + J5t.name];if(!W5t){W5t=0;}m7V.d9P(10);W5t-=m7V.P9P(W5t,V5t);w5t=T5t["_avgL " + J5t.name];if(!w5t){w5t=+"0";}m7V.d9P(10);w5t-=m7V.P9P(w5t,V5t);if(n5t > 0){m7V.H9P(10);W5t+=m7V.j9P(n5t,V5t);}else if(n5t <= 0){m7V.H9P(10);w5t-=m7V.P9P(n5t,V5t);}else continue;if(M5t >= J5t.days){b43="RS";b43+="I ";if((W5t || W5t !== 0) && (w5t || w5t !== 0)){R5t[b43 + J5t.name]=e5t(W5t,w5t);}}R5t["_avgG " + J5t.name]=W5t;R5t["_avgL " + J5t.name]=w5t;}function e5t(h5t,B5t){var G5t;if(B5t === 0){return 100;}m7V.d9P(10);G5t=m7V.P9P(h5t,B5t);m7V.H9P(82);return m7V.P9P(1,G5t,100,100);}J5t.zoneOutput="RSI";};X5t.Studies.studyLibrary=X5t.extend(X5t.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:H43},calculateFN:X5t.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:g43,studyOverSoldValue:20,studyOverSoldColor:z43}}}});}};K5K=j5t=>{var I5t,T43,k43,F43;I5t=typeof _CIQ !== "undefined"?_CIQ:j5t.CIQ;d2XX.i2V();if(!I5t.Studies){T43="schaffTrendCycle fea";T43+="ture requires first activating studies feature.";console.error(T43);}else {k43="au";k43+="t";k43+="o";F43="0";F43+=" ";F43+="to 1";F43+="00";I5t.Studies.calculateSchaff=function(r5t,C5t){var Z7V=d2XX;var c43,N43,M43,K43,W43,p5t,H5t,a5t,t5t,q5t,y5t,A5t,l5t,p43,q43,y43,Y5t,o5t,u5t,P43,S5t,x5t,I43,w43,Z43,v5t,B43;c43="_";c43+="M";c43+="ACD2";N43="Moving ";function Z5t(f6t,i6t,E6t){var z5t,U6t,K5t;z5t=null;U6t=null;for(var g6t=i6t - f6t + 1;g6t <= i6t;g6t++){K5t=p5t[g6t][E6t + (197.75 >= (338,6350)?2520 === (5741,8620)?! !{}:(0x2326,"v"):" ") + C5t.name];if(!K5t)continue;z5t=z5t === null?K5t:Math.min(z5t,K5t);U6t=U6t === null?K5t:Math.max(U6t,K5t);}return [z5t,U6t];}N43+="Av";N43+="era";N43+="ge Type";M43="_MAC";M43+="D1";K43="Clo";Z7V.i2V();K43+="se";W43="Short ";W43+="C";W43+="y";W43+="cle";p5t=C5t.chart.scrubbed;H5t=C5t.days;a5t=Number(C5t.inputs[W43]);t5t=Number(C5t.inputs["Long Cycle"]);if(p5t.length < Math.max(H5t,a5t,t5t) + +"1"){C5t.error=! !{};return;}q5t=C5t.inputs.Field;if(!q5t || q5t == "field"){q5t=K43;}y5t=+"0.5";I5t.Studies.MA(C5t.inputs["Moving Average Type"],a5t,q5t,0,M43,r5t,C5t);I5t.Studies.MA(C5t.inputs[N43],t5t,q5t,0,c43,r5t,C5t);A5t=0;Z7V.d9P(3);l5t=Z7V.j9P(0,"0");for(var L5t=C5t.startFrom;L5t < p5t.length;L5t++){p43="_PF";p43+=" ";q43="_M";q43+="ACD";y43="_";y43+="MAC";y43+="D";y43+="2 ";Y5t=p5t[L5t];if(L5t < t5t - 1)continue;o5t=Y5t["_MACD1 " + C5t.name];u5t=Y5t[y43 + C5t.name];if(o5t || o5t === 0 || u5t || u5t === 0){P43="_M";P43+="A";P43+="CD";P43+=" ";Z7V.d9P(3);Y5t[P43 + C5t.name]=Z7V.j9P(u5t,o5t);}S5t=Y5t["_MACD " + C5t.name];if(L5t < t5t + (H5t - 1))continue;x5t=Z5t(H5t,L5t,q43);A5t=x5t[1] > x5t[0]?100 * (S5t - x5t[0]) / (x5t["1" * 1] - x5t[0]):A5t;if(S5t || S5t === 0){I43="_";I43+="P";I43+="F";I43+=" ";w43="_P";w43+="F";w43+=" ";Z43="_";Z43+="P";Z43+="F";Z43+=" ";Y5t["_PF " + C5t.name]=p5t[L5t - 1][Z43 + C5t.name]?p5t[L5t - 1][w43 + C5t.name] + y5t * (A5t - p5t[L5t - 1][I43 + C5t.name]):A5t;}v5t=Y5t[p43 + C5t.name];if(L5t < t5t + ("2" - 0) * (H5t - 1))continue;x5t=Z5t(H5t,L5t,"_PF");l5t=x5t[1] > x5t[0]?("100" & 2147483647) * (v5t - x5t[+"0"]) / (x5t[1] - x5t[0]):l5t;if(v5t || v5t === 0){B43="Res";B43+="ult";B43+=" ";Y5t["Result " + C5t.name]=p5t[L5t - 1]["Result " + C5t.name]?p5t[L5t - 1]["Result " + C5t.name] + y5t * (l5t - p5t[L5t - +"1"][B43 + C5t.name]):l5t;}}};I5t.Studies.studyLibrary=I5t.extend(I5t.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:F43,calculateFN:I5t.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:75,studyOverBoughtColor:k43,studyOverSoldValue:"25" | 1,studyOverSoldColor:"auto"}}}});}};z5K=b6t=>{var d6t,n43,u43;d2XX.E2V();d6t=typeof _CIQ !== "undefined"?_CIQ:b6t.CIQ;if(!d6t.Studies){n43="shin";n43+="ohara feature requires first ac";n43+="tivating studies featu";n43+="re.";console.error(n43);}else {u43="#5F7CB";u43+="8";d6t.Studies.calculateShinohara=function(P6t,F6t){var c6t,Y8p,J8p,L8p,m6t;c6t=F6t.chart.scrubbed;if(c6t.length < F6t.days + 1){F6t.error=! !"1";return;}Y8p=267800228;J8p=951797951;L8p=2;for(var V8p=1;d2XX.f0p(V8p.toString(),V8p.toString().length,"53864" | 4160) !== Y8p;V8p++){m6t={weakNum:0,weakDen:0,strongNum:0,strongDen:0};L8p+=2;}if(d2XX.f0p(L8p.toString(),L8p.toString().length,37179) !== J8p){m6t={weakNum:7,weakDen:"6" ^ 0,strongNum:7,strongDen:1};}if(F6t.startFrom > 1){m6t=d6t.clone(c6t[F6t.startFrom - 1]["_accums " + F6t.name]);}for(var D6t=F6t.startFrom;D6t < c6t.length;D6t++){m6t.weakNum+=c6t[D6t].High - c6t[D6t].Close;m6t.weakDen+=c6t[D6t].Close - c6t[D6t].Low;if(D6t > 0){m6t.strongNum+=c6t[D6t].High - c6t[D6t - 1].Close;m6t.strongDen+=c6t[D6t - +"1"].Close - c6t[D6t].Low;}if(D6t >= F6t.days){m6t.weakNum-=c6t[D6t - F6t.days].High - c6t[D6t - F6t.days].Close;m6t.weakDen-=c6t[D6t - F6t.days].Close - c6t[D6t - F6t.days].Low;c6t[D6t]["Weak Ratio " + F6t.name]=100 * m6t.weakNum / m6t.weakDen;if(D6t > F6t.days){m6t.strongNum-=c6t[D6t - F6t.days].High - c6t[D6t - F6t.days - 1].Close;m6t.strongDen-=c6t[D6t - F6t.days - 1].Close - c6t[D6t - F6t.days].Low;c6t[D6t]["Strong Ratio " + F6t.name]=("100" ^ 0) * m6t.strongNum / m6t.strongDen;}}c6t[D6t]["_accums " + F6t.name]=d6t.clone(m6t);}};d6t.Studies.studyLibrary=d6t.extend(d6t.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:d6t.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":u43}}});}};U6K=X6t=>{var k6t,j43,l43,S43,V43;d2XX.i2V();k6t=typeof _CIQ !== "undefined"?_CIQ:X6t.CIQ;if(!k6t.Studies){j43="stochastics feature requ";j43+="ires first activ";j43+="ating studies feature.";console.error(j43);}else {l43="0 to";l43+=" 100";S43="au";S43+="t";S43+="o";V43="St";V43+="ochastic Momentum In";V43+="dex";k6t.Studies.calculateStochastics=function(T6t,Q6t){var X43,W6t,J6t,N6t,M6t,R6t,n6t;X43="%";X43+="K";if(!Q6t.smooth){Q6t.smooth=Q6t.inputs.Smooth;}W6t=Q6t.inputs.Field;if(!W6t || W6t == "field"){W6t="Close";}J6t=Q6t.inputs["%K Periods"];if(!J6t){J6t=Q6t.days;}N6t=Q6t.chart.scrubbed;function s6t(I6t,O6t,L6t){var j6t,e6t,V6t,G43,G6t,h6t,C6t;d2XX.H9P(83);j6t=d2XX.j9P("1",I6t,L6t);e6t=Number.MAX_VALUE * -("1" & 2147483647);V6t=Number.MAX_VALUE;for(var B6t=j6t;B6t <= I6t;B6t++){G43="C";G43+="l";G43+="o";G43+="se";G6t=N6t[B6t][O6t == "Close"?"Low":O6t];h6t=N6t[B6t][O6t == G43?"High":O6t];if(!G6t && G6t !== 0)continue;if(!h6t && h6t !== 0)continue;V6t=Math.min(V6t,G6t);e6t=Math.max(e6t,h6t);}d2XX.i2V();if(e6t == Number.MAX_VALUE * -1 || V6t == Number.MAX_VALUE){return null;}C6t=e6t == V6t?0:(N6t[I6t][O6t] - V6t) / (e6t - V6t) * 100;return C6t;}if(N6t.length < Math.max(J6t,Q6t.days) + 1){Q6t.error=! !{};return;}M6t=Q6t.inputs["%K Smoothing Periods"];if(M6t){Q6t.smooth=!0;}else if(Q6t.smooth){M6t=3;}R6t=Q6t.inputs["%D Periods"];if(!R6t){R6t=3;}Q6t.outputMap={};d2XX.E2V();Q6t.outputMap["%K " + Q6t.name]="Fast";Q6t.outputMap["%D " + Q6t.name]="Slow";for(var w6t=Math.max(J6t,Q6t.startFrom);w6t < N6t.length;w6t++){n6t=s6t(w6t,W6t,J6t);if(n6t !== null){N6t[w6t][Q6t.name]=s6t(w6t,W6t,J6t);}}k6t.Studies.MA("simple",Q6t.smooth?M6t:1,Q6t.name,0,X43,T6t,Q6t);k6t.Studies.MA("simple",R6t,"%K " + Q6t.name,0,"%D",T6t,Q6t);};k6t.Studies.calculateStochMomentum=function(H6t,x6t){var v43,L43,Y43,i43,C43,d43,r43,t6t,A6t,l6t,u6t,p6t,Y6t,o6t,q6t,J43,T8p,W8p,K8p;v43="%";v43+="D";L43="%";L43+="D Moving Average Type";Y43="exponenti";Y43+="al";i43="_";i43+="DHL1";C43="_";C43+="H";C43+="S";C43+="2";d43="_";d43+="HS1 ";r43="%";r43+="K Double Smoothing Peri";r43+="ods";t6t=Number(x6t.inputs["%K Periods"]);A6t=Number(x6t.inputs["%K Smoothing Periods"]);l6t=Number(x6t.inputs[r43]);u6t=Number(x6t.inputs["%D Periods"]);p6t=x6t.chart.scrubbed;if(p6t.length < t6t + A6t + l6t - 1 || p6t.length < u6t){x6t.error=! !1;return;}for(Y6t=Math.max(t6t,x6t.startFrom) - +"1";Y6t < p6t.length;Y6t++){o6t=p6t[Y6t];q6t=S6t(t6t,Y6t);o6t["_H " + x6t.name]=o6t.Close - (q6t[+"0"] + q6t[1]) / 2;o6t["_DHL " + x6t.name]=q6t[1] - q6t[0];}k6t.Studies.MA("exponential",A6t,"_H " + x6t.name,0,"_HS1",H6t,x6t);k6t.Studies.MA("exponential",l6t,d43 + x6t.name,0,C43,H6t,x6t);k6t.Studies.MA("exponential",A6t,"_DHL " + x6t.name,"0" ^ 0,i43,H6t,x6t);function S6t(Z6t,r6t){var a6t,y6t;d2XX.E2V();a6t=null;y6t=null;for(var v6t=r6t - Z6t + 1;v6t <= r6t;v6t++){a6t=a6t === null?p6t[v6t].Low:Math.min(a6t,p6t[v6t].Low);y6t=y6t === null?p6t[v6t].High:Math.max(y6t,p6t[v6t].High);}return [a6t,y6t];}k6t.Studies.MA(Y43,l6t,"_DHL1 " + x6t.name,+"0","_DHL2",H6t,x6t);for(Y6t=t6t - 1;Y6t < p6t.length;Y6t++){J43="%";J43+="K";J43+=" ";p6t[Y6t][J43 + x6t.name]=p6t[Y6t]["_HS2 " + x6t.name] / (0.5 * p6t[Y6t]["_DHL2 " + x6t.name]) * 100;}k6t.Studies.MA(x6t.inputs[L43],u6t,"%K " + x6t.name,0,v43,H6t,x6t);T8p=-357183868;W8p=-1379608296;K8p=2;for(var N8p=1;d2XX.e0p(N8p.toString(),N8p.toString().length,41144) !== T8p;N8p++){x6t.zoneOutput="";K8p+=2;}if(d2XX.f0p(K8p.toString(),K8p.toString().length,16131) !== W8p){x6t.zoneOutput="%K";}};k6t.Studies.studyLibrary=k6t.extend(k6t.Studies.studyLibrary,{"Stch Mtm":{name:V43,calculateFN:k6t.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:- +"40",studyOverSoldColor:S43}}},stochastics:{name:"Stochastics",range:l43,calculateFN:k6t.Studies.calculateStochastics,inputs:{Period:"14" ^ 0,Field:"field",Smooth:! !1},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}}});}};g6K=z6t=>{d2XX.E2V();var K6t,a63;K6t=typeof _CIQ !== "undefined"?_CIQ:z6t.CIQ;if(!K6t.Studies){console.error("supertrend feature requires first activating studies feature.");}else {a63="#b82";a63+="c0c";K6t.Studies.calculateSupertrend=function(c7t,U7t){var W7V=d2XX;var i7t,f43,e43,A43,f7t,b7t,D7t,E7t,d7t,t43,s43;i7t=U7t.chart.scrubbed;if(i7t.length < U7t.days + 1){U7t.error=! !"1";return;}K6t.Studies.calculateStudyATR(c7t,U7t);for(var g7t=U7t.startFrom;g7t < i7t.length;g7t++){f43="Tre";f43+="nd";f43+=" ";e43="_Upt";e43+="rend ";A43="_Dir";A43+="ect";A43+="ion";A43+=" ";f7t=i7t[g7t];if(!f7t)continue;b7t=(f7t.High + f7t.Low) / 2;D7t=U7t.inputs.Multiplier * f7t["ATR " + U7t.name];W7V.d9P(3);E7t=W7V.P9P(D7t,b7t);W7V.d9P(1);d7t=W7V.j9P(D7t,b7t);if(g7t){if(i7t[g7t - 1] && i7t[g7t - 1].Close && i7t[g7t - 1].Close > i7t[g7t - 1]["_Uptrend " + U7t.name] && i7t[g7t - 1]["_Uptrend " + U7t.name] > E7t){W7V.H9P(3);E7t=i7t[W7V.j9P(1,g7t)]["_Uptrend " + U7t.name];}if(i7t[g7t - 1] && i7t[g7t - 1].Close && i7t[g7t - 1].Close < i7t[g7t - +"1"]["_Downtrend " + U7t.name] && i7t[g7t - 1]["_Downtrend " + U7t.name] < d7t){W7V.d9P(3);d7t=i7t[W7V.P9P(1,g7t)]["_Downtrend " + U7t.name];}}f7t[A43 + U7t.name]=+"1";if(g7t){t43="_Di";t43+="recti";t43+="on ";s43="_Di";s43+="rectio";s43+="n ";W7V.H9P(79);f7t[s43 + U7t.name]=i7t[W7V.P9P("1",g7t)][t43 + U7t.name];if(f7t.Close > i7t[g7t - 1]["_Downtrend " + U7t.name]){f7t["_Direction " + U7t.name]=1;}else if(f7t.Close < i7t[g7t - 1]["_Uptrend " + U7t.name]){f7t["_Direction " + U7t.name]=-1;}}f7t[e43 + U7t.name]=E7t;f7t["_Downtrend " + U7t.name]=d7t;f7t[f43 + U7t.name]=f7t["_Direction " + U7t.name] > 0?E7t:d7t;if(!g7t)continue;}U7t.outputMap={};U7t.outputMap["Trend " + U7t.name]="";};K6t.Studies.displaySupertrend=function(m7t,F7t,X7t){var Q7t,P7t,J7t,e7t,R7t,N7t,W7t,k7t,O63,s7t,n7t;Q7t=m7t.panels[F7t.panel];P7t=F7t.getContext(m7t);J7t=F7t.getYAxis(m7t);e7t={skipTransform:Q7t.name != F7t.chart.name,skipProjections:! !"1",label:m7t.preferences.labels,yAxis:J7t,highlight:F7t.highlight};P7t.strokeStyle=V7t(m7t,X7t[X7t.length - 1]);P7t.lineWidth=2;function V7t(B7t,O7t,G7t){var E43;E43="_Dire";E43+="ction ";if(O7t && O7t[E43 + F7t.name] < 0){return F7t.outputs.Downtrend;}return F7t.outputs.Uptrend;}if(F7t.highlight){P7t.lineWidth=1.5;}R7t="Trend " + F7t.name;for(var T7t=0;Q7t.chart.transformFunc && J7t != Q7t.chart.yAxis && T7t < X7t.length;T7t++){N7t=X7t[T7t];if(N7t && N7t.transform){N7t.transform[R7t]=Q7t.chart.transformFunc(m7t,Q7t.chart,N7t[R7t]);}}m7t.plotDataSegmentAsLine(R7t,Q7t,e7t,V7t);d2XX.d9P(13);P7t.lineWidth=d2XX.j9P("1",0);P7t.globalAlpha=1;m7t.startClip(F7t.panel);if(!F7t.highlight && m7t.highlightedDraggable){P7t.globalAlpha*=0.3;}W7t=P7t.measureText("\u25B2").width / 2;for(k7t=0;k7t < X7t.length;k7t++){O63="_Direct";O63+="io";O63+="n ";if(!X7t[k7t] || !X7t[k7t - +"1"])continue;if(X7t[k7t - +"1"][O63 + F7t.name] > X7t[k7t]["_Direction " + F7t.name]){P7t.fillStyle=F7t.outputs.Downtrend;P7t.textBaseline="bottom";s7t=m7t.pixelFromPrice(X7t[k7t].High,Q7t,J7t);for(var w7t="5" | 1;w7t <= 45;w7t+=10){if(J7t.flipped){P7t.fillText("\u25B2",m7t.pixelFromBar(k7t) - W7t,s7t + w7t);}else {P7t.fillText(+"6550" !== (3838,1250)?"\u25BC":782.98,m7t.pixelFromBar(k7t) - W7t,s7t - w7t);}}}else if(X7t[k7t - 1]["_Direction " + F7t.name] < X7t[k7t]["_Direction " + F7t.name]){P7t.fillStyle=F7t.outputs.Uptrend;P7t.textBaseline="top";n7t=m7t.pixelFromPrice(X7t[k7t].Low,Q7t,J7t);for(var M7t="5" * 1;M7t <= 45;M7t+="10" | 8){if(J7t.flipped){P7t.fillText((1157,492) < (8200,7260)?("800.42" * 1,+"592.06") != (3467,903.29)?"\u25BC":! ![]:![],m7t.pixelFromBar(k7t) - W7t,n7t - M7t);}else {P7t.fillText((+"1650",+"773.3") >= 15.18?"\u25B2":4300 !== (697.97,3680)?! ![]:565.38,m7t.pixelFromBar(k7t) - W7t,n7t + M7t);}}}}m7t.endClip();};K6t.Studies.studyLibrary=K6t.extend(K6t.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !{},seriesFN:K6t.Studies.displaySupertrend,calculateFN:K6t.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:a63},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};i6K=I7t=>{var n2V=d2XX;var o63,h7t,d5p,C5p,i5p,h63;o63="un";o63+="defi";o63+="ned";h7t=typeof _CIQ !== o63?_CIQ:I7t.CIQ;if(!h7t.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {h7t.Studies.calculateSwingIndex=function(S7t,L7t){var x7t,j7t,p7t,H7t,t7t,o7t,u7t,A7t,q7t,Y7t,l7t;x7t=L7t.inputs["Limit Move Value"];if(x7t === null || isNaN(x7t)){x7t=+"99999";}j7t=L7t.chart.scrubbed;p7t=0;if(L7t.startFrom > 1){p7t=j7t[L7t.startFrom - 1]["Result " + L7t.name];}for(var C7t=Math.max(1,L7t.startFrom);C7t < j7t.length;C7t++){H7t=Math.abs(j7t[C7t].High - j7t[C7t - 1].Close);t7t=Math.abs(j7t[C7t].Low - j7t[C7t - 1].Close);o7t=Math.abs(j7t[C7t].High - j7t[C7t].Low);u7t=Math.abs(j7t[C7t - 1].Close - j7t[C7t - 1].Open);A7t=Math.max(H7t,t7t);q7t=Math.max(o7t,A7t);n2V.d9P(84);Y7t=n2V.j9P(q7t,"0.25",u7t);if(q7t == H7t){n2V.H9P(15);Y7t-=n2V.P9P(0.5,t7t);}else if(q7t == t7t){n2V.d9P(15);Y7t-=n2V.P9P(0.5,H7t);}l7t=50 * (j7t[C7t].Close - j7t[C7t - 1].Close + 0.5 * (j7t[C7t].Close - j7t[C7t].Open) + 0.25 * (j7t[C7t - 1].Close - j7t[C7t - +"1"].Open)) / Y7t * (A7t / x7t);if(Y7t === 0 || x7t === 0){l7t=0;}if(L7t.type == "Swing"){p7t=0;}p7t+=l7t;j7t[C7t]["Result " + L7t.name]=p7t;}};d5p=-1847961782;C5p=-1917630682;n2V.d9P(19);i5p=n2V.j9P(330917888,"2");for(var J5p=1;n2V.e0p(J5p.toString(),J5p.toString().length,51658) !== d5p;J5p++){h7t.Studies.studyLibrary=h7t.extend(h7t.Studies.studyLibrary,{"Acc Swing":{name:"Limit Move Value",calculateFN:h7t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":849}},Swing:{name:"Limit Move Value",calculateFN:h7t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":922}}});i5p+=2;}if(n2V.f0p(i5p.toString(),i5p.toString().length,96152) !== C5p){h63="Limit Mo";h63+="v";h63+="e Value";h7t.Studies.studyLibrary=h7t.extend(h7t.Studies.studyLibrary,{"Acc Swing":{name:h63,calculateFN:h7t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":"849" << 1080727968}},Swing:{name:"Limit Move Value",calculateFN:h7t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":"922" ^ 0}}});}h7t.Studies.studyLibrary=h7t.extend(h7t.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:h7t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:h7t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};f6K=a7t=>{var x63,v7t,D63,H63,b63,R63;d2XX.E2V();x63="u";x63+="nde";x63+="fin";x63+="ed";v7t=typeof _CIQ !== x63?_CIQ:a7t.CIQ;if(!v7t.Studies){D63="trendIntensity feature requires first activating studies feature";D63+=".";console.error(D63);}else {H63="a";H63+="uto";b63="aut";b63+="o";R63="Trend In";R63+="tensity In";R63+="dex";v7t.Studies.calculateTrendIntensity=function(E8t,y7t){var C7V=d2XX;var Q63,m63,U63,K7t,z7t,U8t,g8t,r7t,Z7t,i8t,f8t;Q63="Sig";Q63+="n";Q63+="a";Q63+="l";m63="e";m63+="ma";U63="_";function d8t(D8t,b8t){if(Math.abs(b8t) < 0.00000001){return 100;}C7V.i2V();C7V.d9P(71);return C7V.j9P(b8t,100,D8t,1,100);}U63+="S";U63+="M";U63+="A";K7t=y7t.chart.scrubbed;if(K7t.length < y7t.days + 1){y7t.error=! ![];return;}C7V.E2V();z7t=y7t.inputs.Field;if(!z7t || z7t == "field"){z7t="Close";}v7t.Studies.MA("ma",y7t.days,z7t,0,U63,E8t,y7t);U8t=0;g8t=0;i8t=[];f8t=Math.ceil(y7t.days / 2);for(r7t=Math.max(0,y7t.startFrom - f8t);r7t < K7t.length;r7t++){if(!K7t[r7t]["_SMA " + y7t.name] && K7t[r7t]["_SMA " + y7t.name] !== 0)continue;Z7t=K7t[r7t][z7t] - K7t[r7t]["_SMA " + y7t.name];if(Z7t < 0){C7V.d9P(85);g8t+=C7V.j9P(Z7t,1);}else {U8t+=Z7t;}i8t.push(Z7t);if(i8t.length > f8t){Z7t=i8t.shift();if(Z7t < 0){C7V.d9P(85);g8t-=C7V.P9P(Z7t,1);}else {U8t-=Z7t;}}if(r7t < y7t.startFrom)continue;K7t[r7t]["TII " + y7t.name]=d8t(U8t,g8t);}v7t.Studies.MA(m63,y7t.inputs["Signal Period"],"TII " + y7t.name,0,Q63,E8t,y7t);};v7t.Studies.studyLibrary=v7t.extend(v7t.Studies.studyLibrary,{"Trend Int":{name:R63,calculateFN:v7t.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:b63,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" >> 1726718976,studyOverSoldColor:H63}}}});}};E6K=F8t=>{var c8t;c8t=typeof _CIQ !== "undefined"?_CIQ:F8t.CIQ;d2XX.i2V();if(!c8t.Studies){console.error("trix feature requires first activating studies feature.");}else {c8t.Studies.calculateTRIX=function(M8t,m8t){var u7V=d2XX;var z63,g63,P8t,X8t,J8t,W8t,w8t,N8t;z63="_M";z63+="A3 ";g63="Clo";g63+="se";P8t=m8t.chart.scrubbed;if(P8t.length < m8t.days + 1){m8t.error=! !"1";return;}X8t=m8t.name;u7V.H9P(1);J8t=[g63,u7V.j9P(X8t,"_MA1 "),u7V.P9P(X8t,"_MA2 "),u7V.P9P(X8t,z63)];for(var Q8t=0;Q8t < J8t.length - 1;Q8t++){c8t.Studies.MA("exponential",m8t.days,J8t[Q8t],0,"_MA" + (Q8t + 1).toString(),M8t,m8t);}W8t=J8t[3];for(var k8t=Math.max(1,m8t.startFrom);k8t < P8t.length;k8t++){u7V.H9P(3);w8t=P8t[u7V.P9P(1,k8t)][W8t];if(!w8t)continue;N8t=P8t[k8t][W8t];if(N8t || N8t === 0){u7V.H9P(1);P8t[k8t][u7V.P9P(X8t,"Result ")]=u7V.P9P(N8t,100,1,w8t,u7V.d9P(76));}}};c8t.Studies.studyLibrary=c8t.extend(c8t.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:c8t.Studies.calculateTRIX}});}};d6K=T8t=>{var R8t,P5p,q5p,Z5p;R8t=typeof _CIQ !== "undefined"?_CIQ:T8t.CIQ;if(!R8t.Studies){P5p=492486889;q5p=-1898891723;Z5p=+"2";for(var I5p=1;d2XX.e0p(I5p.toString(),I5p.toString().length,35574) !== P5p;I5p++){console.error("");Z5p+=+"2";}if(d2XX.e0p(Z5p.toString(),Z5p.toString().length,1317) !== q5p){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}}else {R8t.Studies.calculateTwiggsMoneyFlow=function(I8t,s8t){var H7V=d2XX;var V8t,O7p,a7p,o7p,O8t,e8t,B8t,T63,W63,G8t,h8t;V8t=s8t.chart.scrubbed;if(V8t.length < s8t.days){s8t.error=!"";return;}O7p=-590422371;a7p=-240601088;o7p=+"2";for(var x7p=1;H7V.f0p(x7p.toString(),x7p.toString().length,"36125" - 0) !== O7p;x7p++){O8t=0;e8t=0;o7p+=2;}H7V.E2V();if(H7V.e0p(o7p.toString(),o7p.toString().length,"72396" & 2147483647) !== a7p){O8t=+"5";e8t=6;}B8t=V8t[s8t.startFrom - 1];if(B8t){T63="_s";T63+="um";T63+="M";T63+="F ";if(B8t[T63 + s8t.name]){O8t=B8t["_sumMF " + s8t.name];}if(B8t["_sumV " + s8t.name]){e8t=B8t["_sumV " + s8t.name];}}for(var n8t=Math.max(1,s8t.startFrom);n8t < V8t.length;n8t++){W63="_s";W63+="u";W63+="mV";W63+=" ";G8t=Math.max(V8t[n8t - 1].Close,V8t[n8t].High);h8t=Math.min(V8t[n8t - 1].Close,V8t[n8t].Low);V8t[n8t]["_MFV " + s8t.name]=V8t[n8t].Volume * (("2" & 2147483647) * V8t[n8t].Close - G8t - h8t) / (G8t - h8t === "0" >> 777182944?999999:G8t - h8t);if(n8t > s8t.days - 1){O8t*=(s8t.days - 1) / s8t.days;e8t*=(s8t.days - +"1") / s8t.days;}O8t+=V8t[n8t]["_MFV " + s8t.name];e8t+=V8t[n8t].Volume;if(n8t > s8t.days - +"1"){if(e8t){H7V.d9P(10);V8t[n8t]["Result " + s8t.name]=H7V.P9P(O8t,e8t > 0?e8t:+"999999");}}V8t[n8t]["_sumMF " + s8t.name]=O8t;V8t[n8t][W63 + s8t.name]=e8t;}};R8t.Studies.studyLibrary=R8t.extend(R8t.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:R8t.Studies.calculateTwiggsMoneyFlow,inputs:{Period:"21" ^ 0}}});}};b6K=C8t=>{var j8t,K63;d2XX.E2V();j8t=typeof _CIQ !== "undefined"?_CIQ:C8t.CIQ;if(!j8t.Studies){K63="typicalPrice feature requires fi";K63+="rst activating stud";K63+="ies feature.";console.error(K63);}else if(!j8t.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {j8t.Studies.studyLibrary=j8t.extend(j8t.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:j8t.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:j8t.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};D6K=x8t=>{var G2V=d2XX;var L8t,c8p,y8p,P8p;L8t=typeof _CIQ !== "undefined"?_CIQ:x8t.CIQ;G2V.E2V();if(!L8t.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {L8t.Studies.calculateUlcerIndex=function(A8t,p8t){var c63,M63,H8t,j2p,G2p,X2p,t8t,Y8t,N63,q8t;c63="_";c63+="MA";M63="C";M63+="l";M63+="os";M63+="e";G2V.E2V();H8t=p8t.chart.scrubbed;if(H8t.length < 2 * p8t.days - 1){j2p=644152234;G2p=-1791594533;X2p=2;for(var d2p=1;G2V.f0p(d2p.toString(),d2p.toString().length,4699) !== j2p;d2p++){p8t.error=! ![];X2p+=2;}if(G2V.e0p(X2p.toString(),X2p.toString().length,37604) !== G2p){p8t.error=! !"";}return;}function l8t(a8t,S8t,v8t){var u8t;u8t=null;for(var o8t=S8t - a8t + ("1" ^ 0);o8t <= S8t;o8t++){if(o8t < 0)continue;u8t=u8t === null?H8t[o8t][v8t]:Math.max(u8t,H8t[o8t][v8t]);}return u8t;}t8t=p8t.inputs.Field;if(!t8t || t8t == "field"){t8t=M63;}for(Y8t=Math.max(p8t.startFrom,p8t.days - 1);Y8t < H8t.length;Y8t++){N63="_";N63+="PD2 ";H8t[Y8t][N63 + p8t.name]=Math.pow(100 * (H8t[Y8t][t8t] / l8t(p8t.days,Y8t,t8t) - 1),2);}L8t.Studies.MA("simple",p8t.days,"_PD2 " + p8t.name,0,c63,A8t,p8t);for(Y8t=Math.max(p8t.startFrom,2 * (p8t.days - 1));Y8t < H8t.length;Y8t++){q8t=H8t[Y8t]["_MA " + p8t.name];if(q8t || q8t === 0){H8t[Y8t]["Result " + p8t.name]=Math.sqrt(q8t);}}};G2V.H9P(3);c8p=-G2V.j9P(0,"1596124751");y8p=818786492;P8p=2;for(var Z8p=1;G2V.f0p(Z8p.toString(),Z8p.toString().length,2724) !== c8p;Z8p++){L8t.Studies.studyLibrary=L8t.extend(L8t.Studies.studyLibrary,{Ulcer:{name:"field",calculateFN:L8t.Studies.calculateUlcerIndex,inputs:{Period:+"39",Field:"field"}}});P8p+=2;}if(G2V.e0p(P8p.toString(),P8p.toString().length,82302) !== y8p){L8t.Studies.studyLibrary=L8t.extend(L8t.Studies.studyLibrary,{Ulcer:{name:"field",calculateFN:L8t.Studies.calculateUlcerIndex,inputs:{Period:39,Field:"field"}}});}L8t.Studies.studyLibrary=L8t.extend(L8t.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:L8t.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};c6K=r8t=>{var y8t,y63;y8t=typeof _CIQ !== "undefined"?_CIQ:r8t.CIQ;d2XX.i2V();if(!y8t.Studies){y63="ultimateOscill";y63+="ator feature requires first activating studies featu";y63+="re.";console.error(y63);}else {y8t.Studies.calculateUltimateOscillator=function(N9t,K8t){var I7V=d2XX;var q63,P63,Z8t,U9t,E9t,d9t,b9t,D9t,i9t,f9t,Z63,c9t,m9t,P9t,F9t,k9t,X9t,Q9t,J9t;q63="Cycl";q63+="e";q63+=" ";q63+="3";P63="Cyc";P63+="le 1";Z8t=K8t.chart.scrubbed;U9t=[K8t.inputs[P63],K8t.inputs["Cycle 2"],K8t.inputs[q63]];E9t=Math.max(U9t["0" ^ 0],U9t[1],U9t[2]);if(Z8t.length < E9t + 1){K8t.error=! ![];return;}d9t=U9t[0] * U9t[1];b9t=U9t[0] * U9t[2];D9t=U9t[1] * U9t[+"2"];i9t=[+"0",0,0];f9t=[0,0,0];if(K8t.startFrom){if(Z8t[K8t.startFrom - ("1" - 0)]["_accbp " + K8t.name]){i9t=Z8t[K8t.startFrom - 1]["_accbp " + K8t.name].slice();}if(Z8t[K8t.startFrom - 1]["_acctr " + K8t.name]){f9t=Z8t[K8t.startFrom - 1]["_acctr " + K8t.name].slice();}}for(var z8t=Math.max(1,K8t.startFrom);z8t < Z8t.length;z8t++){Z63="Re";Z63+="sult ";c9t=Math.min(Z8t[z8t].Low,Z8t[z8t - 1].Close);m9t=Z8t[z8t].Close - c9t;P9t=Math.max(Z8t[z8t].High,Z8t[z8t - 1].Close) - c9t;for(var g9t=0;g9t < U9t.length;g9t++){i9t[g9t]+=m9t;f9t[g9t]+=P9t;if(z8t > U9t[g9t]){F9t=Math.min(Z8t[z8t - U9t[g9t]].Low,Z8t[z8t - U9t[g9t] - ("1" & 2147483647)].Close);k9t=Z8t[z8t - U9t[g9t]].Close - F9t;X9t=Math.max(Z8t[z8t - U9t[g9t]].High,Z8t[z8t - U9t[g9t] - ("1" >> 647385760)].Close) - F9t;i9t[g9t]-=k9t;f9t[g9t]-=X9t;}}Z8t[z8t]["_accbp " + K8t.name]=i9t.slice();Z8t[z8t]["_acctr " + K8t.name]=f9t.slice();if(z8t < E9t)continue;Q9t=D9t * i9t[0] / f9t[+"0"] + b9t * i9t[+"1"] / f9t[1] + d9t * i9t[2] / f9t[2];I7V.H9P(45);J9t=I7V.j9P(d9t,b9t,D9t);I7V.d9P(62);Z8t[z8t][Z63 + K8t.name]=I7V.P9P(100,J9t,Q9t);}};y8t.Studies.studyLibrary=y8t.extend(y8t.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:y8t.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":"14" - 0,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" << 1312466624,studyOverSoldColor:"auto"}}}});}};F6K=w9t=>{var W9t,k63;W9t=typeof _CIQ !== "undefined"?_CIQ:w9t.CIQ;if(!W9t.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {k63="V";k63+="aluation";k63+=" Lines";W9t.Studies.calculateValuationLines=function(e9t,M9t,B9t){var L7V=d2XX;var w63,C9t,p9t,L9t,G9t,h9t,I9t,j9t,R9t,T9t,s9t,V9t,O9t,x9t,S8p,l8p,A8p;w63="Di";w63+="splay 1 ";w63+="Standard Deviation (1\u03C3)";C9t=M9t.inputs.Field == "field"?"Close":M9t.inputs.Field;p9t=M9t.inputs["Average Type"];L9t=M9t.inputs["Display Average"];G9t=M9t.inputs[w63];h9t=M9t.inputs["Display 2 Standard Deviation (2\u03C3)"];I9t=M9t.inputs["Display 3 Standard Deviation (3\u03C3)"];j9t=[];for(var n9t=0;n9t < B9t.length;++n9t){if(B9t[n9t] && !isNaN(B9t[n9t][C9t])){j9t.push(B9t[n9t][C9t]);}}R9t=(function(A9t,u9t){var I63,Y9t,t9t,q9t,H9t,l9t,o9t;I63="me";I63+="d";I63+="ian";Y9t=A9t.length;t9t=0;L7V.d9P(3);q9t=L7V.j9P(0,"0");H9t=0;switch(u9t){case "mean":q9t=Y9t;for(;H9t < Y9t;++H9t){t9t+=A9t[H9t];}break;case "harmonic":t9t=Y9t;for(;H9t < Y9t;++H9t){q9t+=1 / A9t[H9t];}break;case I63:L7V.H9P(10);l9t=Math.floor(L7V.P9P(Y9t,2));o9t=A9t.slice().sort(function(S9t,v9t){L7V.i2V();if(S9t > v9t){return 1;}if(S9t < v9t){return - +"1";}return 0;});if(Y9t % 2 === 0){t9t=o9t[l9t] + o9t[l9t - 1];q9t=2;}else {t9t=o9t[l9t];q9t=1;}break;}L7V.H9P(10);return L7V.j9P(t9t,q9t);})(j9t,p9t);T9t=!(G9t || h9t || I9t) || (function(Z9t,K9t){var y9t,r9t;y9t=Z9t.length;r9t=0;for(var a9t=0;a9t < y9t;++a9t){r9t+=Math.pow(Z9t[a9t] - K9t,2);}L7V.H9P(10);return Math.sqrt(L7V.P9P(r9t,y9t));})(j9t,R9t);M9t.data={Average:L9t?[R9t]:null,"1 Standard Deviation (1\u03C3)":G9t?[R9t + T9t,R9t - T9t]:null,"2 Standard Deviation (2\u03C3)":h9t?[R9t + T9t * 2,R9t - T9t * ("2" << 1965271072)]:null,"3 Standard Deviation (3\u03C3)":I9t?[R9t + T9t * 3,R9t - T9t * 3]:null};s9t=T9t;if(!M9t.parameters){M9t.parameters={};}if(I9t){L7V.H9P(86);M9t.parameters.range=[L7V.P9P(3,T9t,R9t,s9t),L7V.j9P(T9t,R9t,3,s9t,L7V.H9P(87))];}else if(h9t){L7V.d9P(86);M9t.parameters.range=[L7V.j9P(2,T9t,R9t,s9t),L7V.j9P(T9t,R9t,2,s9t,L7V.d9P(87))];}else if(G9t){L7V.H9P(58);M9t.parameters.range=[L7V.P9P(s9t,R9t,T9t),L7V.P9P(s9t,T9t,R9t,L7V.H9P(45))];}else if(L9t){L7V.d9P(3);M9t.parameters.range=[L7V.j9P(s9t,R9t),L7V.j9P(s9t,R9t,L7V.d9P(1))];}if(M9t.panel){V9t=e9t.panels[M9t.panel];O9t=e9t.getYAxisByName(V9t,M9t.name);if(O9t){O9t.decimalPlaces=V9t.chart.yAxis.printDecimalPlaces;x9t={yAxis:O9t};S8p=-987196690;l8p=1212867147;A8p=2;for(var t8p=1;L7V.e0p(t8p.toString(),t8p.toString().length,37029) !== S8p;t8p++){e9t.calculateYAxisRange(V9t,O9t,M9t.parameters.range[0],M9t.parameters.range[1]);e9t.createYAxis(V9t,x9t);e9t.drawYAxis(V9t,x9t);A8p+=2;}if(L7V.e0p(A8p.toString(),A8p.toString().length,+"93214") !== l8p){e9t.calculateYAxisRange(V9t,O9t,M9t.parameters.range["1" << 1098185824],M9t.parameters.range[+"2"]);e9t.createYAxis(V9t,x9t);e9t.drawYAxis(V9t,x9t);}}}};W9t.Studies.displayValuationLines=function(U1G,i1G){var h7V=d2XX;var z9t,f1G,d1G,c1G,M1G,R1G,T1G,b1G,D1G,r7p,d7p,C7p,F1G,k1G,X1G,Q1G,J1G,m1G,P1G,g1G,N1G,s1G,W1G,F63,B63,p63,w1G;z9t=U1G.panels[i1G.panel];f1G=i1G.getYAxis(U1G);d1G=i1G.getContext(U1G);c1G=i1G.data;M1G=i1G.parameters.labels;R1G=i1G.inputs["Average Type"];T1G={mean:"AVG",median:"MED",harmonic:"HAVG"};h7V.E2V();b1G=U1G.canvasStyle("ciq-valuation-average-line");D1G=U1G.canvasStyle("ciq-valuation-deviation-line");r7p=176192983;d7p=857265051;C7p=2;for(var Y7p=1;h7V.f0p(Y7p.toString(),Y7p.toString().length,64284) !== r7p;Y7p++){F1G=3;C7p+=2;}if(h7V.f0p(C7p.toString(),C7p.toString().length,98962) !== d7p){F1G=6;}k1G=U1G.getCanvasFontSize("stx_yaxis") + F1G * 2;for(var E1G in c1G){if(!c1G[E1G])continue;h7V.H9P(88);X1G=h7V.P9P("Average",E1G);Q1G=W9t.Studies.determineColor(i1G.outputs[E1G]);J1G=c1G[E1G];for(m1G=0;m1G < J1G.length;++m1G){F63="\u03C3";F63+=":";F63+=" ";B63=":";B63+=" ";p63="yax";p63+="is";P1G=J1G[m1G];g1G=U1G.pixelFromPrice(P1G,z9t,f1G);if(g1G <= z9t.top || g1G >= z9t.yAxis.bottom)continue;W1G=X1G?{pattern:b1G.borderStyle != "none"?b1G.borderStyle || "solid":"solid",lineWidth:parseFloat(b1G.borderWidth) || 1,opacity:parseFloat(b1G.opacity) || 1,yAxis:f1G}:{pattern:D1G.borderStyle != "none"?D1G.borderStyle || "dashed":"dashed",lineWidth:parseFloat(D1G.borderWidth) || "1" >> 529405344,opacity:parseFloat(D1G.opacity) || 1,yAxis:f1G};U1G.plotLine(z9t.left,z9t.right,g1G,g1G,Q1G,"line",d1G,z9t,W1G);if(M1G === p63){U1G.createYAxisLabel(z9t,U1G.formatYAxisPrice(P1G,z9t),g1G,Q1G,null,d1G,f1G);continue;}g1G+=Math.floor(W1G.lineWidth / +"2");if(g1G + k1G >= z9t.yAxis.bottom)continue;N1G=(X1G?T1G[R1G] + B63:E1G[0] + F63) + U1G.formatYAxisPrice(P1G,z9t);s1G=d1G.measureText(N1G).width;w1G=z9t.right - s1G - F1G;if(f1G && f1G.position == "left"){w1G=z9t.left + F1G;}h7V.d9P(89);d1G.strokeText(N1G,w1G,h7V.j9P(0.5,2,k1G,g1G));}}};W9t.Studies.studyLibrary=W9t.extend(W9t.Studies.studyLibrary,{"val lines":{name:k63,calculateFN:function(){},seriesFN:function(n1G,V1G,e1G){d2XX.i2V();W9t.Studies.calculateValuationLines(n1G,V1G,e1G);W9t.Studies.displayValuationLines(n1G,V1G);},overlay:! ![],yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!"1"},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};m6K=B1G=>{var n63,O1G,v63,L63;n63="u";n63+="ndef";n63+="in";d2XX.i2V();n63+="ed";O1G=typeof _CIQ !== n63?_CIQ:B1G.CIQ;if(!O1G.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {v63="a";v63+="ut";v63+="o";L63="f";L63+="ield";O1G.Studies.calculateRelativeVolatility=function(H1G,G1G){var j63,u63,Y1G,L1G,h1G,j1G,C1G,r63,G63,I1G,p1G,X63;j63="sd";j63+="ev";u63="f";u63+="ie";u63+="ld";function t1G(q1G,A1G){if(q1G + A1G === +"0"){return 100;}d2XX.i2V();d2XX.H9P(90);return d2XX.P9P("100",q1G,A1G,q1G);}G1G.days=Number(G1G.inputs["Smoothing Period"]);Y1G=Number(G1G.inputs["STD Period"]);L1G=G1G.chart.scrubbed;if(L1G.length < G1G.days + Y1G){G1G.error=! ![];return;}h1G=G1G.inputs.Field;if(!h1G || h1G == u63){h1G="Close";}G1G.std=new O1G.Studies.StudyDescriptor(G1G.name,j63,G1G.panel);G1G.std.chart=G1G.chart;G1G.std.days=Y1G;G1G.std.startFrom=G1G.startFrom;G1G.std.inputs={Field:h1G,"Standard Deviations":1,Type:"ma"};G1G.std.outputs={_STD:null};O1G.Studies.calculateStandardDeviation(H1G,G1G.std);j1G=0;C1G=0;if(G1G.startFrom > 1){j1G=L1G[G1G.startFrom - 1]["_avgG " + G1G.name] || 0;C1G=L1G[G1G.startFrom - 1]["_avgL " + G1G.name] || +"0";}d2XX.E2V();for(var x1G=Math.max(G1G.startFrom,G1G.days);x1G < L1G.length;x1G++){r63="Rel V";r63+="ol ";G63="_ST";G63+="D ";I1G=L1G[x1G];d2XX.d9P(3);p1G=L1G[d2XX.P9P(1,x1G)];if(!I1G[h1G] && I1G[h1G] !== 0)continue;if(!p1G[h1G] && p1G[h1G] !== 0)continue;if(!I1G[G63 + G1G.name] && I1G["_STD " + G1G.name] !== "0" >> 1666936800)continue;if(I1G[h1G] > p1G[h1G]){j1G=(j1G * (G1G.days - 1) + I1G["_STD " + G1G.name]) / G1G.days;C1G=C1G * (G1G.days - ("1" << 414557088)) / G1G.days;}else {X63="_ST";X63+="D ";C1G=(C1G * (G1G.days - "1" * 1) + I1G[X63 + G1G.name]) / G1G.days;j1G=j1G * (G1G.days - 1) / G1G.days;}I1G[r63 + G1G.name]=t1G(j1G,C1G);I1G["_avgG " + G1G.name]=j1G;I1G["_avgL " + G1G.name]=C1G;}G1G.zoneOutput="Rel Vol";};O1G.Studies.calculateHistoricalVolatility=function(Z1G,l1G){var i63,C63,o1G,a1G,y1G,g3G,v1G,u1G,Y63,K1G,z1G,J63,U3G;i63="Standard D";i63+="e";i63+="viations";C63="Cl";C63+="o";C63+="s";C63+="e";o1G=l1G.chart.scrubbed;if(o1G.length < l1G.days + 1){l1G.error=!"";return;}a1G=l1G.inputs.Field;if(!a1G || a1G == "field"){a1G=C63;}function i3G(f3G){var d63;d63="w";d2XX.i2V();d63+="e";d63+="e";d63+="k";if(isNaN(f3G)){f3G=365;}if(Z1G.layout.interval == "day"){return f3G;}else if(Z1G.layout.interval == d63){return 52;}else if(Z1G.layout.interval == "month"){return 12;}return f3G;}y1G=l1G.inputs[i63];if(y1G < 0){y1G=1;}g3G=100 * Math.sqrt(i3G(l1G.inputs["Days Per Year"])) * y1G;v1G=[];u1G=0;if(l1G.startFrom > 1){Y63="_st";Y63+="at";Y63+="e ";u1G=o1G[l1G.startFrom - 1][Y63 + l1G.name][0];v1G=o1G[l1G.startFrom - ("1" >> 1302888320)]["_state " + l1G.name][1].slice();}for(var S1G=Math.max(1,l1G.startFrom);S1G < o1G.length;S1G++){d2XX.H9P(3);K1G=o1G[d2XX.P9P(1,S1G)][a1G];if(K1G){z1G=Math.log(o1G[S1G][a1G] / K1G);v1G.push(z1G);u1G+=z1G;if(S1G >= l1G.days){J63="Re";J63+="su";J63+="lt ";U3G=0;u1G/=l1G.days;for(var r1G=0;r1G < v1G.length;r1G++){U3G+=Math.pow(v1G[r1G] - u1G,2);}u1G*=l1G.days;u1G-=v1G.shift();o1G[S1G][J63 + l1G.name]=Math.sqrt(U3G / l1G.days) * g3G;}}o1G[S1G]["_state " + l1G.name]=[u1G,v1G.slice()];}};O1G.Studies.studyLibrary=O1G.extend(O1G.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:O1G.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:L63,"Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:"0.1" * 1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:O1G.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":+"10","Smoothing Period":14},outputs:{"Rel Vol":v63},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" << 1514307680,studyOverSoldColor:"auto"}}}});}};P6K=d3G=>{var E3G,V63,U5p,m5p,Q5p,t63;E3G=typeof _CIQ !== "undefined"?_CIQ:d3G.CIQ;if(!E3G.Studies){V63="volumeProfile featu";V63+="re re";V63+="quires first activati";V63+="ng studies feature.";console.error(V63);}else {E3G.Studies.displayVolumeProfile=function(c3G,P3G,I3G){var l9V=d2XX;var A63,m3G,X3G,N3G,M3G,R3G,O3G,D3G,l63,S63,W3G,F3G,j3G,w3G,J3G,b3G,B3G,G3G,n3G,V3G,k3G,C3G,h3G,L3G,e3G,V1p,S1p,l1p,s63;A63="stx_vo";A63+="lume_profile";if(!c3G || !c3G.chart.dataSet){return;}m3G=c3G.chart;X3G=P3G.parameters.numberOfBars;N3G=P3G.parameters.widthPercentage;M3G=P3G.parameters.displayBorder;R3G=P3G.parameters.displayVolume;if(!X3G || X3G < 0){X3G=+"30";}X3G=Math.ceil(X3G);if(!N3G || N3G < 0){N3G=0.25;}if(M3G !== !{}){M3G=!0;}if(R3G !== !0){R3G=! !0;}O3G=(m3G.highValue - m3G.lowValue) / X3G;if(O3G === 0){return;}D3G=[];for(var T3G=m3G.lowValue;T3G < m3G.highValue + 0.1;T3G+=O3G){D3G.push([T3G,0]);}if(D3G.length < 2){l63="Not enough dat";l63+="a to render ";l63+="the Volu";l63+="me Profile";S63="ch";S63+="ar";S63+="t";c3G.displayErrorAsWatermark(S63,c3G.translateIf(l63));return;}W3G=0;for(var s3G=0;s3G < I3G.length;s3G++){F3G=I3G[s3G];if(!F3G)continue;j3G=F3G.Volume;if(P3G.panel == m3G.name && F3G.transform){F3G=F3G.transform;}w3G=D3G[0][0];J3G=0;for(var Q3G=1;Q3G < D3G.length;Q3G++){J3G=D3G[Q3G][0];if(F3G.Low >= w3G && F3G.Low <= J3G || F3G.Low < w3G && F3G.High > J3G || F3G.High >= w3G && F3G.High <= J3G){D3G[Q3G][1]+=j3G;if(D3G[Q3G][1] > W3G){W3G=D3G[Q3G][1];}}w3G=J3G;}}if(W3G === 0){c3G.displayErrorAsWatermark("chart",c3G.translateIf("Not enough data to render the Volume Profile"));return;}c3G.setStyle("stx_volume_profile","color",E3G.Studies.determineColor(P3G.outputs["Bars Color"]));b3G=P3G.getContext(c3G);B3G="stx-float-date";c3G.canvasFont(B3G,b3G);G3G=c3G.getCanvasFontSize(B3G);n3G=m3G.panel;V3G=n3G.yAxis.bottom;k3G=Math.round(m3G.right) - 0.5;C3G=m3G.width * N3G;h3G=c3G.canvasStyle("stx_volume_profile").borderTopColor;L3G=!E3G.isTransparent(c3G.canvasStyle("stx_volume_profile").borderTopColor) && M3G;e3G=c3G;x3G(A63,!1);if(L3G){V1p=1015736534;l9V.H9P(15);S1p=-l9V.P9P("671433928",1);l1p=2;for(var s1p=1;l9V.e0p(s1p.toString(),s1p.toString().length,51194) !== V1p;s1p++){s63="stx_volume_p";s63+="rofil";s63+="e";x3G(s63,! !{});l1p+=2;}if(l9V.e0p(l1p.toString(),l1p.toString().length,+"73987") !== S1p){x3G("",![]);}}function x3G(a3G,q3G){var l3G,A3G,H3G,Y3G,t3G,o3G,u3G,S3G,v3G;if(!q3G){k3G-=2;}e3G.canvasColor(a3G);b3G.beginPath();l3G=D3G[0][0];l9V.E2V();A3G=k3G;for(var p3G=1;p3G < D3G.length;p3G++){if(D3G[p3G][1]){H3G=Math.round(k3G - D3G[p3G][1] * C3G / W3G) - ("0.5" - 0);Y3G=Math.round(e3G.pixelFromTransformedValue(l3G,n3G)) + 0.5;t3G=Math.round(e3G.pixelFromTransformedValue(D3G[p3G][0],n3G)) + 0.5;if(!q3G){Y3G-=0.5;t3G+=0.5;H3G+=0.5;}if(Y3G > V3G){Y3G=V3G;}if(t3G < V3G){b3G.moveTo(k3G,Y3G);b3G.lineTo(k3G,t3G);b3G.lineTo(H3G,t3G);b3G.lineTo(H3G,Y3G);if(q3G){if(A3G > H3G || p3G == 1){b3G.lineTo(A3G,Y3G);};}else {b3G.lineTo(k3G,Y3G);if(R3G){o3G=E3G.condenseInt(D3G[p3G][1]);l9V.d9P(3);u3G=l9V.j9P(t3G,Y3G);if(G3G <= u3G - 2){try{S3G=b3G.measureText(o3G).width;}catch(y3G){S3G=0;}b3G.textBaseline="top";v3G=b3G.fillStyle;b3G.fillStyle=h3G;l9V.d9P(91);b3G.fillText(o3G,l9V.P9P(S3G,H3G,"3",2147483647),l9V.P9P(u3G,2,t3G,2,G3G,l9V.H9P(92)));b3G.fillStyle=v3G;}}}}A3G=H3G;}else {A3G=k3G;;}l9V.H9P(19);l3G=D3G[p3G][l9V.P9P(2090042304,"0")];}if(!P3G.highlight && c3G.highlightedDraggable){b3G.globalAlpha*=0.3;}if(!q3G){b3G.fill();}b3G.strokeStyle=h3G;if(q3G){b3G.stroke();}b3G.closePath();}b3G.globalAlpha=1;};U5p=1690746733;m5p=+"736098520";Q5p=2;for(var b5p=1;d2XX.f0p(b5p.toString(),b5p.toString().length,54834) !== U5p;b5p++){t63="#b";t63+="6";t63+="4a96";E3G.Studies.studyLibrary=E3G.extend(E3G.Studies.studyLibrary,{"vol profile":{name:t63,underlay:!{},seriesFN:E3G.Studies.displayVolumeProfile,calculateFN:1,inputs:{},outputs:{"Bars Color":"Bars Color"},customRemoval:! !"",parameters:{init:{displayBorder:!{},displayVolume:! ![],numberOfBars:53,widthPercentage:"1193" << 1394847872}},attributes:{yaxisDisplayValue:{hidden:![]},panelName:{hidden:!{}},flippedEnabled:{hidden:!1}}}});Q5p+=2;}if(d2XX.f0p(Q5p.toString(),Q5p.toString().length,12930) !== m5p){E3G.Studies.studyLibrary=E3G.extend(E3G.Studies.studyLibrary,{"vol profile":{name:"#b64a96",underlay:!"1",seriesFN:E3G.Studies.displayVolumeProfile,calculateFN:1,inputs:{},outputs:{"Bars Color":"Bars Color"},customRemoval:!1,parameters:{init:{displayBorder:! !0,displayVolume:! !"1",numberOfBars:53,widthPercentage:1193}},attributes:{yaxisDisplayValue:{hidden:!1},panelName:{hidden:![]},flippedEnabled:{hidden:!1}}}});}E3G.Studies.studyLibrary=E3G.extend(E3G.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !1,seriesFN:E3G.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !1,parameters:{init:{displayBorder:! !{},displayVolume:!"1",numberOfBars:"30" << 1288638112,widthPercentage:+"0.25"}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !1}}}});}};k6K=Z3G=>{var r3G,T33,z33,g33,b33,R33,Q33,m33,U33,D33,x33;r3G=typeof _CIQ !== "undefined"?_CIQ:Z3G.CIQ;if(!r3G.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {T33="#b";T33+="82c0";T33+="c";z33="#8cc";z33+="17";z33+="6";g33="Volume U";g33+="nderlay";b33="f";b33+="i";b33+="e";b33+="ld";R33="Pr";R33+="i";R33+="ce Volume Trend";Q33="#FF0";Q33+="000";m33="aut";m33+="o";U33="m";U33+="a";D33="O";D33+="n ";D33+="Balance Volum";D33+="e";x33="m";x33+="a";r3G.Studies.calculateOnBalanceVolume=function(j4G,f4G){var f63,e63,K3G,b4G,G4G,X4G,T4G,m4G,n4G,O4G;f63="C";f63+="los";f63+="e";e63="f";e63+="ield";K3G=f4G.inputs.Field;d2XX.E2V();if(!K3G || K3G == e63){K3G=f63;}b4G=f4G.inputs["Min Tick Value"];G4G=!{};if(!b4G && b4G !== 0){G4G=!0;b4G=+"0";}X4G=f4G.chart.scrubbed;T4G=0;for(var z3G=f4G.startFrom;z3G < X4G.length;z3G++){m4G=X4G[z3G];if(!z3G || !m4G[K3G])continue;if(X4G[z3G - 1][K3G]){d2XX.d9P(53);n4G=X4G[d2XX.j9P(z3G,"1",0)];}if(!n4G)continue;if(m4G[K3G] - n4G[K3G] > b4G){T4G=1;}else if(n4G[K3G] - m4G[K3G] > b4G){T4G=-1;}else if(G4G){T4G=0;}O4G=n4G["Result " + f4G.name];if(!O4G){O4G=0;}O4G+=m4G.Volume * T4G;m4G["Result " + f4G.name]=O4G;}};r3G.Studies.calculatePriceVolumeTrend=function(U5G,r4G){var E63,S4G,p4G,K4G,i1p,Y1p,J1p,O33;E63="C";E63+="l";E63+="os";E63+="e";S4G=r4G.inputs.Field;if(!S4G || S4G == "field"){S4G=E63;}p4G=r4G.chart.scrubbed;K4G=0;if(r4G.startFrom > 1){i1p=-789619828;Y1p=1045974025;J1p=2;for(var v1p=1;d2XX.e0p(v1p.toString(),v1p.toString().length,97202) !== i1p;v1p++){K4G=p4G[r4G.startFrom + 9]["" - r4G.name];J1p+=2;}if(d2XX.e0p(J1p.toString(),J1p.toString().length,14344) !== Y1p){K4G=p4G[r4G.startFrom - 1]["Result " + r4G.name];}}for(var l4G=Math.max(1,r4G.startFrom);l4G < p4G.length;l4G++){O33="R";O33+="e";O33+="sult ";if(!p4G[l4G][S4G])continue;if(!p4G[l4G - +"1"][S4G])continue;K4G+=p4G[l4G].Volume * (p4G[l4G][S4G] - p4G[l4G - 1][S4G]) / p4G[l4G - 1][S4G];p4G[l4G][O33 + r4G.name]=K4G;}};r3G.Studies.calculateVolumeIndex=function(m5G,g5G){var c9V=d2XX;var h33,o33,b5G,i5G,D5G,a33,E5G,c5G,d5G,F5G;h33="M";h33+="A";o33="Ind";o33+="ex ";b5G=g5G.inputs.Field;if(!b5G || b5G == "field"){b5G="Close";}i5G=g5G.chart.scrubbed;if(i5G.length < g5G.days + 1){g5G.error=! !1;return;}D5G=+"100";if(g5G.startFrom > +"1"){D5G=i5G[g5G.startFrom - 1]["Index " + g5G.name];}for(var f5G=Math.max(1,g5G.startFrom);f5G < i5G.length;f5G++){a33="Neg";a33+=" Vo";a33+="l";E5G=i5G[f5G][b5G];c5G=i5G[f5G].Volume;if(E5G && typeof E5G == "object"){c5G=E5G.Volume;E5G=E5G[g5G.subField];}c9V.H9P(3);d5G=i5G[c9V.j9P(1,f5G)][b5G];F5G=i5G[f5G - 1].Volume;if(d5G && typeof d5G == "object"){F5G=d5G.Volume;d5G=d5G[g5G.subField];}if(!E5G)continue;if(!d5G)continue;if(g5G.type == "Pos Vol" && c5G > F5G || g5G.type == a33 && c5G < F5G){c9V.H9P(10);D5G*=c9V.j9P(E5G,d5G);}i5G[f5G]["Index " + g5G.name]=D5G;}r3G.Studies.MA(g5G.inputs["Moving Average Type"],g5G.days,o33 + g5G.name,0,h33,m5G,g5G);};r3G.Studies.studyLibrary=r3G.extend(r3G.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:r3G.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":x33},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:D33,calculateFN:r3G.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:r3G.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":U33},outputs:{Index:m33,MA:Q33}},"Price Vol":{name:R33,calculateFN:r3G.Studies.calculatePriceVolumeTrend,inputs:{Field:b33}},"Trade Vol":{name:"Trade Volume Index",calculateFN:r3G.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":"0.5" - 0}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(P5G,k5G){d2XX.E2V();var p5p,B5p,F5p,H33;if(r3G.Studies.calculateRateOfChange){r3G.Studies.calculateRateOfChange(P5G,k5G);}else {p5p=1717183770;B5p=-1602707021;F5p=2;for(var n5p=1;d2XX.f0p(n5p.toString(),n5p.toString().length,62313) !== p5p;n5p++){console.error("");F5p+=2;}if(d2XX.f0p(F5p.toString(),F5p.toString().length,9627) !== B5p){H33="Volume Rate of Change study req";H33+="uires first activating momentum featur";H33+="e.";console.error(H33);}r3G.Studies.calculateRateOfChange=function(X5G,Q5G){};}},parameters:{init:{isVolume:! !"1"}}},"vol undr":{name:g33,underlay:! !"1",range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:r3G.Studies.createVolumeChart,calculateFN:r3G.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":z33,"Down Volume":T33},customRemoval:!0,removeFN:function(J5G,N5G){d2XX.E2V();J5G.layout.volumeUnderlay=!1;J5G.changeOccurred("layout");},attributes:{panelName:{hidden:! !"1"}}}});}};X6K=w5G=>{var W5G,q33,P33;W5G=typeof _CIQ !== "undefined"?_CIQ:w5G.CIQ;if(!W5G.Studies){console.error("vortex feature requires first activating studies feature.");}else {q33="0.";q33+="0";q33+="1";P33="#00";P33+="FF00";W5G.Studies.calculateVortex=function(h5G,M5G){var S9V=d2XX;var n5G,V5G,R5G,W33,T5G,e5G,O5G,B5G,G5G,N33,M33,K33,c33;n5G=M5G.chart.scrubbed;V5G=M5G.days;S9V.E2V();if(n5G.length < V5G + 1){M5G.error=! !"1";return;}R5G={tr:0,vmPlus:0,vmMinus:0};if(M5G.startFrom > 1){W33="_tota";W33+="ls ";R5G=W5G.clone(n5G[M5G.startFrom - 1][W33 + M5G.name]);}for(var s5G=Math.max(M5G.startFrom,+"1");s5G < n5G.length;s5G++){T5G=n5G[s5G];S9V.d9P(3);e5G=n5G[S9V.j9P(1,s5G)];O5G=Math.abs(T5G.High - e5G.Low);B5G=Math.abs(T5G.Low - e5G.High);G5G=Math.max(T5G.High,e5G.Close) - Math.min(T5G.Low,e5G.Close);R5G.tr+=G5G;R5G.vmPlus+=O5G;R5G.vmMinus+=B5G;if(s5G > V5G){N33="_V";N33+="MMinus ";M33="_";M33+="VMPl";M33+="us";M33+=" ";K33="_True Ra";K33+="ng";K33+="e";K33+=" ";S9V.d9P(3);R5G.tr-=n5G[S9V.j9P(V5G,s5G)][K33 + M5G.name];S9V.d9P(3);R5G.vmPlus-=n5G[S9V.j9P(V5G,s5G)][M33 + M5G.name];S9V.H9P(3);R5G.vmMinus-=n5G[S9V.P9P(V5G,s5G)][N33 + M5G.name];}T5G["_True Range " + M5G.name]=G5G;T5G["_VMPlus " + M5G.name]=O5G;T5G["_VMMinus " + M5G.name]=B5G;if(s5G >= V5G){c33="-";c33+="V";c33+="I";c33+=" ";T5G["+VI " + M5G.name]=R5G.vmPlus / R5G.tr;T5G[c33 + M5G.name]=R5G.vmMinus / R5G.tr;}T5G["_totals " + M5G.name]=W5G.clone(R5G);}};W5G.Studies.studyLibrary=W5G.extend(W5G.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:W5G.Studies.calculateVortex,centerline:1,outputs:{"+VI":P33,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:"0.9" * 1,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"1" << 317496928,step:q33},studyOverSoldValue:{max:"1" | 1,step:"0.01"}}}});}};Q6K=j5G=>{var I5G;I5G=typeof _CIQ !== "undefined"?_CIQ:j5G.CIQ;if(!I5G.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {I5G.Studies.calculateMFI=function(q5G,C5G){var Z33,L5G,H5G,p5G,Y5G,t5G,x5G;Z33="_hi";Z33+="gh ";L5G=C5G.chart.scrubbed;d2XX.i2V();p5G=0;Y5G=C5G.inputs["Scale Factor"];if(!Y5G){Y5G=C5G.study.inputs["Scale Factor"];}t5G=Math.pow(10,Number(Y5G));if(C5G.startFrom > 1){p5G=L5G[C5G.startFrom - +"1"][Z33 + C5G.name];}for(x5G=C5G.startFrom;x5G < L5G.length;x5G++){if(!L5G[x5G])continue;if(L5G[x5G].Volume){L5G[x5G][C5G.name + "_hist"]=H5G=t5G * (L5G[x5G].High - L5G[x5G].Low) / L5G[x5G].Volume;L5G[x5G]["_high " + C5G.name]=p5G=Math.max(p5G,H5G);}}C5G.outputMap={};C5G.outputMap[C5G.name + "_hist"]="";};I5G.Studies.displayMFI=function(l5G,A5G,r5G){var k9V=d2XX;var w33,Z5G,S5G,y5G,K5G,a5G,z5G,U7G,g7G,i7G,I33,o5G,u5G;w33="stx_h";w33+="i";w33+="st";w33+="ogram";Z5G=l5G.panels[A5G.panel];S5G=A5G.getContext(l5G);y5G=A5G.getYAxis(l5G);K5G=y5G.flipped?y5G.top:y5G.bottom;a5G=l5G.layout.candleWidth - 2;if(a5G < +"2"){a5G=1;}z5G=I5G.Studies.determineColor(A5G.outputs.Green);U7G=I5G.Studies.determineColor(A5G.outputs.Fade);g7G=I5G.Studies.determineColor(A5G.outputs.Fake);i7G=I5G.Studies.determineColor(A5G.outputs.Squat);l5G.canvasColor(w33);k9V.E2V();if(!A5G.underlay){k9V.d9P(27);S5G.globalAlpha=k9V.j9P("1",1466345728);}S5G.fillStyle="#CCCCCC";l5G.startClip(A5G.panel);if(!A5G.highlight && l5G.highlightedDraggable){S5G.globalAlpha*=0.3;}for(var v5G="0" & 2147483647;v5G < r5G.length;v5G++){I33="_hi";I33+="st";o5G=r5G[v5G];k9V.d9P(3);u5G=r5G[k9V.j9P(1,v5G)];if(!u5G){u5G=l5G.getPreviousBar(l5G.chart,A5G.name + "_hist",v5G);}if(!o5G)continue;if(!u5G);else if(u5G[A5G.name + "_hist"] < o5G[A5G.name + "_hist"]){if(u5G.Volume < o5G.Volume){S5G.fillStyle=z5G;}else if(u5G.Volume > o5G.Volume){S5G.fillStyle=g7G;}}else if(u5G[A5G.name + "_hist"] > o5G[A5G.name + "_hist"]){if(u5G.Volume < o5G.Volume){S5G.fillStyle=i7G;}else if(u5G.Volume > o5G.Volume){S5G.fillStyle=U7G;}}if(o5G.candleWidth){a5G=Math.floor(Math.max(+"1",o5G.candleWidth - 2));}S5G.fillRect(Math.floor(l5G.pixelFromBar(v5G,Z5G.chart) - a5G / 2),Math.floor(K5G),Math.floor(a5G),Math.floor(l5G.pixelFromPrice(o5G[A5G.name + I33],Z5G,y5G) - K5G));}l5G.endClip();};I5G.Studies.studyLibrary=I5G.extend(I5G.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:I5G.Studies.displayMFI,calculateFN:I5G.Studies.calculateMFI,yAxis:{ground:! !{}},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};M6K={CIQ:K4K,SplinePlotter:J6K,timezoneJS:N6K,$$:W6K,$$$:w6K};export {z4K as aggregations};export {U5K as drawingAdvanced};export {g5K as equationsAdvanced};export {i5K as highPerformanceMarkers};export {f5K as renderersAdvanced};export {E5K as accumulationDistribution};export {d5K as adx};export {b5K as alligator};export {D5K as aroon};export {c5K as atr};export {F5K as awesomeOscillator};export {m5K as balanceOfPower};export {P5K as bollinger};export {k5K as cci};export {X5K as centerOfGravity};export {Q5K as chaikin};export {J5K as chande};export {N5K as choppiness};export {W5K as comparisonStudies};export {w5K as coppock};export {M5K as darvasBox};export {R5K as detrended};export {T5K as disparity};export {s5K as easeOfMovement};export {n5K as ehlerFisher};export {V5K as elder};export {e5K as fractalChaos};export {O5K as highLowStudies};export {B5K as ichimoku};export {G5K as intradayMomentum};export {h5K as keltner};export {I5K as klinger};export {j5K as linearRegression};export {C5K as macd};export {L5K as massIndex};export {x5K as moneyFlow};export {p5K as movingAverages};export {Y5K as parabolicSAR};export {H5K as pivotPoints};export {t5K as prettyGoodOscillator};export {q5K as priceMomentumOscillator};export {A5K as priceVolumeOscillator};export {l5K as primeNumber};export {o5K as pring};export {u5K as projectedVolume};export {S5K as psychologicalLine};export {v5K as qstick};export {a5K as rainbow};export {y5K as randomWalk};export {r5K as relativeVigor};export {Z5K as rsi};export {K5K as schaffTrendCycle};export {z5K as shinohara};export {U6K as stochastics};export {g6K as supertrend};export {i6K as swingIndex};export {f6K as trendIntensity};export {E6K as trix};export {d6K as twiggsMoneyFlow};export {b6K as typicalPrice};d2XX.E2V();export {D6K as ulcerIndex};export {c6K as ultimateOscillator};export {F6K as valuationLines};export {m6K as volatilityIndex};export {P6K as volumeProfile};export {k6K as volumeStudies};export {X6K as vortex};export {Q6K as williamsMFI};export {K4K as CIQ, J6K as SplinePlotter, N6K as timezoneJS, W6K as $$, w6K as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(M6K.CIQ || K4K).activateImports(z4K,U5K,g5K,i5K,f5K,E5K,d5K,b5K,D5K,c5K,F5K,m5K,P5K,k5K,X5K,Q5K,J5K,N5K,W5K,w5K,M5K,R5K,T5K,s5K,n5K,V5K,e5K,O5K,B5K,G5K,h5K,I5K,j5K,C5K,L5K,x5K,p5K,Y5K,H5K,t5K,q5K,A5K,l5K,o5K,u5K,S5K,v5K,a5K,y5K,r5K,Z5K,K5K,z5K,U6K,g6K,i6K,f6K,E6K,d6K,b6K,D6K,c6K,F6K,m6K,P6K,k6K,X6K,Q6K,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
